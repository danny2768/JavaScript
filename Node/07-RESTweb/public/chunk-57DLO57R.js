import{$ as js,A as Oe,B as Rs,C as Wi,D as It,E as Os,F as zi,G as _n,H as bn,I as at,J as ot,K as ft,L as Fs,M as xe,N as He,O as Ds,P as Is,Q as Ns,R as ht,S as yn,T as Bs,U as vn,V as An,W as Vs,X as Hi,Y as Us,a as Le,aa as Ws,b as ri,ba as zs,c as pn,ca as Sn,d as Re,e as Ss,ea as Hs,f as dt,fa as Gs,g as xs,h as gn,i as Rt,j as Ps,k as Es,l as Pt,m as ws,n as ai,o as pe,p as Zt,q as oi,r as Cs,s as Ts,t as Ms,u as mn,v as ks,w as ji,x as Ls,y as Dt,z as Se}from"./chunk-KMTAH7TL.js";var xn=Re(()=>{"use strict"});var qs=Re(()=>{"use strict"});var Xs=Re(()=>{"use strict"});var Ys=Re(()=>{"use strict"});var $s=Re(()=>{"use strict"});var Ks=Re(()=>{"use strict"});var Pn=Re((exports,module)=>{"use strict";(function(t,i){typeof exports=="object"&&typeof module=="object"?module.exports=i():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],i):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=i():t["pdfjs-dist/build/pdf"]=t.pdfjsLib=i()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=et,t.arraysToBytes=nt,t.assert=U,t.bytesToString=J,t.createPromiseCapability=vi,t.createValidAbsoluteUrl=P,t.escapeString=fe,t.getModificationDate=We,t.getVerbosityLevel=M,t.info=E,t.isArrayBuffer=$t,t.isArrayEqual=Ae,t.isAscii=Ft,t.objectFromMap=rt,t.objectSize=lt,t.setVerbosityLevel=z,t.shadow=D,t.string32=st,t.stringToBytes=tt,t.stringToPDFString=Lt,t.stringToUTF16BEString=Tt,t.stringToUTF8String=Yt,t.unreachable=N,t.utf8StringToString=Ut,t.warn=w,i(2);let e=[1,0,0,1,0,0];t.IDENTITY_MATRIX=e;let n=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=n;let s=1.35;t.LINE_FACTOR=s;let a=.35;t.LINE_DESCENT_FACTOR=a;let r={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=r;let l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=l;let d="pdfjs_internal_editor_";t.AnnotationEditorPrefix=d;let o={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};t.AnnotationEditorType=o;let c={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};t.AnnotationEditorParamsType=c;let f={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=f;let p={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=p;let u={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=u;let h={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=h;let m={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=m;let x={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=x;let y={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=y;let T={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=T;let S={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=S;let _={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=_;let b={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=b;let C={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=C;let F={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=F;let I={O:"PageOpen",C:"PageClose"};t.PageActionEventType=I;let v={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=v;let R={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=R;let X={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=X;let V={NONE:0,BINARY:1,STREAM:2};t.CMapCompressionType=V;let L={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=L;let k={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};t.UNSUPPORTED_FEATURES=k;let O={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=O;let j=X.WARNINGS;function z(it){Number.isInteger(it)&&(j=it)}function M(){return j}function E(it){j>=X.INFOS&&console.log(`Info: ${it}`)}function w(it){j>=X.WARNINGS&&console.log(`Warning: ${it}`)}function N(it){throw new Error(it)}function U(it,Z){it||N(Z)}function g(it){if(!it)return!1;switch(it.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function P(it,Z=null,Q=null){if(!it)return null;try{if(Q&&typeof it=="string"){if(Q.addDefaultProtocol&&it.startsWith("www.")){let pt=it.match(/\./g);pt&&pt.length>=2&&(it=`http://${it}`)}if(Q.tryConvertEncoding)try{it=Yt(it)}catch{}}let ct=Z?new URL(it,Z):new URL(it);if(g(ct))return ct}catch{}return null}function D(it,Z,Q){return Object.defineProperty(it,Z,{value:Q,enumerable:!0,configurable:!0,writable:!1}),Q}let B=function(){function Z(Q,ct){this.constructor===Z&&N("Cannot initialize BaseException."),this.message=Q,this.name=ct}return Z.prototype=new Error,Z.constructor=Z,Z}();t.BaseException=B;class W extends B{constructor(Z,Q){super(Z,"PasswordException"),this.code=Q}}t.PasswordException=W;class H extends B{constructor(Z,Q){super(Z,"UnknownErrorException"),this.details=Q}}t.UnknownErrorException=H;class G extends B{constructor(Z){super(Z,"InvalidPDFException")}}t.InvalidPDFException=G;class $ extends B{constructor(Z){super(Z,"MissingPDFException")}}t.MissingPDFException=$;class K extends B{constructor(Z,Q){super(Z,"UnexpectedResponseException"),this.status=Q}}t.UnexpectedResponseException=K;class Y extends B{constructor(Z){super(Z,"FormatError")}}t.FormatError=Y;class q extends B{constructor(Z){super(Z,"AbortException")}}t.AbortException=q;function J(it){(typeof it!="object"||it===null||it.length===void 0)&&N("Invalid argument for bytesToString");let Z=it.length,Q=8192;if(Z<Q)return String.fromCharCode.apply(null,it);let ct=[];for(let pt=0;pt<Z;pt+=Q){let vt=Math.min(pt+Q,Z),yt=it.subarray(pt,vt);ct.push(String.fromCharCode.apply(null,yt))}return ct.join("")}function tt(it){typeof it!="string"&&N("Invalid argument for stringToBytes");let Z=it.length,Q=new Uint8Array(Z);for(let ct=0;ct<Z;++ct)Q[ct]=it.charCodeAt(ct)&255;return Q}function et(it){if(it.length!==void 0)return it.length;if(it.byteLength!==void 0)return it.byteLength;N("Invalid argument for arrayByteLength")}function nt(it){let Z=it.length;if(Z===1&&it[0]instanceof Uint8Array)return it[0];let Q=0;for(let vt=0;vt<Z;vt++)Q+=et(it[vt]);let ct=0,pt=new Uint8Array(Q);for(let vt=0;vt<Z;vt++){let yt=it[vt];yt instanceof Uint8Array||(typeof yt=="string"?yt=tt(yt):yt=new Uint8Array(yt));let ge=yt.byteLength;pt.set(yt,ct),ct+=ge}return pt}function st(it){return String.fromCharCode(it>>24&255,it>>16&255,it>>8&255,it&255)}function lt(it){return Object.keys(it).length}function rt(it){let Z=Object.create(null);for(let[Q,ct]of it)Z[Q]=ct;return Z}function gt(){let it=new Uint8Array(4);return it[0]=1,new Uint32Array(it.buffer,0,1)[0]===1}function _t(){try{return new Function(""),!0}catch{return!1}}class ut{static get isLittleEndian(){return D(this,"isLittleEndian",gt())}static get isEvalSupported(){return D(this,"isEvalSupported",_t())}static get isOffscreenCanvasSupported(){return D(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}t.FeatureTest=ut;let bt=[...Array(256).keys()].map(it=>it.toString(16).padStart(2,"0"));class Ct{static makeHexColor(Z,Q,ct){return`#${bt[Z]}${bt[Q]}${bt[ct]}`}static scaleMinMax(Z,Q){let ct;Z[0]?(Z[0]<0&&(ct=Q[0],Q[0]=Q[1],Q[1]=ct),Q[0]*=Z[0],Q[1]*=Z[0],Z[3]<0&&(ct=Q[2],Q[2]=Q[3],Q[3]=ct),Q[2]*=Z[3],Q[3]*=Z[3]):(ct=Q[0],Q[0]=Q[2],Q[2]=ct,ct=Q[1],Q[1]=Q[3],Q[3]=ct,Z[1]<0&&(ct=Q[2],Q[2]=Q[3],Q[3]=ct),Q[2]*=Z[1],Q[3]*=Z[1],Z[2]<0&&(ct=Q[0],Q[0]=Q[1],Q[1]=ct),Q[0]*=Z[2],Q[1]*=Z[2]),Q[0]+=Z[4],Q[1]+=Z[4],Q[2]+=Z[5],Q[3]+=Z[5]}static transform(Z,Q){return[Z[0]*Q[0]+Z[2]*Q[1],Z[1]*Q[0]+Z[3]*Q[1],Z[0]*Q[2]+Z[2]*Q[3],Z[1]*Q[2]+Z[3]*Q[3],Z[0]*Q[4]+Z[2]*Q[5]+Z[4],Z[1]*Q[4]+Z[3]*Q[5]+Z[5]]}static applyTransform(Z,Q){let ct=Z[0]*Q[0]+Z[1]*Q[2]+Q[4],pt=Z[0]*Q[1]+Z[1]*Q[3]+Q[5];return[ct,pt]}static applyInverseTransform(Z,Q){let ct=Q[0]*Q[3]-Q[1]*Q[2],pt=(Z[0]*Q[3]-Z[1]*Q[2]+Q[2]*Q[5]-Q[4]*Q[3])/ct,vt=(-Z[0]*Q[1]+Z[1]*Q[0]+Q[4]*Q[1]-Q[5]*Q[0])/ct;return[pt,vt]}static getAxialAlignedBoundingBox(Z,Q){let ct=Ct.applyTransform(Z,Q),pt=Ct.applyTransform(Z.slice(2,4),Q),vt=Ct.applyTransform([Z[0],Z[3]],Q),yt=Ct.applyTransform([Z[2],Z[1]],Q);return[Math.min(ct[0],pt[0],vt[0],yt[0]),Math.min(ct[1],pt[1],vt[1],yt[1]),Math.max(ct[0],pt[0],vt[0],yt[0]),Math.max(ct[1],pt[1],vt[1],yt[1])]}static inverseTransform(Z){let Q=Z[0]*Z[3]-Z[1]*Z[2];return[Z[3]/Q,-Z[1]/Q,-Z[2]/Q,Z[0]/Q,(Z[2]*Z[5]-Z[4]*Z[3])/Q,(Z[4]*Z[1]-Z[5]*Z[0])/Q]}static apply3dTransform(Z,Q){return[Z[0]*Q[0]+Z[1]*Q[1]+Z[2]*Q[2],Z[3]*Q[0]+Z[4]*Q[1]+Z[5]*Q[2],Z[6]*Q[0]+Z[7]*Q[1]+Z[8]*Q[2]]}static singularValueDecompose2dScale(Z){let Q=[Z[0],Z[2],Z[1],Z[3]],ct=Z[0]*Q[0]+Z[1]*Q[2],pt=Z[0]*Q[1]+Z[1]*Q[3],vt=Z[2]*Q[0]+Z[3]*Q[2],yt=Z[2]*Q[1]+Z[3]*Q[3],ge=(ct+yt)/2,ni=Math.sqrt((ct+yt)**2-4*(ct*yt-vt*pt))/2,ze=ge+ni||1,Jt=ge-ni||1;return[Math.sqrt(ze),Math.sqrt(Jt)]}static normalizeRect(Z){let Q=Z.slice(0);return Z[0]>Z[2]&&(Q[0]=Z[2],Q[2]=Z[0]),Z[1]>Z[3]&&(Q[1]=Z[3],Q[3]=Z[1]),Q}static intersect(Z,Q){let ct=Math.max(Math.min(Z[0],Z[2]),Math.min(Q[0],Q[2])),pt=Math.min(Math.max(Z[0],Z[2]),Math.max(Q[0],Q[2]));if(ct>pt)return null;let vt=Math.max(Math.min(Z[1],Z[3]),Math.min(Q[1],Q[3])),yt=Math.min(Math.max(Z[1],Z[3]),Math.max(Q[1],Q[3]));return vt>yt?null:[ct,vt,pt,yt]}static bezierBoundingBox(Z,Q,ct,pt,vt,yt,ge,ni){let ze=[],Jt=[[],[]],si,ke,Bi,Bt,Vi,Ui,dn,un;for(let fn=0;fn<2;++fn){if(fn===0?(ke=6*Z-12*ct+6*vt,si=-3*Z+9*ct-9*vt+3*ge,Bi=3*ct-3*Z):(ke=6*Q-12*pt+6*yt,si=-3*Q+9*pt-9*yt+3*ni,Bi=3*pt-3*Q),Math.abs(si)<1e-12){if(Math.abs(ke)<1e-12)continue;Bt=-Bi/ke,0<Bt&&Bt<1&&ze.push(Bt);continue}dn=ke*ke-4*Bi*si,un=Math.sqrt(dn),!(dn<0)&&(Vi=(-ke+un)/(2*si),0<Vi&&Vi<1&&ze.push(Vi),Ui=(-ke-un)/(2*si),0<Ui&&Ui<1&&ze.push(Ui))}let Ai=ze.length,ae,Si=Ai;for(;Ai--;)Bt=ze[Ai],ae=1-Bt,Jt[0][Ai]=ae*ae*ae*Z+3*ae*ae*Bt*ct+3*ae*Bt*Bt*vt+Bt*Bt*Bt*ge,Jt[1][Ai]=ae*ae*ae*Q+3*ae*ae*Bt*pt+3*ae*Bt*Bt*yt+Bt*Bt*Bt*ni;return Jt[0][Si]=Z,Jt[1][Si]=Q,Jt[0][Si+1]=ge,Jt[1][Si+1]=ni,Jt[0].length=Jt[1].length=Si+2,[Math.min(...Jt[0]),Math.min(...Jt[1]),Math.max(...Jt[0]),Math.max(...Jt[1])]}}t.Util=Ct;let Xt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Lt(it){if(it[0]>="\xEF"){let Q;if(it[0]==="\xFE"&&it[1]==="\xFF"?Q="utf-16be":it[0]==="\xFF"&&it[1]==="\xFE"?Q="utf-16le":it[0]==="\xEF"&&it[1]==="\xBB"&&it[2]==="\xBF"&&(Q="utf-8"),Q)try{let ct=new TextDecoder(Q,{fatal:!0}),pt=tt(it);return ct.decode(pt)}catch(ct){w(`stringToPDFString: "${ct}".`)}}let Z=[];for(let Q=0,ct=it.length;Q<ct;Q++){let pt=Xt[it.charCodeAt(Q)];Z.push(pt?String.fromCharCode(pt):it.charAt(Q))}return Z.join("")}function fe(it){return it.replace(/([()\\\n\r])/g,Z=>Z===`
`?"\\n":Z==="\r"?"\\r":`\\${Z}`)}function Ft(it){return/^[\x00-\x7F]*$/.test(it)}function Tt(it){let Z=["\xFE\xFF"];for(let Q=0,ct=it.length;Q<ct;Q++){let pt=it.charCodeAt(Q);Z.push(String.fromCharCode(pt>>8&255),String.fromCharCode(pt&255))}return Z.join("")}function Yt(it){return decodeURIComponent(escape(it))}function Ut(it){return unescape(encodeURIComponent(it))}function $t(it){return typeof it=="object"&&it!==null&&it.byteLength!==void 0}function Ae(it,Z){if(it.length!==Z.length)return!1;for(let Q=0,ct=it.length;Q<ct;Q++)if(it[Q]!==Z[Q])return!1;return!0}function We(it=new Date){return[it.getUTCFullYear().toString(),(it.getUTCMonth()+1).toString().padStart(2,"0"),it.getUTCDate().toString().padStart(2,"0"),it.getUTCHours().toString().padStart(2,"0"),it.getUTCMinutes().toString().padStart(2,"0"),it.getUTCSeconds().toString().padStart(2,"0")].join("")}function vi(){let it=Object.create(null),Z=!1;return Object.defineProperty(it,"settled",{get(){return Z}}),it.promise=new Promise(function(Q,ct){it.resolve=function(pt){Z=!0,Q(pt)},it.reject=function(pt){Z=!0,ct(pt)}}),it}},(A,t,i)=>{var e=i(3)},(A,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;let i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=i},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){let{NodeCanvasFactory:A,NodeCMapReaderFactory:t,NodeStandardFontDataFactory:i}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=A,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=t,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=i}let createPDFNetworkStream;function setPDFNetworkStreamFactory(A){createPDFNetworkStream=A}function getDocument(A){let t=new PDFDocumentLoadingTask,i;if(typeof A=="string"||A instanceof URL)i={url:A};else if((0,_util.isArrayBuffer)(A))i={data:A};else if(A instanceof PDFDataRangeTransport)i={range:A};else{if(typeof A!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!A.url&&!A.data&&!A.range)throw new Error("Invalid parameter object: need either .data, .range or .url");i=A}let e=Object.create(null),n=null,s=null;for(let r in i){let l=i[r];switch(r){case"url":if(typeof window<"u")try{e[r]=new URL(l,window.location).href;continue}catch(d){(0,_util.warn)(`Cannot create valid URL: "${d}".`)}else if(typeof l=="string"||l instanceof URL){e[r]=l.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":n=l;continue;case"worker":s=l;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&l instanceof Buffer)e[r]=new Uint8Array(l);else{if(l instanceof Uint8Array)break;if(typeof l=="string")e[r]=(0,_util.stringToBytes)(l);else if(typeof l=="object"&&l!==null&&!isNaN(l.length))e[r]=new Uint8Array(l);else if((0,_util.isArrayBuffer)(l))e[r]=new Uint8Array(l);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}e[r]=l}if(e.CMapReaderFactory=e.CMapReaderFactory||DefaultCMapReaderFactory,e.StandardFontDataFactory=e.StandardFontDataFactory||DefaultStandardFontDataFactory,e.ignoreErrors=e.stopAtErrors!==!0,e.fontExtraProperties=e.fontExtraProperties===!0,e.pdfBug=e.pdfBug===!0,e.enableXfa=e.enableXfa===!0,(!Number.isInteger(e.rangeChunkSize)||e.rangeChunkSize<1)&&(e.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof e.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(e.docBaseUrl))&&(e.docBaseUrl=null),(!Number.isInteger(e.maxImageSize)||e.maxImageSize<-1)&&(e.maxImageSize=-1),typeof e.cMapUrl!="string"&&(e.cMapUrl=null),typeof e.standardFontDataUrl!="string"&&(e.standardFontDataUrl=null),typeof e.useWorkerFetch!="boolean"&&(e.useWorkerFetch=e.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&e.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof e.isEvalSupported!="boolean"&&(e.isEvalSupported=!0),typeof e.disableFontFace!="boolean"&&(e.disableFontFace=_is_node.isNodeJS),typeof e.useSystemFonts!="boolean"&&(e.useSystemFonts=!_is_node.isNodeJS&&!e.disableFontFace),(typeof e.ownerDocument!="object"||e.ownerDocument===null)&&(e.ownerDocument=globalThis.document),typeof e.disableRange!="boolean"&&(e.disableRange=!1),typeof e.disableStream!="boolean"&&(e.disableStream=!1),typeof e.disableAutoFetch!="boolean"&&(e.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(e.verbosity),!s){let r={verbosity:e.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};s=r.port?PDFWorker.fromPort(r):new PDFWorker(r),t._worker=s}let a=t.docId;return s.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");let r=_fetchDocument(s,e,n,a),l=new Promise(function(d){let o;n?o=new _transport_stream.PDFDataTransportStream({length:e.length,initialData:e.initialData,progressiveDone:e.progressiveDone,contentDispositionFilename:e.contentDispositionFilename,disableRange:e.disableRange,disableStream:e.disableStream},n):e.data||(o=createPDFNetworkStream({url:e.url,length:e.length,httpHeaders:e.httpHeaders,withCredentials:e.withCredentials,rangeChunkSize:e.rangeChunkSize,disableRange:e.disableRange,disableStream:e.disableStream})),d(o)});return Promise.all([r,l]).then(function([d,o]){if(t.destroyed)throw new Error("Loading aborted");let c=new _message_handler.MessageHandler(a,d,s.port),f=new WorkerTransport(c,t,o,e);t._transport=f,c.send("Ready",null)})}).catch(t._capability.reject),t}function _fetchDocument(A,t,i,e){return dt(this,null,function*(){if(A.destroyed)throw new Error("Worker was destroyed");i&&(t.length=i.length,t.initialData=i.initialData,t.progressiveDone=i.progressiveDone,t.contentDispositionFilename=i.contentDispositionFilename);let n=yield A.messageHandler.sendWithPromise("GetDocRequest",{docId:e,apiVersion:"2.16.105",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});if(t.data&&(t.data=null),A.destroyed)throw new Error("Worker was destroyed");return n})}class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#t++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return dt(this,null,function*(){this.destroyed=!0,yield this._transport?.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,i,e=!1,n=null){this.length=t,this.initialData=i,this.progressiveDone=e,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,i){for(let e of this._rangeListeners)e(t,i)}onDataProgress(t,i){this._readyCapability.promise.then(()=>{for(let e of this._progressListeners)e(t,i)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(let i of this._progressiveReadListeners)i(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,i){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,i){this._pdfInfo=t,this._transport=i,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:()=>dt(this,null,function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,i,e,n,s=!1){this._pageIndex=t,this._pageInfo=i,this._ownerDocument=n,this._transport=e,this._stats=s?new _display_utils.StatTimer:null,this._pdfBug=s,this.commonObjs=e.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:i=this.rotate,offsetX:e=0,offsetY:n=0,dontFlip:s=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:i,offsetX:e,offsetY:n,dontFlip:s})}getAnnotations({intent:t="display"}={}){let i=this._transport.getRenderingIntent(t),e=this._annotationPromises.get(i.cacheKey);return e||(e=this._transport.getAnnotations(this._pageIndex,i.renderingIntent),this._annotationPromises.set(i.cacheKey,e),e=e.then(n=>{for(let s of n)s.titleObj!==void 0&&Object.defineProperty(s,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),s.titleObj.str}}),s.contentsObj!==void 0&&Object.defineProperty(s,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),s.contentsObj.str}});return n})),e}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){return dt(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:t,viewport:i,intent:e="display",annotationMode:n=_util.AnnotationMode.ENABLE,transform:s=null,imageLayer:a=null,canvasFactory:r=null,background:l=null,optionalContentConfigPromise:d=null,annotationCanvasMap:o=null,pageColors:c=null,printAnnotationStorage:f=null}){arguments[0]?.renderInteractiveForms!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&n===_util.AnnotationMode.ENABLE&&(n=_util.AnnotationMode.ENABLE_FORMS)),arguments[0]?.includeAnnotationStorage!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&n===_util.AnnotationMode.ENABLE&&(n=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");let p=this._transport.getRenderingIntent(e,n,f);this.pendingCleanup=!1,d||(d=this._transport.getOptionalContentConfig());let u=this._intentStates.get(p.cacheKey);u||(u=Object.create(null),this._intentStates.set(p.cacheKey,u)),u.streamReaderCancelTimeout&&(clearTimeout(u.streamReaderCancelTimeout),u.streamReaderCancelTimeout=null);let h=r||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),m=!!(p.renderingIntent&_util.RenderingIntentFlag.PRINT);u.displayReadyCapability||(u.displayReadyCapability=(0,_util.createPromiseCapability)(),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(p));let x=S=>{u.renderTasks.delete(y),(this.cleanupAfterRender||m)&&(this.pendingCleanup=!0),this._tryCleanup(),S?(y.capability.reject(S),this._abortOperatorList({intentState:u,reason:S instanceof Error?S:new Error(S)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},y=new InternalRenderTask({callback:x,params:{canvasContext:t,viewport:i,transform:s,imageLayer:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:o,operatorList:u.operatorList,pageIndex:this._pageIndex,canvasFactory:h,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:c});(u.renderTasks||=new Set).add(y);let T=y.task;return Promise.all([u.displayReadyCapability.promise,d]).then(([S,_])=>{if(this.pendingCleanup){x();return}this._stats&&this._stats.time("Rendering"),y.initializeGraphics({transparency:S,optionalContentConfig:_}),y.operatorListChanged()}).catch(x),T}getOperatorList({intent:t="display",annotationMode:i=_util.AnnotationMode.ENABLE,printAnnotationStorage:e=null}={}){function n(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(r))}let s=this._transport.getRenderingIntent(t,i,e,!0),a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let r;return a.opListReadCapability||(r=Object.create(null),r.operatorListChanged=n,a.opListReadCapability=(0,_util.createPromiseCapability)(),(a.renderTasks||=new Set).add(r),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({disableCombineTextItems:t=!1,includeMarkedContent:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:t!==!0,includeMarkedContent:i===!0},{highWaterMark:100,size(n){return n.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>_xfa_text.XfaText.textContent(e));let i=this.streamTextContent(t);return new Promise(function(e,n){function s(){a.read().then(function({value:l,done:d}){if(d){e(r);return}Object.assign(r.styles,l.styles),r.items.push(...l.items),s()},n)}let a=i.getReader(),r={items:[],styles:Object.create(null)};s()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let t=[];for(let i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(let e of i.renderTasks)t.push(e.completed),e.cancel();this.objs.clear();for(let i of this._bitmaps)i.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(t=!1){return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(t=!1){if(!this.pendingCleanup)return!1;for(let{renderTasks:i,operatorList:e}of this._intentStates.values())if(i.size>0||!e.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer);for(let i of this._bitmaps)i.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(t,i){let e=this._intentStates.get(i);e&&(this._stats&&this._stats.timeEnd("Page Request"),e.displayReadyCapability&&e.displayReadyCapability.resolve(t))}_renderPageChunk(t,i){for(let e=0,n=t.length;e<n;e++)i.operatorList.fnArray.push(t.fnArray[e]),i.operatorList.argsArray.push(t.argsArray[e]);i.operatorList.lastChunk=t.lastChunk,i.operatorList.separateAnnots=t.separateAnnots;for(let e of i.renderTasks)e.operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:t,cacheKey:i,annotationStorageMap:e}){let s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:i,annotationStorage:e}).getReader(),a=this._intentStates.get(i);a.streamReader=s;let r=()=>{s.read().then(({value:l,done:d})=>{if(d){a.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(l,a),r())},l=>{if(a.streamReader=null,!this._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;for(let d of a.renderTasks)d.operatorListChanged();this._tryCleanup()}if(a.displayReadyCapability)a.displayReadyCapability.reject(l);else if(a.opListReadCapability)a.opListReadCapability.reject(l);else throw l}})};r()}_abortOperatorList({intentState:t,reason:i,force:e=!1}){if(t.streamReader){if(!e){if(t.renderTasks.size>0)return;if(i instanceof _display_utils.RenderingCancelledException){t.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:t,reason:i,force:!0}),t.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(t.streamReader.cancel(new _util.AbortException(i.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(let[n,s]of this._intentStates)if(s===t){this._intentStates.delete(n);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(t,i){let e={data:structuredClone(t,i)};this._deferred.then(()=>{for(let n of this._listeners)n.call(this,e)})}addEventListener(t,i){this._listeners.push(i)}removeEventListener(t,i){let e=this._listeners.indexOf(i);this._listeners.splice(e,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof pn=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let A=document?.currentScript?.src;A&&(PDFWorkerUtil.fallbackWorkerSrc=A.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(A,t){let i;try{if(i=new URL(A),!i.origin||i.origin==="null")return!1}catch{return!1}let e=new URL(t,i);return i.origin===e.origin},PDFWorkerUtil.createCDNWrapper=function(A){let t=`importScripts("${A}");`;return URL.createObjectURL(new Blob([t]))}}class PDFWorker{static#workerPorts=new WeakMap;constructor({name:A=null,port:t=null,verbosity:i=(0,_util.getVerbosityLevel)()}={}){if(t&&PDFWorker.#workerPorts.has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=A,this.destroyed=!1,this.verbosity=i,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t){PDFWorker.#workerPorts.set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(A){this._port=A,this._messageHandler=new _message_handler.MessageHandler("main","worker",A),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:A}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,A)||(A=PDFWorkerUtil.createCDNWrapper(new URL(A,window.location).href));let t=new Worker(A),i=new _message_handler.MessageHandler("main","worker",t),e=()=>{t.removeEventListener("error",n),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},n=()=>{this._webWorker||e()};t.addEventListener("error",n),i.on("test",a=>{if(t.removeEventListener("error",n),this.destroyed){e();return}a?(this._messageHandler=i,this._port=t,this._webWorker=t,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),t.terminate())}),i.on("ready",a=>{if(t.removeEventListener("error",n),this.destroyed){e();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let a=new Uint8Array;i.send("test",a,[a.buffer])};s();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(A=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let t=new LoopbackPort;this._port=t;let i=`fake${PDFWorkerUtil.fakeWorkerId++}`,e=new _message_handler.MessageHandler(i+"_worker",i,t);A.setup(e,t);let n=new _message_handler.MessageHandler(i,i+"_worker",t);this._messageHandler=n,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})}).catch(A=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${A.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(A){if(!A?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(A.port)?this.#workerPorts.get(A.port):new PDFWorker(A)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=()=>dt(this,null,function*(){let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof pn=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#t=null;#e=new Map;#i=new Map;#n=null;constructor(t,i,e,n){this.messageHandler=t,this.loadingTask=i,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:i.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this._params=n,n.useWorkerFetch||(this.CMapReaderFactory=new n.CMapReaderFactory({baseUrl:n.cMapUrl,isCompressed:n.cMapPacked}),this.StandardFontDataFactory=new n.StandardFontDataFactory({baseUrl:n.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#t}getRenderingIntent(t,i=_util.AnnotationMode.ENABLE,e=null,n=!1){let s=_util.RenderingIntentFlag.DISPLAY,a=null;switch(t){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(i){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,a=(s&_util.RenderingIntentFlag.PRINT&&e instanceof _annotation_storage.PrintAnnotationStorage?e:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${i}`)}return n&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${_annotation_storage.AnnotationStorage.getHash(a)}`,annotationStorageMap:a}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));let t=[];for(let e of this.#e.values())t.push(e._destroy());this.#e.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let i=this.messageHandler.sendWithPromise("Terminate",null);return t.push(i),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#n=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:t,loadingTask:i}=this;t.on("GetReader",(e,n)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},n.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){n.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(s),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{n.error(s)})},n.onCancel=s=>{this._fullReader.cancel(s),n.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",e=>{let n=(0,_util.createPromiseCapability)(),s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&i.onProgress?.(this._lastProgress),s.onProgress=a=>{i.onProgress?.({loaded:a.loaded,total:a.total})}),n.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},n.reject),n.promise}),t.on("GetRangeReader",(e,n)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(e.begin,e.end);if(!s){n.close();return}n.onPull=()=>{s.read().then(function({value:a,done:r}){if(r){n.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(a),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{n.error(a)})},n.onCancel=a=>{s.cancel(a),n.ready.catch(r=>{if(!this.destroyed)throw r})}}),t.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,i._capability.resolve(new PDFDocumentProxy(e,this))}),t.on("DocException",function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}i._capability.reject(n)}),t.on("PasswordRequest",e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),i.onPassword){let n=s=>{s instanceof Error?this._passwordCapability.reject(s):this._passwordCapability.resolve({password:s})};try{i.onPassword(n,e.code)}catch(s){this._passwordCapability.reject(s)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise}),t.on("DataLoaded",e=>{i.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),t.on("StartRenderPage",e=>{if(this.destroyed)return;this.#e.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),t.on("commonobj",([e,n,s])=>{if(!this.destroyed&&!this.commonObjs.has(e))switch(n){case"Font":let a=this._params;if("error"in s){let d=s.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(e,d);break}let r=null;a.pdfBug&&globalThis.FontInspector?.enabled&&(r={registerFont(d,o){globalThis.FontInspector.fontAdded(d,o)}});let l=new _font_loader.FontFaceObject(s,{isEvalSupported:a.isEvalSupported,disableFontFace:a.disableFontFace,ignoreErrors:a.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:r});this.fontLoader.bind(l).catch(d=>t.sendWithPromise("FontFallback",{id:e})).finally(()=>{!a.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(e,l)});break;case"FontPath":case"Image":this.commonObjs.resolve(e,s);break;default:throw new Error(`Got unknown common object type ${n}`)}}),t.on("obj",([e,n,s,a])=>{if(this.destroyed)return;let r=this.#e.get(n);if(!r.objs.has(e))switch(s){case"Image":r.objs.resolve(e,a);let l=8e6;if(a){let d;if(a.bitmap){let{bitmap:o,width:c,height:f}=a;d=c*f*4,r._bitmaps.add(o)}else d=a.data?.length||0;d>l&&(r.cleanupAfterRender=!0)}break;case"Pattern":r.objs.resolve(e,a);break;default:throw new Error(`Got unknown object type ${s}`)}}),t.on("DocProgress",e=>{this.destroyed||i.onProgress?.({loaded:e.loaded,total:e.total})}),t.on("DocStats",e=>{this.destroyed||(this.#t=Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:t}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));let i=t-1,e=this.#i.get(i);if(e)return e;let n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");let a=new PDFPageProxy(i,s,this,this._params.ownerDocument,this._params.pdfBug);return this.#e.set(i,a),a});return this.#i.set(i,n),n}getPageIndex(t){return typeof t!="object"||t===null||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:i})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(t=>new _optional_content_config.OptionalContentConfig(t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#n||=this.messageHandler.sendWithPromise("GetMetadata",null).then(t=>({info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(t=!1){return dt(this,null,function*(){if(yield this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(let i of this.#e.values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#n=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}})}get loadingParams(){let t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}class PDFObjects{#t=Object.create(null);#e(t){let i=this.#t[t];return i||(this.#t[t]={capability:(0,_util.createPromiseCapability)(),data:null})}get(t,i=null){if(i){let n=this.#e(t);return n.capability.promise.then(()=>i(n.data)),null}let e=this.#t[t];if(!e?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return e.data}has(t){return this.#t[t]?.capability.settled||!1}resolve(t,i=null){let e=this.#e(t);e.data=i,e.capability.resolve()}clear(){this.#t=Object.create(null)}}class RenderTask{#t=null;constructor(t){this.#t=t,this.onContinue=null}get promise(){return this.#t.capability.promise}cancel(){this.#t.cancel()}get separateAnnots(){let{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;let{annotationCanvasMap:i}=this.#t;return t.form||t.canvas&&i?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#t=new WeakSet;constructor({callback:t,params:i,objs:e,commonObjs:n,annotationCanvasMap:s,operatorList:a,pageIndex:r,canvasFactory:l,useRequestAnimationFrame:d=!1,pdfBug:o=!1,pageColors:c=null}){this.callback=t,this.params=i,this.objs=e,this.commonObjs=n,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=r,this.canvasFactory=l,this._pdfBug=o,this.pageColors=c,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:i}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:e,viewport:n,transform:s,imageLayer:a,background:r}=this.params;this.gfx=new _canvas.CanvasGraphics(e,this.commonObjs,this.objs,this.canvasFactory,a,i,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:n,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#t.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return dt(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#t.delete(this._canvas),this.callback())))})}}let version="2.16.105";exports.version=version;let build="172ccdbe5";exports.build=build},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var e=i(1),n=i(6),s=i(10);class a{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(d,o){let c=this._storage.get(d);return c===void 0?o:Object.assign(o,c)}getRawValue(d){return this._storage.get(d)}remove(d){if(this._storage.delete(d),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let o of this._storage.values())if(o instanceof n.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(d,o){let c=this._storage.get(d),f=!1;if(c!==void 0)for(let[p,u]of Object.entries(o))c[p]!==u&&(f=!0,c[p]=u);else f=!0,this._storage.set(d,o);f&&this.#t(),o instanceof n.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(o.constructor._type)}has(d){return this._storage.has(d)}getAll(){return this._storage.size>0?(0,e.objectFromMap)(this._storage):null}get size(){return this._storage.size}#t(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new r(this)}get serializable(){if(this._storage.size===0)return null;let d=new Map;for(let[o,c]of this._storage){let f=c instanceof n.AnnotationEditor?c.serialize():c;f&&d.set(o,f)}return d}static getHash(d){if(!d)return"";let o=new s.MurmurHash3_64;for(let[c,f]of d)o.update(`${c}:${JSON.stringify(f)}`);return o.hexdigest()}}t.AnnotationStorage=a;class r extends a{#t=null;constructor(d){super(),this.#t=structuredClone(d.serializable)}get print(){(0,e.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}}t.PrintAnnotationStorage=r},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var e=i(7),n=i(1);class s{#t=this.focusin.bind(this);#e=this.focusout.bind(this);#i=!1;#n=!1;#r=!1;#c=s._zIndex++;static _colorManager=new e.ColorManager;static _zIndex=1;constructor(r){this.constructor===s&&(0,n.unreachable)("Cannot initialize AnnotationEditor."),this.parent=r.parent,this.id=r.id,this.width=this.height=null,this.pageIndex=r.parent.pageIndex,this.name=r.name,this.div=null;let[l,d]=this.parent.viewportBaseDimensions;this.x=r.x/l,this.y=r.y/d,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,n.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#c}focusin(r){this.#i?this.#i=!1:this.parent.setSelected(this)}focusout(r){!this.isAttachedToDOM||r.relatedTarget?.closest(`#${this.id}`)||(r.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(r){let l=this.parent.div.getBoundingClientRect();this.startX=r.clientX-l.x,this.startY=r.clientY-l.y,r.dataTransfer.setData("text/plain",this.id),r.dataTransfer.effectAllowed="move"}setAt(r,l,d,o){let[c,f]=this.parent.viewportBaseDimensions;[d,o]=this.screenToPageTranslation(d,o),this.x=(r+d)/c,this.y=(l+o)/f,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(r,l){let[d,o]=this.parent.viewportBaseDimensions;[r,l]=this.screenToPageTranslation(r,l),this.x+=r/d,this.y+=l/o,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(r,l){let{rotation:d}=this.parent.viewport;switch(d){case 90:return[l,-r];case 180:return[-r,-l];case 270:return[-l,r];default:return[r,l]}}setDims(r,l){let[d,o]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*r/d}%`,this.div.style.height=`${100*l/o}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#t),this.div.addEventListener("focusout",this.#e);let[r,l]=this.getInitialTranslation();return this.translate(r,l),(0,e.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(r){let l=e.KeyboardManager.platform.isMac;if(r.button!==0||r.ctrlKey&&l){r.preventDefault();return}r.ctrlKey&&!l||r.shiftKey||r.metaKey&&l?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#i=!0}getRect(r,l){let[d,o]=this.parent.viewportBaseDimensions,[c,f]=this.parent.pageDimensions,p=c*r/d,u=f*l/o,h=this.x*c,m=this.y*f,x=this.width*c,y=this.height*f;switch(this.rotation){case 0:return[h+p,f-m-u-y,h+p+x,f-m-u];case 90:return[h+u,f-m+p,h+u+y,f-m+p+x];case 180:return[h-p-x,f-m+u,h-p,f-m+u+y];case 270:return[h-u-y,f-m-p-x,h-u,f-m-p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(r,l){let[d,o,c,f]=r,p=c-d,u=f-o;switch(this.rotation){case 0:return[d,l-f,p,u];case 90:return[d,l-o,u,p];case 180:return[c,l-o,p,u];case 270:return[c,l-f,u,p];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#r=!0}disableEditMode(){this.#r=!1}isInEditMode(){return this.#r}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#t)}serialize(){(0,n.unreachable)("An editor must be serializable")}static deserialize(r,l){let d=new this.prototype.constructor({parent:l,id:l.getNextId()});d.rotation=r.rotation;let[o,c]=l.pageDimensions,[f,p,u,h]=d.getRectInCurrentCoords(r.rect,c);return d.x=f/o,d.y=p/c,d.width=u/o,d.height=h/c,d}remove(){this.div.removeEventListener("focusin",this.#t),this.div.removeEventListener("focusout",this.#e),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(r,l){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#n}set isEditing(r){this.#n=r,r?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}t.AnnotationEditor=s},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=s,t.opacityToHex=a;var e=i(1),n=i(8);function s(p,u,h){for(let m of h)u.addEventListener(m,p[m].bind(p))}function a(p){return Math.round(Math.min(255,Math.max(1,255*p))).toString(16).padStart(2,"0")}class r{#t=0;getId(){return`${e.AnnotationEditorPrefix}${this.#t++}`}}class l{#t=[];#e=!1;#i;#n=-1;constructor(u=128){this.#i=u}add({cmd:u,undo:h,mustExec:m,type:x=NaN,overwriteIfSameType:y=!1,keepUndo:T=!1}){if(m&&u(),this.#e)return;let S={cmd:u,undo:h,type:x};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(S);return}if(y&&this.#t[this.#n].type===x){T&&(S.undo=this.#t[this.#n].undo),this.#t[this.#n]=S;return}let _=this.#n+1;_===this.#i?this.#t.splice(0,1):(this.#n=_,_<this.#t.length&&this.#t.splice(_)),this.#t.push(S)}undo(){this.#n!==-1&&(this.#e=!0,this.#t[this.#n].undo(),this.#e=!1,this.#n-=1)}redo(){this.#n<this.#t.length-1&&(this.#n+=1,this.#e=!0,this.#t[this.#n].cmd(),this.#e=!1)}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}destroy(){this.#t=null}}t.CommandManager=l;class d{constructor(u){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let h=d.platform.isMac;for(let[m,x]of u)for(let y of m){let T=y.startsWith("mac+");h&&T?(this.callbacks.set(y.slice(4),x),this.allKeys.add(y.split("+").at(-1))):!h&&!T&&(this.callbacks.set(y,x),this.allKeys.add(y.split("+").at(-1)))}}static get platform(){let u=typeof navigator<"u"?navigator.platform:"";return(0,e.shadow)(this,"platform",{isWin:u.includes("Win"),isMac:u.includes("Mac")})}#t(u){u.altKey&&this.buffer.push("alt"),u.ctrlKey&&this.buffer.push("ctrl"),u.metaKey&&this.buffer.push("meta"),u.shiftKey&&this.buffer.push("shift"),this.buffer.push(u.key);let h=this.buffer.join("+");return this.buffer.length=0,h}exec(u,h){if(!this.allKeys.has(h.key))return;let m=this.callbacks.get(this.#t(h));m&&(m.bind(u)(),h.stopPropagation(),h.preventDefault())}}t.KeyboardManager=d;class o{#t=null;copy(u){u&&(Array.isArray(u)?this.#t=u.map(h=>h.serialize()):this.#t=[u.serialize()],this.#t=this.#t.filter(h=>!!h),this.#t.length===0&&(this.#t=null))}paste(){return this.#t}isEmpty(){return this.#t===null}destroy(){this.#t=null}}class c{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let u=new Map([["CanvasText",null],["Canvas",null]]);return(0,n.getColorValues)(u),(0,e.shadow)(this,"_colors",u)}convert(u){let h=(0,n.getRGB)(u);if(!window.matchMedia("(forced-colors: active)").matches)return h;for(let[m,x]of this._colors)if(x.every((y,T)=>y===h[T]))return c._colorsMapping.get(m);return h}getHexCode(u){let h=this._colors.get(u);return h?e.Util.makeHexColor(...h):u}}t.ColorManager=c;class f{#t=null;#e=new Map;#i=new Map;#n=new o;#r=new l;#c=0;#o=null;#s=null;#u=new r;#h=!1;#l=e.AnnotationEditorType.NONE;#a=new Set;#p=this.keydown.bind(this);#f=this.onEditingAction.bind(this);#b=this.onPageChanging.bind(this);#m={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#_=null;static _keyboardManager=new d([[["ctrl+a","mac+meta+a"],f.prototype.selectAll],[["ctrl+c","mac+meta+c"],f.prototype.copy],[["ctrl+v","mac+meta+v"],f.prototype.paste],[["ctrl+x","mac+meta+x"],f.prototype.cut],[["ctrl+z","mac+meta+z"],f.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],f.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],f.prototype.delete],[["Escape","mac+Escape"],f.prototype.unselectAll]]);constructor(u,h){this.#_=u,this.#s=h,this.#s._on("editingaction",this.#f),this.#s._on("pagechanging",this.#b)}destroy(){this.#v(),this.#s._off("editingaction",this.#f),this.#s._off("pagechanging",this.#b);for(let u of this.#i.values())u.destroy();this.#i.clear(),this.#e.clear(),this.#t=null,this.#a.clear(),this.#n.destroy(),this.#r.destroy()}onPageChanging({pageNumber:u}){this.#c=u-1}focusMainContainer(){this.#_.focus()}#S(){this.#_.addEventListener("keydown",this.#p)}#v(){this.#_.removeEventListener("keydown",this.#p)}keydown(u){this.getActive()?.shouldGetKeyboardEvents()||f._keyboardManager.exec(this,u)}onEditingAction(u){["undo","redo","cut","copy","paste","delete","selectAll"].includes(u.name)&&this[u.name]()}#d(u){Object.entries(u).some(([m,x])=>this.#m[m]!==x)&&this.#s.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#m,u)})}#x(u){this.#s.dispatch("annotationeditorparamschanged",{source:this,details:u})}setEditingState(u){u?(this.#S(),this.#d({isEditing:this.#l!==e.AnnotationEditorType.NONE,isEmpty:this.#y(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#n.isEmpty()})):(this.#v(),this.#d({isEditing:!1}))}registerEditorTypes(u){this.#o=u;for(let h of this.#o)this.#x(h.defaultPropertiesToUpdate)}getId(){return this.#u.getId()}addLayer(u){this.#i.set(u.pageIndex,u),this.#h?u.enable():u.disable()}removeLayer(u){this.#i.delete(u.pageIndex)}updateMode(u){if(this.#l=u,u===e.AnnotationEditorType.NONE)this.setEditingState(!1),this.#g();else{this.setEditingState(!0),this.#C();for(let h of this.#i.values())h.updateMode(u)}}updateToolbar(u){u!==this.#l&&this.#s.dispatch("switchannotationeditormode",{source:this,mode:u})}updateParams(u,h){for(let m of this.#a)m.updateParams(u,h);for(let m of this.#o)m.updateDefaultParams(u,h)}#C(){if(!this.#h){this.#h=!0;for(let u of this.#i.values())u.enable()}}#g(){if(this.unselectAll(),this.#h){this.#h=!1;for(let u of this.#i.values())u.disable()}}getEditors(u){let h=[];for(let m of this.#e.values())m.pageIndex===u&&h.push(m);return h}getEditor(u){return this.#e.get(u)}addEditor(u){this.#e.set(u.id,u)}removeEditor(u){this.#e.delete(u.id),this.unselect(u)}#P(u){let h=this.#i.get(u.pageIndex);h?h.addOrRebuild(u):this.addEditor(u)}setActiveEditor(u){this.#t!==u&&(this.#t=u,u&&this.#x(u.propertiesToUpdate))}toggleSelected(u){if(this.#a.has(u)){this.#a.delete(u),u.unselect(),this.#d({hasSelectedEditor:this.hasSelection});return}this.#a.add(u),u.select(),this.#x(u.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}setSelected(u){for(let h of this.#a)h!==u&&h.unselect();this.#a.clear(),this.#a.add(u),u.select(),this.#x(u.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}isSelected(u){return this.#a.has(u)}unselect(u){u.unselect(),this.#a.delete(u),this.#d({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#a.size!==0}undo(){this.#r.undo(),this.#d({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#y()})}redo(){this.#r.redo(),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#y()})}addCommands(u){this.#r.add(u),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#y()})}#y(){if(this.#e.size===0)return!0;if(this.#e.size===1)for(let u of this.#e.values())return u.isEmpty();return!1}delete(){if(this.#t&&this.#t.commitOrRemove(),!this.hasSelection)return;let u=[...this.#a],h=()=>{for(let x of u)x.remove()},m=()=>{for(let x of u)this.#P(x)};this.addCommands({cmd:h,undo:m,mustExec:!0})}copy(){if(this.#t&&this.#t.commitOrRemove(),this.hasSelection){let u=[];for(let h of this.#a)h.isEmpty()||u.push(h);if(u.length===0)return;this.#n.copy(u),this.#d({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#n.isEmpty())return;this.unselectAll();let u=this.#i.get(this.#c),h=this.#n.paste().map(y=>u.deserialize(y)),m=()=>{for(let y of h)this.#P(y);this.#A(h)},x=()=>{for(let y of h)y.remove()};this.addCommands({cmd:m,undo:x,mustExec:!0})}#A(u){this.#a.clear();for(let h of u)h.isEmpty()||(this.#a.add(h),h.select());this.#d({hasSelectedEditor:!0})}selectAll(){for(let u of this.#a)u.commit();this.#A(this.#e.values())}unselectAll(){if(this.#t){this.#t.commitOrRemove();return}if(this.#A.size!==0){for(let u of this.#a)u.unselect();this.#a.clear(),this.#d({hasSelectedEditor:!1})}}isActive(u){return this.#t===u}getActive(){return this.#t}getMode(){return this.#l}}t.AnnotationEditorUIManager=f},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=b,t.getColorValues=R,t.getCurrentTransform=X,t.getCurrentTransformInverse=V,t.getFilenameFromUrl=x,t.getPdfFilenameFromUrl=y,t.getRGB=v,t.getXfaPageViewport=I,t.isDataScheme=h,t.isPdfFile=m,t.isValidFetchUrl=S,t.loadScript=_;var e=i(9),n=i(1);let s="http://www.w3.org/2000/svg",a="pdfjs_internal_id_";t.AnnotationPrefix=a;class r{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}t.PixelsPerInch=r;class l extends e.BaseCanvasFactory{constructor({ownerDocument:k=globalThis.document}={}){super(),this._document=k}_createCanvas(k,O){let j=this._document.createElement("canvas");return j.width=k,j.height=O,j}}t.DOMCanvasFactory=l;function d(L,k=!1){return dt(this,null,function*(){if(S(L,document.baseURI)){let O=yield fetch(L);if(!O.ok)throw new Error(O.statusText);return k?new Uint8Array(yield O.arrayBuffer()):(0,n.stringToBytes)(yield O.text())}return new Promise((O,j)=>{let z=new XMLHttpRequest;z.open("GET",L,!0),k&&(z.responseType="arraybuffer"),z.onreadystatechange=()=>{if(z.readyState===XMLHttpRequest.DONE){if(z.status===200||z.status===0){let M;if(k&&z.response?M=new Uint8Array(z.response):!k&&z.responseText&&(M=(0,n.stringToBytes)(z.responseText)),M){O(M);return}}j(new Error(z.statusText))}},z.send(null)})})}class o extends e.BaseCMapReaderFactory{_fetchData(k,O){return d(k,this.isCompressed).then(j=>({cMapData:j,compressionType:O}))}}t.DOMCMapReaderFactory=o;class c extends e.BaseStandardFontDataFactory{_fetchData(k){return d(k,!0)}}t.DOMStandardFontDataFactory=c;class f extends e.BaseSVGFactory{_createSVG(k){return document.createElementNS(s,k)}}t.DOMSVGFactory=f;class p{constructor({viewBox:k,scale:O,rotation:j,offsetX:z=0,offsetY:M=0,dontFlip:E=!1}){this.viewBox=k,this.scale=O,this.rotation=j,this.offsetX=z,this.offsetY=M;let w=(k[2]+k[0])/2,N=(k[3]+k[1])/2,U,g,P,D;switch(j%=360,j<0&&(j+=360),j){case 180:U=-1,g=0,P=0,D=1;break;case 90:U=0,g=1,P=1,D=0;break;case 270:U=0,g=-1,P=-1,D=0;break;case 0:U=1,g=0,P=0,D=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}E&&(P=-P,D=-D);let B,W,H,G;U===0?(B=Math.abs(N-k[1])*O+z,W=Math.abs(w-k[0])*O+M,H=Math.abs(k[3]-k[1])*O,G=Math.abs(k[2]-k[0])*O):(B=Math.abs(w-k[0])*O+z,W=Math.abs(N-k[1])*O+M,H=Math.abs(k[2]-k[0])*O,G=Math.abs(k[3]-k[1])*O),this.transform=[U*O,g*O,P*O,D*O,B-U*O*w-P*O*N,W-g*O*w-D*O*N],this.width=H,this.height=G}clone({scale:k=this.scale,rotation:O=this.rotation,offsetX:j=this.offsetX,offsetY:z=this.offsetY,dontFlip:M=!1}={}){return new p({viewBox:this.viewBox.slice(),scale:k,rotation:O,offsetX:j,offsetY:z,dontFlip:M})}convertToViewportPoint(k,O){return n.Util.applyTransform([k,O],this.transform)}convertToViewportRectangle(k){let O=n.Util.applyTransform([k[0],k[1]],this.transform),j=n.Util.applyTransform([k[2],k[3]],this.transform);return[O[0],O[1],j[0],j[1]]}convertToPdfPoint(k,O){return n.Util.applyInverseTransform([k,O],this.transform)}}t.PageViewport=p;class u extends n.BaseException{constructor(k,O){super(k,"RenderingCancelledException"),this.type=O}}t.RenderingCancelledException=u;function h(L){let k=L.length,O=0;for(;O<k&&L[O].trim()==="";)O++;return L.substring(O,O+5).toLowerCase()==="data:"}function m(L){return typeof L=="string"&&/\.pdf$/i.test(L)}function x(L){let k=L.indexOf("#"),O=L.indexOf("?"),j=Math.min(k>0?k:L.length,O>0?O:L.length);return L.substring(L.lastIndexOf("/",j)+1,j)}function y(L,k="document.pdf"){if(typeof L!="string")return k;if(h(L))return(0,n.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),k;let O=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,j=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,z=O.exec(L),M=j.exec(z[1])||j.exec(z[2])||j.exec(z[3]);if(M&&(M=M[0],M.includes("%")))try{M=j.exec(decodeURIComponent(M))[0]}catch{}return M||k}class T{constructor(){this.started=Object.create(null),this.times=[]}time(k){k in this.started&&(0,n.warn)(`Timer is already running for ${k}`),this.started[k]=Date.now()}timeEnd(k){k in this.started||(0,n.warn)(`Timer has not been started for ${k}`),this.times.push({name:k,start:this.started[k],end:Date.now()}),delete this.started[k]}toString(){let k=[],O=0;for(let j of this.times){let z=j.name;z.length>O&&(O=z.length)}for(let j of this.times){let z=j.end-j.start;k.push(`${j.name.padEnd(O)} ${z}ms
`)}return k.join("")}}t.StatTimer=T;function S(L,k){try{let{protocol:O}=k?new URL(L,k):new URL(L);return O==="http:"||O==="https:"}catch{return!1}}function _(L,k=!1){return new Promise((O,j)=>{let z=document.createElement("script");z.src=L,z.onload=function(M){k&&z.remove(),O(M)},z.onerror=function(){j(new Error(`Cannot load script at: ${z.src}`))},(document.head||document.documentElement).append(z)})}function b(L){console.log("Deprecated API usage: "+L)}let C;class F{static toDateObject(k){if(!k||typeof k!="string")return null;C||(C=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));let O=C.exec(k);if(!O)return null;let j=parseInt(O[1],10),z=parseInt(O[2],10);z=z>=1&&z<=12?z-1:0;let M=parseInt(O[3],10);M=M>=1&&M<=31?M:1;let E=parseInt(O[4],10);E=E>=0&&E<=23?E:0;let w=parseInt(O[5],10);w=w>=0&&w<=59?w:0;let N=parseInt(O[6],10);N=N>=0&&N<=59?N:0;let U=O[7]||"Z",g=parseInt(O[8],10);g=g>=0&&g<=23?g:0;let P=parseInt(O[9],10)||0;return P=P>=0&&P<=59?P:0,U==="-"?(E+=g,w+=P):U==="+"&&(E-=g,w-=P),new Date(Date.UTC(j,z,M,E,w,N))}}t.PDFDateString=F;function I(L,{scale:k=1,rotation:O=0}){let{width:j,height:z}=L.attributes.style,M=[0,0,parseInt(j),parseInt(z)];return new p({viewBox:M,scale:k,rotation:O})}function v(L){if(L.startsWith("#")){let k=parseInt(L.slice(1),16);return[(k&16711680)>>16,(k&65280)>>8,k&255]}return L.startsWith("rgb(")?L.slice(4,-1).split(",").map(k=>parseInt(k)):L.startsWith("rgba(")?L.slice(5,-1).split(",").map(k=>parseInt(k)).slice(0,3):((0,n.warn)(`Not a valid color format: "${L}"`),[0,0,0])}function R(L){let k=document.createElement("span");k.style.visibility="hidden",document.body.append(k);for(let O of L.keys()){k.style.color=O;let j=window.getComputedStyle(k).color;L.set(O,v(j))}k.remove()}function X(L){let{a:k,b:O,c:j,d:z,e:M,f:E}=L.getTransform();return[k,O,j,z,M,E]}function V(L){let{a:k,b:O,c:j,d:z,e:M,f:E}=L.getTransform().invertSelf();return[k,O,j,z,M,E]}},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var e=i(1);class n{constructor(){this.constructor===n&&(0,e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(d,o){if(d<=0||o<=0)throw new Error("Invalid canvas size");let c=this._createCanvas(d,o);return{canvas:c,context:c.getContext("2d")}}reset(d,o,c){if(!d.canvas)throw new Error("Canvas is not specified");if(o<=0||c<=0)throw new Error("Invalid canvas size");d.canvas.width=o,d.canvas.height=c}destroy(d){if(!d.canvas)throw new Error("Canvas is not specified");d.canvas.width=0,d.canvas.height=0,d.canvas=null,d.context=null}_createCanvas(d,o){(0,e.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=n;class s{constructor({baseUrl:d=null,isCompressed:o=!1}){this.constructor===s&&(0,e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=o}fetch(o){return dt(this,arguments,function*({name:d}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");let c=this.baseUrl+d+(this.isCompressed?".bcmap":""),f=this.isCompressed?e.CMapCompressionType.BINARY:e.CMapCompressionType.NONE;return this._fetchData(c,f).catch(p=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${c}`)})})}_fetchData(d,o){(0,e.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=s;class a{constructor({baseUrl:d=null}){this.constructor===a&&(0,e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}fetch(o){return dt(this,arguments,function*({filename:d}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");let c=`${this.baseUrl}${d}`;return this._fetchData(c).catch(f=>{throw new Error(`Unable to load font data at: ${c}`)})})}_fetchData(d){(0,e.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=a;class r{constructor(){this.constructor===r&&(0,e.unreachable)("Cannot initialize BaseSVGFactory.")}create(d,o,c=!1){if(d<=0||o<=0)throw new Error("Invalid SVG dimensions");let f=this._createSVG("svg:svg");return f.setAttribute("version","1.1"),c||(f.setAttribute("width",`${d}px`),f.setAttribute("height",`${o}px`)),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox",`0 0 ${d} ${o}`),f}createElement(d){if(typeof d!="string")throw new Error("Invalid SVG element type");return this._createSVG(d)}_createSVG(d){(0,e.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=r},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var e=i(1);let n=3285377520,s=4294901760,a=65535;class r{constructor(d){this.h1=d?d&4294967295:n,this.h2=d?d&4294967295:n}update(d){let o,c;if(typeof d=="string"){o=new Uint8Array(d.length*2),c=0;for(let C=0,F=d.length;C<F;C++){let I=d.charCodeAt(C);I<=255?o[c++]=I:(o[c++]=I>>>8,o[c++]=I&255)}}else if((0,e.isArrayBuffer)(d))o=d.slice(),c=o.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let f=c>>2,p=c-f*4,u=new Uint32Array(o.buffer,0,f),h=0,m=0,x=this.h1,y=this.h2,T=3432918353,S=461845907,_=T&a,b=S&a;for(let C=0;C<f;C++)C&1?(h=u[C],h=h*T&s|h*_&a,h=h<<15|h>>>17,h=h*S&s|h*b&a,x^=h,x=x<<13|x>>>19,x=x*5+3864292196):(m=u[C],m=m*T&s|m*_&a,m=m<<15|m>>>17,m=m*S&s|m*b&a,y^=m,y=y<<13|y>>>19,y=y*5+3864292196);switch(h=0,p){case 3:h^=o[f*4+2]<<16;case 2:h^=o[f*4+1]<<8;case 1:h^=o[f*4],h=h*T&s|h*_&a,h=h<<15|h>>>17,h=h*S&s|h*b&a,f&1?x^=h:y^=h}this.h1=x,this.h2=y}hexdigest(){let d=this.h1,o=this.h2;d^=o>>>1,d=d*3981806797&s|d*36045&a,o=o*4283543511&s|((o<<16|d>>>16)*2950163797&s)>>>16,d^=o>>>1,d=d*444984403&s|d*60499&a,o=o*3301882366&s|((o<<16|d>>>16)*3120437893&s)>>>16,d^=o>>>1;let c=(d>>>0).toString(16),f=(o>>>0).toString(16);return c.padStart(8,"0")+f.padStart(8,"0")}}t.MurmurHash3_64=r},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var e=i(1);class n{constructor({docId:l,onUnsupportedFeature:d,ownerDocument:o=globalThis.document,styleElement:c=null}){this.constructor===n&&(0,e.unreachable)("Cannot initialize BaseFontLoader."),this.docId=l,this._onUnsupportedFeature=d,this._document=o,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(l){this.nativeFontFaces.push(l),this._document.fonts.add(l)}insertRule(l){let d=this.styleElement;d||(d=this.styleElement=this._document.createElement("style"),d.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(d));let o=d.sheet;o.insertRule(l,o.cssRules.length)}clear(){for(let l of this.nativeFontFaces)this._document.fonts.delete(l);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(l){return dt(this,null,function*(){if(l.attached||l.missingFile)return;if(l.attached=!0,this.isFontLoadingAPISupported){let o=l.createNativeFontFace();if(o){this.addNativeFontFace(o);try{yield o.loaded}catch(c){throw this._onUnsupportedFeature({featureId:e.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,e.warn)(`Failed to load font '${o.family}': '${c}'.`),l.disableFontFace=!0,c}}return}let d=l.createFontFaceRule();if(d){if(this.insertRule(d),this.isSyncFontLoadingSupported)return;yield new Promise(o=>{let c=this._queueLoadingCallback(o);this._prepareFontLoadEvent([d],[l],c)})}})}_queueLoadingCallback(l){(0,e.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){let l=!!this._document?.fonts;return(0,e.shadow)(this,"isFontLoadingAPISupported",l)}get isSyncFontLoadingSupported(){(0,e.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,e.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(l,d,o){(0,e.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;t.FontLoader=s,t.FontLoader=s=class extends n{constructor(l){super(l),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let l=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(l=!0),(0,e.shadow)(this,"isSyncFontLoadingSupported",l)}_queueLoadingCallback(l){function d(){for((0,e.assert)(!c.done,"completeRequest() cannot be called twice."),c.done=!0;o.requests.length>0&&o.requests[0].done;){let f=o.requests.shift();setTimeout(f.callback,0)}}let o=this.loadingContext,c={id:`pdfjs-font-loading-${o.nextRequestId++}`,done:!1,complete:d,callback:l};return o.requests.push(c),c}get _loadTestFont(){let l=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,e.shadow)(this,"_loadTestFont",l())}_prepareFontLoadEvent(l,d,o){function c(V,L){return V.charCodeAt(L)<<24|V.charCodeAt(L+1)<<16|V.charCodeAt(L+2)<<8|V.charCodeAt(L+3)&255}function f(V,L,k,O){let j=V.substring(0,L),z=V.substring(L+k);return j+O+z}let p,u,h=this._document.createElement("canvas");h.width=1,h.height=1;let m=h.getContext("2d"),x=0;function y(V,L){if(x++,x>30){(0,e.warn)("Load test font never loaded."),L();return}if(m.font="30px "+V,m.fillText(".",0,20),m.getImageData(0,0,1,1).data[3]>0){L();return}setTimeout(y.bind(null,V,L))}let T=`lt${Date.now()}${this.loadTestFontId++}`,S=this._loadTestFont;S=f(S,976,T.length,T);let b=16,C=1482184792,F=c(S,b);for(p=0,u=T.length-3;p<u;p+=4)F=F-C+c(T,p)|0;p<T.length&&(F=F-C+c(T+"XXX",p)|0),S=f(S,b,4,(0,e.string32)(F));let I=`url(data:font/opentype;base64,${btoa(S)});`,v=`@font-face {font-family:"${T}";src:${I}}`;this.insertRule(v);let R=[];for(let V of d)R.push(V.loadedName);R.push(T);let X=this._document.createElement("div");X.style.visibility="hidden",X.style.width=X.style.height="10px",X.style.position="absolute",X.style.top=X.style.left="0px";for(let V of R){let L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=V,X.append(L)}this._document.body.append(X),y(T,()=>{X.remove(),o.complete()})}};class a{constructor(l,{isEvalSupported:d=!0,disableFontFace:o=!1,ignoreErrors:c=!1,onUnsupportedFeature:f,fontRegistry:p=null}){this.compiledGlyphs=Object.create(null);for(let u in l)this[u]=l[u];this.isEvalSupported=d!==!1,this.disableFontFace=o===!0,this.ignoreErrors=c===!0,this._onUnsupportedFeature=f,this.fontRegistry=p}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let l;if(!this.cssFontInfo)l=new FontFace(this.loadedName,this.data,{});else{let d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),l=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}return this.fontRegistry&&this.fontRegistry.registerFont(this),l}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let l=(0,e.bytesToString)(this.data),d=`url(data:${this.mimetype};base64,${btoa(l)});`,o;if(!this.cssFontInfo)o=`@font-face {font-family:"${this.loadedName}";src:${d}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),o=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${d}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,d),o}getPathGenerator(l,d){if(this.compiledGlyphs[d]!==void 0)return this.compiledGlyphs[d];let o;try{o=l.get(this.loadedName+"_path_"+d)}catch(c){if(!this.ignoreErrors)throw c;return this._onUnsupportedFeature({featureId:e.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,e.warn)(`getPathGenerator - ignoring character: "${c}".`),this.compiledGlyphs[d]=function(f,p){}}if(this.isEvalSupported&&e.FeatureTest.isEvalSupported){let c=[];for(let f of o){let p=f.args!==void 0?f.args.join(","):"";c.push("c.",f.cmd,"(",p,`);
`)}return this.compiledGlyphs[d]=new Function("c","size",c.join(""))}return this.compiledGlyphs[d]=function(c,f){for(let p of o)p.cmd==="scale"&&(p.args=[f,-f]),c[p.cmd].apply(c,p.args)}}}t.FontFaceObject=a},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var e=i(8),n=i(1),s=i(13),a=i(14),r=i(3);let l=16,d=100,o=4096,c=15,f=10,p=r.isNodeJS&&typeof Path2D>"u"?-1:1e3,u=16;function h(M,E){if(M._removeMirroring)throw new Error("Context is already forwarding operations.");M.__originalSave=M.save,M.__originalRestore=M.restore,M.__originalRotate=M.rotate,M.__originalScale=M.scale,M.__originalTranslate=M.translate,M.__originalTransform=M.transform,M.__originalSetTransform=M.setTransform,M.__originalResetTransform=M.resetTransform,M.__originalClip=M.clip,M.__originalMoveTo=M.moveTo,M.__originalLineTo=M.lineTo,M.__originalBezierCurveTo=M.bezierCurveTo,M.__originalRect=M.rect,M.__originalClosePath=M.closePath,M.__originalBeginPath=M.beginPath,M._removeMirroring=()=>{M.save=M.__originalSave,M.restore=M.__originalRestore,M.rotate=M.__originalRotate,M.scale=M.__originalScale,M.translate=M.__originalTranslate,M.transform=M.__originalTransform,M.setTransform=M.__originalSetTransform,M.resetTransform=M.__originalResetTransform,M.clip=M.__originalClip,M.moveTo=M.__originalMoveTo,M.lineTo=M.__originalLineTo,M.bezierCurveTo=M.__originalBezierCurveTo,M.rect=M.__originalRect,M.closePath=M.__originalClosePath,M.beginPath=M.__originalBeginPath,delete M._removeMirroring},M.save=function(){E.save(),this.__originalSave()},M.restore=function(){E.restore(),this.__originalRestore()},M.translate=function(N,U){E.translate(N,U),this.__originalTranslate(N,U)},M.scale=function(N,U){E.scale(N,U),this.__originalScale(N,U)},M.transform=function(N,U,g,P,D,B){E.transform(N,U,g,P,D,B),this.__originalTransform(N,U,g,P,D,B)},M.setTransform=function(N,U,g,P,D,B){E.setTransform(N,U,g,P,D,B),this.__originalSetTransform(N,U,g,P,D,B)},M.resetTransform=function(){E.resetTransform(),this.__originalResetTransform()},M.rotate=function(N){E.rotate(N),this.__originalRotate(N)},M.clip=function(N){E.clip(N),this.__originalClip(N)},M.moveTo=function(w,N){E.moveTo(w,N),this.__originalMoveTo(w,N)},M.lineTo=function(w,N){E.lineTo(w,N),this.__originalLineTo(w,N)},M.bezierCurveTo=function(w,N,U,g,P,D){E.bezierCurveTo(w,N,U,g,P,D),this.__originalBezierCurveTo(w,N,U,g,P,D)},M.rect=function(w,N,U,g){E.rect(w,N,U,g),this.__originalRect(w,N,U,g)},M.closePath=function(){E.closePath(),this.__originalClosePath()},M.beginPath=function(){E.beginPath(),this.__originalBeginPath()}}class m{constructor(E){this.canvasFactory=E,this.cache=Object.create(null)}getCanvas(E,w,N){let U;return this.cache[E]!==void 0?(U=this.cache[E],this.canvasFactory.reset(U,w,N)):(U=this.canvasFactory.create(w,N),this.cache[E]=U),U}delete(E){delete this.cache[E]}clear(){for(let E in this.cache){let w=this.cache[E];this.canvasFactory.destroy(w),delete this.cache[E]}}}function x(M,E,w,N,U,g,P,D,B,W){let[H,G,$,K,Y,q]=(0,e.getCurrentTransform)(M);if(G===0&&$===0){let et=P*H+Y,nt=Math.round(et),st=D*K+q,lt=Math.round(st),rt=(P+B)*H+Y,gt=Math.abs(Math.round(rt)-nt)||1,_t=(D+W)*K+q,ut=Math.abs(Math.round(_t)-lt)||1;return M.setTransform(Math.sign(H),0,0,Math.sign(K),nt,lt),M.drawImage(E,w,N,U,g,0,0,gt,ut),M.setTransform(H,G,$,K,Y,q),[gt,ut]}if(H===0&&K===0){let et=D*$+Y,nt=Math.round(et),st=P*G+q,lt=Math.round(st),rt=(D+W)*$+Y,gt=Math.abs(Math.round(rt)-nt)||1,_t=(P+B)*G+q,ut=Math.abs(Math.round(_t)-lt)||1;return M.setTransform(0,Math.sign(G),Math.sign($),0,nt,lt),M.drawImage(E,w,N,U,g,0,0,ut,gt),M.setTransform(H,G,$,K,Y,q),[ut,gt]}M.drawImage(E,w,N,U,g,P,D,B,W);let J=Math.hypot(H,G),tt=Math.hypot($,K);return[J*B,tt*W]}function y(M){let{width:E,height:w}=M;if(E>p||w>p)return null;let N=1e3,U=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),g=E+1,P=new Uint8Array(g*(w+1)),D,B,W,H=E+7&-8,G=new Uint8Array(H*w),$=0;for(let tt of M.data){let et=128;for(;et>0;)G[$++]=tt&et?0:255,et>>=1}let K=0;for($=0,G[$]!==0&&(P[0]=1,++K),B=1;B<E;B++)G[$]!==G[$+1]&&(P[B]=G[$]?2:1,++K),$++;for(G[$]!==0&&(P[B]=2,++K),D=1;D<w;D++){$=D*H,W=D*g,G[$-H]!==G[$]&&(P[W]=G[$]?1:8,++K);let tt=(G[$]?4:0)+(G[$-H]?8:0);for(B=1;B<E;B++)tt=(tt>>2)+(G[$+1]?4:0)+(G[$-H+1]?8:0),U[tt]&&(P[W+B]=U[tt],++K),$++;if(G[$-H]!==G[$]&&(P[W+B]=G[$]?2:4,++K),K>N)return null}for($=H*(w-1),W=D*g,G[$]!==0&&(P[W]=8,++K),B=1;B<E;B++)G[$]!==G[$+1]&&(P[W+B]=G[$]?4:8,++K),$++;if(G[$]!==0&&(P[W+B]=4,++K),K>N)return null;let Y=new Int32Array([0,g,-1,0,-g,0,0,0,1]),q=new Path2D;for(D=0;K&&D<=w;D++){let tt=D*g,et=tt+E;for(;tt<et&&!P[tt];)tt++;if(tt===et)continue;q.moveTo(tt%g,D);let nt=tt,st=P[tt];do{let lt=Y[st];do tt+=lt;while(!P[tt]);let rt=P[tt];rt!==5&&rt!==10?(st=rt,P[tt]=0):(st=rt&51*st>>4,P[tt]&=st>>2|st<<2),q.lineTo(tt%g,tt/g|0),P[tt]||--K}while(nt!==tt);--D}return G=null,P=null,function(tt){tt.save(),tt.scale(1/E,-1/w),tt.translate(0,-w),tt.fill(q),tt.beginPath(),tt.restore()}}class T{constructor(E,w){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,E,w])}clone(){let E=Object.create(this);return E.clipBox=this.clipBox.slice(),E}setCurrentPoint(E,w){this.x=E,this.y=w}updatePathMinMax(E,w,N){[w,N]=n.Util.applyTransform([w,N],E),this.minX=Math.min(this.minX,w),this.minY=Math.min(this.minY,N),this.maxX=Math.max(this.maxX,w),this.maxY=Math.max(this.maxY,N)}updateRectMinMax(E,w){let N=n.Util.applyTransform(w,E),U=n.Util.applyTransform(w.slice(2),E);this.minX=Math.min(this.minX,N[0],U[0]),this.minY=Math.min(this.minY,N[1],U[1]),this.maxX=Math.max(this.maxX,N[0],U[0]),this.maxY=Math.max(this.maxY,N[1],U[1])}updateScalingPathMinMax(E,w){n.Util.scaleMinMax(E,w),this.minX=Math.min(this.minX,w[0]),this.maxX=Math.max(this.maxX,w[1]),this.minY=Math.min(this.minY,w[2]),this.maxY=Math.max(this.maxY,w[3])}updateCurvePathMinMax(E,w,N,U,g,P,D,B,W,H){let G=n.Util.bezierBoundingBox(w,N,U,g,P,D,B,W);if(H){H[0]=Math.min(H[0],G[0],G[2]),H[1]=Math.max(H[1],G[0],G[2]),H[2]=Math.min(H[2],G[1],G[3]),H[3]=Math.max(H[3],G[1],G[3]);return}this.updateRectMinMax(E,G)}getPathBoundingBox(E=s.PathType.FILL,w=null){let N=[this.minX,this.minY,this.maxX,this.maxY];if(E===s.PathType.STROKE){w||(0,n.unreachable)("Stroke bounding box must include transform.");let U=n.Util.singularValueDecompose2dScale(w),g=U[0]*this.lineWidth/2,P=U[1]*this.lineWidth/2;N[0]-=g,N[1]-=P,N[2]+=g,N[3]+=P}return N}updateClipFromPath(){let E=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(E||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(E){this.clipBox=E,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(E=s.PathType.FILL,w=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(E,w))}}function S(M,E,w=null){if(typeof ImageData<"u"&&E instanceof ImageData){M.putImageData(E,0,0);return}let N=E.height,U=E.width,g=N%u,P=(N-g)/u,D=g===0?P:P+1,B=M.createImageData(U,u),W=0,H,G=E.data,$=B.data,K,Y,q,J,tt,et,nt,st;if(w)switch(w.length){case 1:tt=w[0],et=w[0],nt=w[0],st=w[0];break;case 4:tt=w[0],et=w[1],nt=w[2],st=w[3];break}if(E.kind===n.ImageKind.GRAYSCALE_1BPP){let lt=G.byteLength,rt=new Uint32Array($.buffer,0,$.byteLength>>2),gt=rt.length,_t=U+7>>3,ut=4294967295,bt=n.FeatureTest.isLittleEndian?4278190080:255;for(st&&st[0]===255&&st[255]===0&&([ut,bt]=[bt,ut]),K=0;K<D;K++){for(q=K<P?u:g,H=0,Y=0;Y<q;Y++){let Ct=lt-W,Xt=0,Lt=Ct>_t?U:Ct*8-7,fe=Lt&-8,Ft=0,Tt=0;for(;Xt<fe;Xt+=8)Tt=G[W++],rt[H++]=Tt&128?ut:bt,rt[H++]=Tt&64?ut:bt,rt[H++]=Tt&32?ut:bt,rt[H++]=Tt&16?ut:bt,rt[H++]=Tt&8?ut:bt,rt[H++]=Tt&4?ut:bt,rt[H++]=Tt&2?ut:bt,rt[H++]=Tt&1?ut:bt;for(;Xt<Lt;Xt++)Ft===0&&(Tt=G[W++],Ft=128),rt[H++]=Tt&Ft?ut:bt,Ft>>=1}for(;H<gt;)rt[H++]=0;M.putImageData(B,0,K*u)}}else if(E.kind===n.ImageKind.RGBA_32BPP){let lt=!!(tt||et||nt);for(Y=0,J=U*u*4,K=0;K<P;K++){if($.set(G.subarray(W,W+J)),W+=J,lt)for(let rt=0;rt<J;rt+=4)tt&&($[rt+0]=tt[$[rt+0]]),et&&($[rt+1]=et[$[rt+1]]),nt&&($[rt+2]=nt[$[rt+2]]);M.putImageData(B,0,Y),Y+=u}if(K<D){if(J=U*g*4,$.set(G.subarray(W,W+J)),lt)for(let rt=0;rt<J;rt+=4)tt&&($[rt+0]=tt[$[rt+0]]),et&&($[rt+1]=et[$[rt+1]]),nt&&($[rt+2]=nt[$[rt+2]]);M.putImageData(B,0,Y)}}else if(E.kind===n.ImageKind.RGB_24BPP){let lt=!!(tt||et||nt);for(q=u,J=U*q,K=0;K<D;K++){for(K>=P&&(q=g,J=U*q),H=0,Y=J;Y--;)$[H++]=G[W++],$[H++]=G[W++],$[H++]=G[W++],$[H++]=255;if(lt)for(let rt=0;rt<H;rt+=4)tt&&($[rt+0]=tt[$[rt+0]]),et&&($[rt+1]=et[$[rt+1]]),nt&&($[rt+2]=nt[$[rt+2]]);M.putImageData(B,0,K*u)}}else throw new Error(`bad image kind: ${E.kind}`)}function _(M,E){if(E.bitmap){M.drawImage(E.bitmap,0,0);return}let w=E.height,N=E.width,U=w%u,g=(w-U)/u,P=U===0?g:g+1,D=M.createImageData(N,u),B=0,W=E.data,H=D.data;for(let G=0;G<P;G++){let $=G<g?u:U;({srcPos:B}=(0,a.applyMaskImageData)({src:W,srcPos:B,dest:H,width:N,height:$})),M.putImageData(D,0,G*u)}}function b(M,E){let w=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let N=0,U=w.length;N<U;N++){let g=w[N];M[g]!==void 0&&(E[g]=M[g])}M.setLineDash!==void 0&&(E.setLineDash(M.getLineDash()),E.lineDashOffset=M.lineDashOffset)}function C(M,E){M.strokeStyle=M.fillStyle=E||"#000000",M.fillRule="nonzero",M.globalAlpha=1,M.lineWidth=1,M.lineCap="butt",M.lineJoin="miter",M.miterLimit=10,M.globalCompositeOperation="source-over",M.font="10px sans-serif",M.setLineDash!==void 0&&(M.setLineDash([]),M.lineDashOffset=0)}function F(M,E,w,N){let U=M.length;for(let g=3;g<U;g+=4){let P=M[g];if(P===0)M[g-3]=E,M[g-2]=w,M[g-1]=N;else if(P<255){let D=255-P;M[g-3]=M[g-3]*P+E*D>>8,M[g-2]=M[g-2]*P+w*D>>8,M[g-1]=M[g-1]*P+N*D>>8}}}function I(M,E,w){let N=M.length,U=1/255;for(let g=3;g<N;g+=4){let P=w?w[M[g]]:M[g];E[g]=E[g]*P*U|0}}function v(M,E,w){let N=M.length;for(let U=3;U<N;U+=4){let g=M[U-3]*77+M[U-2]*152+M[U-1]*28;E[U]=w?E[U]*w[g>>8]>>8:E[U]*g>>16}}function R(M,E,w,N,U,g,P,D,B,W,H){let G=!!g,$=G?g[0]:0,K=G?g[1]:0,Y=G?g[2]:0,q;U==="Luminosity"?q=v:q=I;let tt=Math.min(N,Math.ceil(1048576/w));for(let et=0;et<N;et+=tt){let nt=Math.min(tt,N-et),st=M.getImageData(D-W,et+(B-H),w,nt),lt=E.getImageData(D,et+B,w,nt);G&&F(st.data,$,K,Y),q(st.data,lt.data,P),E.putImageData(lt,D,et+B)}}function X(M,E,w,N){let U=N[0],g=N[1],P=N[2]-U,D=N[3]-g;P===0||D===0||(R(E.context,w,P,D,E.subtype,E.backdrop,E.transferMap,U,g,E.offsetX,E.offsetY),M.save(),M.globalAlpha=1,M.globalCompositeOperation="source-over",M.setTransform(1,0,0,1,0,0),M.drawImage(w.canvas,0,0),M.restore())}function V(M,E){let w=n.Util.singularValueDecompose2dScale(M);w[0]=Math.fround(w[0]),w[1]=Math.fround(w[1]);let N=Math.fround((globalThis.devicePixelRatio||1)*e.PixelsPerInch.PDF_TO_CSS_UNITS);return E!==void 0?E:w[0]<=N||w[1]<=N}let L=["butt","round","square"],k=["miter","round","bevel"],O={},j={};class z{constructor(E,w,N,U,g,P,D,B){this.ctx=E,this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=w,this.objs=N,this.canvasFactory=U,this.imageLayer=g,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=P,this.cachedCanvases=new m(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=D,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=B?.background||null,this.foregroundColor=B?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(E,w=null){return typeof E=="string"?E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E):w}beginDrawing({transform:E,viewport:w,transparency:N=!1,background:U=null}){let g=this.ctx.canvas.width,P=this.ctx.canvas.height,D=U||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;let B=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;let W=this.backgroundColor=this.ctx.fillStyle,H=!0,G=D;if(this.ctx.fillStyle=D,G=this.ctx.fillStyle,H=typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G),B==="#000000"&&W==="#ffffff"||B===W||!H)this.foregroundColor=this.backgroundColor=null;else{let[$,K,Y]=(0,e.getRGB)(G),q=tt=>(tt/=255,tt<=.03928?tt/12.92:((tt+.055)/1.055)**2.4),J=Math.round(.2126*q($)+.7152*q(K)+.0722*q(Y));this.selectColor=(tt,et,nt)=>{let st=.2126*q(tt)+.7152*q(et)+.0722*q(nt);return Math.round(st)===J?W:B}}}if(this.ctx.fillStyle=this.backgroundColor||D,this.ctx.fillRect(0,0,g,P),this.ctx.restore(),N){let B=this.cachedCanvases.getCanvas("transparent",g,P);this.compositeCtx=this.ctx,this.transparentCanvas=B.canvas,this.ctx=B.context,this.ctx.save(),this.ctx.transform(...(0,e.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),C(this.ctx,this.foregroundColor),E&&(this.ctx.transform(...E),this.outputScaleX=E[0],this.outputScaleY=E[0]),this.ctx.transform(...w.transform),this.viewportScale=w.scale,this.baseTransform=(0,e.getCurrentTransform)(this.ctx),this.imageLayer&&((0,e.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(E,w,N,U){let g=E.argsArray,P=E.fnArray,D=w||0,B=g.length;if(B===D)return D;let W=B-D>f&&typeof N=="function",H=W?Date.now()+c:0,G=0,$=this.commonObjs,K=this.objs,Y;for(;;){if(U!==void 0&&D===U.nextBreakPoint)return U.breakIt(D,N),D;if(Y=P[D],Y!==n.OPS.dependency)this[Y].apply(this,g[D]);else for(let q of g[D]){let J=q.startsWith("g_")?$:K;if(!J.has(q))return J.get(q,N),D}if(D++,D===B)return D;if(W&&++G>f){if(Date.now()>H)return N(),D;G=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let E of this._cachedBitmapsMap.values()){for(let w of E.values())typeof HTMLCanvasElement<"u"&&w instanceof HTMLCanvasElement&&(w.width=w.height=0);E.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(E,w){let N=E.width,U=E.height,g=Math.max(Math.hypot(w[0],w[1]),1),P=Math.max(Math.hypot(w[2],w[3]),1),D=N,B=U,W="prescale1",H,G;for(;g>2&&D>1||P>2&&B>1;){let $=D,K=B;g>2&&D>1&&($=Math.ceil(D/2),g/=D/$),P>2&&B>1&&(K=Math.ceil(B/2),P/=B/K),H=this.cachedCanvases.getCanvas(W,$,K),G=H.context,G.clearRect(0,0,$,K),G.drawImage(E,0,0,D,B,0,0,$,K),E=H.canvas,D=$,B=K,W=W==="prescale1"?"prescale2":"prescale1"}return{img:E,paintWidth:D,paintHeight:B}}_createMaskCanvas(E){let w=this.ctx,{width:N,height:U}=E,g=this.current.fillColor,P=this.current.patternFill,D=(0,e.getCurrentTransform)(w),B,W,H,G;if((E.bitmap||E.data)&&E.count>1){let gt=E.bitmap||E.data.buffer,_t=D.slice(0,4);W=JSON.stringify(P?_t:[_t,g]),B=this._cachedBitmapsMap.get(gt),B||(B=new Map,this._cachedBitmapsMap.set(gt,B));let ut=B.get(W);if(ut&&!P){let bt=Math.round(Math.min(D[0],D[2])+D[4]),Ct=Math.round(Math.min(D[1],D[3])+D[5]);return{canvas:ut,offsetX:bt,offsetY:Ct}}H=ut}H||(G=this.cachedCanvases.getCanvas("maskCanvas",N,U),_(G.context,E));let $=n.Util.transform(D,[1/N,0,0,-1/U,0,0]);$=n.Util.transform($,[1,0,0,1,0,-U]);let K=n.Util.applyTransform([0,0],$),Y=n.Util.applyTransform([N,U],$),q=n.Util.normalizeRect([K[0],K[1],Y[0],Y[1]]),J=Math.round(q[2]-q[0])||1,tt=Math.round(q[3]-q[1])||1,et=this.cachedCanvases.getCanvas("fillCanvas",J,tt),nt=et.context,st=Math.min(K[0],Y[0]),lt=Math.min(K[1],Y[1]);nt.translate(-st,-lt),nt.transform(...$),H||(H=this._scaleImage(G.canvas,(0,e.getCurrentTransformInverse)(nt)),H=H.img,B&&P&&B.set(W,H)),nt.imageSmoothingEnabled=V((0,e.getCurrentTransform)(nt),E.interpolate),x(nt,H,0,0,H.width,H.height,0,0,N,U),nt.globalCompositeOperation="source-in";let rt=n.Util.transform((0,e.getCurrentTransformInverse)(nt),[1,0,0,1,-st,-lt]);return nt.fillStyle=P?g.getPattern(w,this,rt,s.PathType.FILL):g,nt.fillRect(0,0,N,U),B&&!P&&(this.cachedCanvases.delete("fillCanvas"),B.set(W,et.canvas)),{canvas:et.canvas,offsetX:Math.round(st),offsetY:Math.round(lt)}}setLineWidth(E){E!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=E,this.ctx.lineWidth=E}setLineCap(E){this.ctx.lineCap=L[E]}setLineJoin(E){this.ctx.lineJoin=k[E]}setMiterLimit(E){this.ctx.miterLimit=E}setDash(E,w){let N=this.ctx;N.setLineDash!==void 0&&(N.setLineDash(E),N.lineDashOffset=w)}setRenderingIntent(E){}setFlatness(E){}setGState(E){for(let w=0,N=E.length;w<N;w++){let U=E[w],g=U[0],P=U[1];switch(g){case"LW":this.setLineWidth(P);break;case"LC":this.setLineCap(P);break;case"LJ":this.setLineJoin(P);break;case"ML":this.setMiterLimit(P);break;case"D":this.setDash(P[0],P[1]);break;case"RI":this.setRenderingIntent(P);break;case"FL":this.setFlatness(P);break;case"Font":this.setFont(P[0],P[1]);break;case"CA":this.current.strokeAlpha=U[1];break;case"ca":this.current.fillAlpha=U[1],this.ctx.globalAlpha=U[1];break;case"BM":this.ctx.globalCompositeOperation=P;break;case"SMask":this.current.activeSMask=P?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=P}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let E=this.inSMaskMode;this.current.activeSMask&&!E?this.beginSMaskMode():!this.current.activeSMask&&E&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let E=this.ctx.canvas.width,w=this.ctx.canvas.height,N="smaskGroupAt"+this.groupLevel,U=this.cachedCanvases.getCanvas(N,E,w);this.suspendedCtx=this.ctx,this.ctx=U.context;let g=this.ctx;g.setTransform(...(0,e.getCurrentTransform)(this.suspendedCtx)),b(this.suspendedCtx,g),h(g,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),b(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(E){if(!this.current.activeSMask)return;E?(E[0]=Math.floor(E[0]),E[1]=Math.floor(E[1]),E[2]=Math.ceil(E[2]),E[3]=Math.ceil(E[3])):E=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let w=this.current.activeSMask,N=this.suspendedCtx;X(N,w,this.ctx,E),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(b(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let E=this.current;this.stateStack.push(E),this.current=E.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),b(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(E,w,N,U,g,P){this.ctx.transform(E,w,N,U,g,P),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(E,w,N){let U=this.ctx,g=this.current,P=g.x,D=g.y,B,W,H=(0,e.getCurrentTransform)(U),G=H[0]===0&&H[3]===0||H[1]===0&&H[2]===0,$=G?N.slice(0):null;for(let K=0,Y=0,q=E.length;K<q;K++)switch(E[K]|0){case n.OPS.rectangle:P=w[Y++],D=w[Y++];let J=w[Y++],tt=w[Y++],et=P+J,nt=D+tt;U.moveTo(P,D),J===0||tt===0?U.lineTo(et,nt):(U.lineTo(et,D),U.lineTo(et,nt),U.lineTo(P,nt)),G||g.updateRectMinMax(H,[P,D,et,nt]),U.closePath();break;case n.OPS.moveTo:P=w[Y++],D=w[Y++],U.moveTo(P,D),G||g.updatePathMinMax(H,P,D);break;case n.OPS.lineTo:P=w[Y++],D=w[Y++],U.lineTo(P,D),G||g.updatePathMinMax(H,P,D);break;case n.OPS.curveTo:B=P,W=D,P=w[Y+4],D=w[Y+5],U.bezierCurveTo(w[Y],w[Y+1],w[Y+2],w[Y+3],P,D),g.updateCurvePathMinMax(H,B,W,w[Y],w[Y+1],w[Y+2],w[Y+3],P,D,$),Y+=6;break;case n.OPS.curveTo2:B=P,W=D,U.bezierCurveTo(P,D,w[Y],w[Y+1],w[Y+2],w[Y+3]),g.updateCurvePathMinMax(H,B,W,P,D,w[Y],w[Y+1],w[Y+2],w[Y+3],$),P=w[Y+2],D=w[Y+3],Y+=4;break;case n.OPS.curveTo3:B=P,W=D,P=w[Y+2],D=w[Y+3],U.bezierCurveTo(w[Y],w[Y+1],P,D,P,D),g.updateCurvePathMinMax(H,B,W,w[Y],w[Y+1],P,D,P,D,$),Y+=4;break;case n.OPS.closePath:U.closePath();break}G&&g.updateScalingPathMinMax(H,$),g.setCurrentPoint(P,D)}closePath(){this.ctx.closePath()}stroke(E){E=typeof E<"u"?E:!0;let w=this.ctx,N=this.current.strokeColor;w.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof N=="object"&&N?.getPattern?(w.save(),w.strokeStyle=N.getPattern(w,this,(0,e.getCurrentTransformInverse)(w),s.PathType.STROKE),this.rescaleAndStroke(!1),w.restore()):this.rescaleAndStroke(!0)),E&&this.consumePath(this.current.getClippedPathBoundingBox()),w.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(E){E=typeof E<"u"?E:!0;let w=this.ctx,N=this.current.fillColor,U=this.current.patternFill,g=!1;U&&(w.save(),w.fillStyle=N.getPattern(w,this,(0,e.getCurrentTransformInverse)(w),s.PathType.FILL),g=!0);let P=this.current.getClippedPathBoundingBox();this.contentVisible&&P!==null&&(this.pendingEOFill?(w.fill("evenodd"),this.pendingEOFill=!1):w.fill()),g&&w.restore(),E&&this.consumePath(P)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=O}eoClip(){this.pendingClip=j}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let E=this.pendingTextPaths,w=this.ctx;if(E===void 0){w.beginPath();return}w.save(),w.beginPath();for(let N of E)w.setTransform(...N.transform),w.translate(N.x,N.y),N.addToPath(w,N.fontSize);w.restore(),w.clip(),w.beginPath(),delete this.pendingTextPaths}setCharSpacing(E){this.current.charSpacing=E}setWordSpacing(E){this.current.wordSpacing=E}setHScale(E){this.current.textHScale=E/100}setLeading(E){this.current.leading=-E}setFont(E,w){let N=this.commonObjs.get(E),U=this.current;if(!N)throw new Error(`Can't find font for ${E}`);if(U.fontMatrix=N.fontMatrix||n.FONT_IDENTITY_MATRIX,(U.fontMatrix[0]===0||U.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+E),w<0?(w=-w,U.fontDirection=-1):U.fontDirection=1,this.current.font=N,this.current.fontSize=w,N.isType3Font)return;let g=N.loadedName||"sans-serif",P="normal";N.black?P="900":N.bold&&(P="bold");let D=N.italic?"italic":"normal",B=`"${g}", ${N.fallbackName}`,W=w;w<l?W=l:w>d&&(W=d),this.current.fontSizeScale=w/W,this.ctx.font=`${D} ${P} ${W}px ${B}`}setTextRenderingMode(E){this.current.textRenderingMode=E}setTextRise(E){this.current.textRise=E}moveText(E,w){this.current.x=this.current.lineX+=E,this.current.y=this.current.lineY+=w}setLeadingMoveText(E,w){this.setLeading(-w),this.moveText(E,w)}setTextMatrix(E,w,N,U,g,P){this.current.textMatrix=[E,w,N,U,g,P],this.current.textMatrixScale=Math.hypot(E,w),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(E,w,N,U){let g=this.ctx,P=this.current,D=P.font,B=P.textRenderingMode,W=P.fontSize/P.fontSizeScale,H=B&n.TextRenderingMode.FILL_STROKE_MASK,G=!!(B&n.TextRenderingMode.ADD_TO_PATH_FLAG),$=P.patternFill&&!D.missingFile,K;(D.disableFontFace||G||$)&&(K=D.getPathGenerator(this.commonObjs,E)),D.disableFontFace||$?(g.save(),g.translate(w,N),g.beginPath(),K(g,W),U&&g.setTransform(...U),(H===n.TextRenderingMode.FILL||H===n.TextRenderingMode.FILL_STROKE)&&g.fill(),(H===n.TextRenderingMode.STROKE||H===n.TextRenderingMode.FILL_STROKE)&&g.stroke(),g.restore()):((H===n.TextRenderingMode.FILL||H===n.TextRenderingMode.FILL_STROKE)&&g.fillText(E,w,N),(H===n.TextRenderingMode.STROKE||H===n.TextRenderingMode.FILL_STROKE)&&g.strokeText(E,w,N)),G&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,e.getCurrentTransform)(g),x:w,y:N,fontSize:W,addToPath:K})}get isFontSubpixelAAEnabled(){let{context:E}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);E.scale(1.5,1),E.fillText("I",0,10);let w=E.getImageData(0,0,10,10).data,N=!1;for(let U=3;U<w.length;U+=4)if(w[U]>0&&w[U]<255){N=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",N)}showText(E){let w=this.current,N=w.font;if(N.isType3Font)return this.showType3Text(E);let U=w.fontSize;if(U===0)return;let g=this.ctx,P=w.fontSizeScale,D=w.charSpacing,B=w.wordSpacing,W=w.fontDirection,H=w.textHScale*W,G=E.length,$=N.vertical,K=$?1:-1,Y=N.defaultVMetrics,q=U*w.fontMatrix[0],J=w.textRenderingMode===n.TextRenderingMode.FILL&&!N.disableFontFace&&!w.patternFill;g.save(),g.transform(...w.textMatrix),g.translate(w.x,w.y+w.textRise),W>0?g.scale(H,-1):g.scale(H,1);let tt;if(w.patternFill){g.save();let rt=w.fillColor.getPattern(g,this,(0,e.getCurrentTransformInverse)(g),s.PathType.FILL);tt=(0,e.getCurrentTransform)(g),g.restore(),g.fillStyle=rt}let et=w.lineWidth,nt=w.textMatrixScale;if(nt===0||et===0){let rt=w.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(rt===n.TextRenderingMode.STROKE||rt===n.TextRenderingMode.FILL_STROKE)&&(et=this.getSinglePixelWidth())}else et/=nt;P!==1&&(g.scale(P,P),et/=P),g.lineWidth=et;let st=0,lt;for(lt=0;lt<G;++lt){let rt=E[lt];if(typeof rt=="number"){st+=K*rt*U/1e3;continue}let gt=!1,_t=(rt.isSpace?B:0)+D,ut=rt.fontChar,bt=rt.accent,Ct,Xt,Lt=rt.width;if($){let Ft=rt.vmetric||Y,Tt=-(rt.vmetric?Ft[1]:Lt*.5)*q,Yt=Ft[2]*q;Lt=Ft?-Ft[0]:Lt,Ct=Tt/P,Xt=(st+Yt)/P}else Ct=st/P,Xt=0;if(N.remeasure&&Lt>0){let Ft=g.measureText(ut).width*1e3/U*P;if(Lt<Ft&&this.isFontSubpixelAAEnabled){let Tt=Lt/Ft;gt=!0,g.save(),g.scale(Tt,1),Ct/=Tt}else Lt!==Ft&&(Ct+=(Lt-Ft)/2e3*U/P)}if(this.contentVisible&&(rt.isInFont||N.missingFile)){if(J&&!bt)g.fillText(ut,Ct,Xt);else if(this.paintChar(ut,Ct,Xt,tt),bt){let Ft=Ct+U*bt.offset.x/P,Tt=Xt-U*bt.offset.y/P;this.paintChar(bt.fontChar,Ft,Tt,tt)}}let fe;$?fe=Lt*q-_t*W:fe=Lt*q+_t*W,st+=fe,gt&&g.restore()}$?w.y-=st:w.x+=st*H,g.restore(),this.compose()}showType3Text(E){let w=this.ctx,N=this.current,U=N.font,g=N.fontSize,P=N.fontDirection,D=U.vertical?1:-1,B=N.charSpacing,W=N.wordSpacing,H=N.textHScale*P,G=N.fontMatrix||n.FONT_IDENTITY_MATRIX,$=E.length,K=N.textRenderingMode===n.TextRenderingMode.INVISIBLE,Y,q,J,tt;if(!(K||g===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,w.save(),w.transform(...N.textMatrix),w.translate(N.x,N.y),w.scale(H,P),Y=0;Y<$;++Y){if(q=E[Y],typeof q=="number"){tt=D*q*g/1e3,this.ctx.translate(tt,0),N.x+=tt*H;continue}let et=(q.isSpace?W:0)+B,nt=U.charProcOperatorList[q.operatorListId];if(!nt){(0,n.warn)(`Type3 character "${q.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=q,this.save(),w.scale(g,g),w.transform(...G),this.executeOperatorList(nt),this.restore()),J=n.Util.applyTransform([q.width,0],G)[0]*g+et,w.translate(J,0),N.x+=J*H}w.restore(),this.processingType3=null}}setCharWidth(E,w){}setCharWidthAndBounds(E,w,N,U,g,P){this.ctx.rect(N,U,g-N,P-U),this.ctx.clip(),this.endPath()}getColorN_Pattern(E){let w;if(E[0]==="TilingPattern"){let N=E[1],U=this.baseTransform||(0,e.getCurrentTransform)(this.ctx),g={createCanvasGraphics:P=>new z(P,this.commonObjs,this.objs,this.canvasFactory)};w=new s.TilingPattern(E,N,this.ctx,g,U)}else w=this._getPattern(E[1],E[2]);return w}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(E,w,N){let U=this.selectColor?.(E,w,N)||n.Util.makeHexColor(E,w,N);this.ctx.strokeStyle=U,this.current.strokeColor=U}setFillRGBColor(E,w,N){let U=this.selectColor?.(E,w,N)||n.Util.makeHexColor(E,w,N);this.ctx.fillStyle=U,this.current.fillColor=U,this.current.patternFill=!1}_getPattern(E,w=null){let N;return this.cachedPatterns.has(E)?N=this.cachedPatterns.get(E):(N=(0,s.getShadingPattern)(this.objs.get(E)),this.cachedPatterns.set(E,N)),w&&(N.matrix=w),N}shadingFill(E){if(!this.contentVisible)return;let w=this.ctx;this.save();let N=this._getPattern(E);w.fillStyle=N.getPattern(w,this,(0,e.getCurrentTransformInverse)(w),s.PathType.SHADING);let U=(0,e.getCurrentTransformInverse)(w);if(U){let g=w.canvas,P=g.width,D=g.height,B=n.Util.applyTransform([0,0],U),W=n.Util.applyTransform([0,D],U),H=n.Util.applyTransform([P,0],U),G=n.Util.applyTransform([P,D],U),$=Math.min(B[0],W[0],H[0],G[0]),K=Math.min(B[1],W[1],H[1],G[1]),Y=Math.max(B[0],W[0],H[0],G[0]),q=Math.max(B[1],W[1],H[1],G[1]);this.ctx.fillRect($,K,Y-$,q-K)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(E,w){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(E)&&E.length===6&&this.transform(...E),this.baseTransform=(0,e.getCurrentTransform)(this.ctx),w)){let N=w[2]-w[0],U=w[3]-w[1];this.ctx.rect(w[0],w[1],N,U),this.current.updateRectMinMax((0,e.getCurrentTransform)(this.ctx),w),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(E){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let w=this.ctx;E.isolated||(0,n.info)("TODO: Support non-isolated groups."),E.knockout&&(0,n.warn)("Knockout groups not supported.");let N=(0,e.getCurrentTransform)(w);if(E.matrix&&w.transform(...E.matrix),!E.bbox)throw new Error("Bounding box is required.");let U=n.Util.getAxialAlignedBoundingBox(E.bbox,(0,e.getCurrentTransform)(w)),g=[0,0,w.canvas.width,w.canvas.height];U=n.Util.intersect(U,g)||[0,0,0,0];let P=Math.floor(U[0]),D=Math.floor(U[1]),B=Math.max(Math.ceil(U[2])-P,1),W=Math.max(Math.ceil(U[3])-D,1),H=1,G=1;B>o&&(H=B/o,B=o),W>o&&(G=W/o,W=o),this.current.startNewPathAndClipBox([0,0,B,W]);let $="groupAt"+this.groupLevel;E.smask&&($+="_smask_"+this.smaskCounter++%2);let K=this.cachedCanvases.getCanvas($,B,W),Y=K.context;Y.scale(1/H,1/G),Y.translate(-P,-D),Y.transform(...N),E.smask?this.smaskStack.push({canvas:K.canvas,context:Y,offsetX:P,offsetY:D,scaleX:H,scaleY:G,subtype:E.smask.subtype,backdrop:E.smask.backdrop,transferMap:E.smask.transferMap||null,startTransformInverse:null}):(w.setTransform(1,0,0,1,0,0),w.translate(P,D),w.scale(H,G),w.save()),b(w,Y),this.ctx=Y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(w),this.groupLevel++}endGroup(E){if(!this.contentVisible)return;this.groupLevel--;let w=this.ctx,N=this.groupStack.pop();if(this.ctx=N,this.ctx.imageSmoothingEnabled=!1,E.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let U=(0,e.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...U);let g=n.Util.getAxialAlignedBoundingBox([0,0,w.canvas.width,w.canvas.height],U);this.ctx.drawImage(w.canvas,0,0),this.ctx.restore(),this.compose(g)}}beginAnnotation(E,w,N,U,g){if(this.#t(),C(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(w)&&w.length===4){let P=w[2]-w[0],D=w[3]-w[1];if(g&&this.annotationCanvasMap){N=N.slice(),N[4]-=w[0],N[5]-=w[1],w=w.slice(),w[0]=w[1]=0,w[2]=P,w[3]=D;let[B,W]=n.Util.singularValueDecompose2dScale((0,e.getCurrentTransform)(this.ctx)),{viewportScale:H}=this,G=Math.ceil(P*this.outputScaleX*H),$=Math.ceil(D*this.outputScaleY*H);this.annotationCanvas=this.canvasFactory.create(G,$);let{canvas:K,context:Y}=this.annotationCanvas;this.annotationCanvasMap.set(E,K),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Y,this.ctx.setTransform(B,0,0,-W,0,D*W),C(this.ctx,this.foregroundColor)}else C(this.ctx,this.foregroundColor),this.ctx.rect(w[0],w[1],P,D),this.ctx.clip(),this.endPath()}this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...N),this.transform(...U)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(E){if(!this.contentVisible)return;let w=E.count;E=this.getObject(E.data,E),E.count=w;let N=this.ctx,U=this.processingType3;if(U&&(U.compiled===void 0&&(U.compiled=y(E)),U.compiled)){U.compiled(N);return}let g=this._createMaskCanvas(E),P=g.canvas;N.save(),N.setTransform(1,0,0,1,0,0),N.drawImage(P,g.offsetX,g.offsetY),N.restore(),this.compose()}paintImageMaskXObjectRepeat(E,w,N=0,U=0,g,P){if(!this.contentVisible)return;E=this.getObject(E.data,E);let D=this.ctx;D.save();let B=(0,e.getCurrentTransform)(D);D.transform(w,N,U,g,0,0);let W=this._createMaskCanvas(E);D.setTransform(1,0,0,1,0,0);for(let H=0,G=P.length;H<G;H+=2){let $=n.Util.transform(B,[w,N,U,g,P[H],P[H+1]]),[K,Y]=n.Util.applyTransform([0,0],$);D.drawImage(W.canvas,K,Y)}D.restore(),this.compose()}paintImageMaskXObjectGroup(E){if(!this.contentVisible)return;let w=this.ctx,N=this.current.fillColor,U=this.current.patternFill;for(let g of E){let{data:P,width:D,height:B,transform:W}=g,H=this.cachedCanvases.getCanvas("maskCanvas",D,B),G=H.context;G.save();let $=this.getObject(P,g);_(G,$),G.globalCompositeOperation="source-in",G.fillStyle=U?N.getPattern(G,this,(0,e.getCurrentTransformInverse)(w),s.PathType.FILL):N,G.fillRect(0,0,D,B),G.restore(),w.save(),w.transform(...W),w.scale(1,-1),x(w,H.canvas,0,0,D,B,0,-1,1,1),w.restore()}this.compose()}paintImageXObject(E){if(!this.contentVisible)return;let w=this.getObject(E);if(!w){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(w)}paintImageXObjectRepeat(E,w,N,U){if(!this.contentVisible)return;let g=this.getObject(E);if(!g){(0,n.warn)("Dependent image isn't ready yet");return}let P=g.width,D=g.height,B=[];for(let W=0,H=U.length;W<H;W+=2)B.push({transform:[w,0,0,N,U[W],U[W+1]],x:0,y:0,w:P,h:D});this.paintInlineImageXObjectGroup(g,B)}paintInlineImageXObject(E){if(!this.contentVisible)return;let w=E.width,N=E.height,U=this.ctx;this.save(),U.scale(1/w,-1/N);let g;if(typeof HTMLElement=="function"&&E instanceof HTMLElement||!E.data)g=E;else{let W=this.cachedCanvases.getCanvas("inlineImage",w,N),H=W.context;S(H,E,this.current.transferMaps),g=W.canvas}let P=this._scaleImage(g,(0,e.getCurrentTransformInverse)(U));U.imageSmoothingEnabled=V((0,e.getCurrentTransform)(U),E.interpolate);let[D,B]=x(U,P.img,0,0,P.paintWidth,P.paintHeight,0,-N,w,N);if(this.imageLayer){let[W,H]=n.Util.applyTransform([0,-N],(0,e.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:E,left:W,top:H,width:D,height:B})}this.compose(),this.restore()}paintInlineImageXObjectGroup(E,w){if(!this.contentVisible)return;let N=this.ctx,U=E.width,g=E.height,P=this.cachedCanvases.getCanvas("inlineImage",U,g),D=P.context;S(D,E,this.current.transferMaps);for(let B of w){if(N.save(),N.transform(...B.transform),N.scale(1,-1),x(N,P.canvas,B.x,B.y,B.w,B.h,0,-1,1,1),this.imageLayer){let[W,H]=n.Util.applyTransform([B.x,B.y],(0,e.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:E,left:W,top:H,width:U,height:g})}N.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(E){}markPointProps(E,w){}beginMarkedContent(E){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(E,w){E==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(w)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(E){let w=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(E);let N=this.ctx;this.pendingClip&&(w||(this.pendingClip===j?N.clip("evenodd"):N.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),N.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let E=(0,e.getCurrentTransform)(this.ctx);if(E[1]===0&&E[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(E[0]),Math.abs(E[3]));else{let w=Math.abs(E[0]*E[3]-E[2]*E[1]),N=Math.hypot(E[0],E[2]),U=Math.hypot(E[1],E[3]);this._cachedGetSinglePixelWidth=Math.max(N,U)/w}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){let{lineWidth:E}=this.current,w=(0,e.getCurrentTransform)(this.ctx),N,U;if(w[1]===0&&w[2]===0){let g=Math.abs(w[0]),P=Math.abs(w[3]);if(E===0)N=1/g,U=1/P;else{let D=g*E,B=P*E;N=D<1?1/D:1,U=B<1?1/B:1}}else{let g=Math.abs(w[0]*w[3]-w[2]*w[1]),P=Math.hypot(w[0],w[1]),D=Math.hypot(w[2],w[3]);if(E===0)N=D/g,U=P/g;else{let B=E*g;N=D>B?D/B:1,U=P>B?P/B:1}}this._cachedScaleForStroking=[N,U]}return this._cachedScaleForStroking}rescaleAndStroke(E){let{ctx:w}=this,{lineWidth:N}=this.current,[U,g]=this.getScaleForStroking();if(w.lineWidth=N||1,U===1&&g===1){w.stroke();return}let P,D,B;E&&(P=(0,e.getCurrentTransform)(w),D=w.getLineDash().slice(),B=w.lineDashOffset),w.scale(U,g);let W=Math.max(U,g);w.setLineDash(w.getLineDash().map(H=>H/W)),w.lineDashOffset/=W,w.stroke(),E&&(w.setTransform(...P),w.setLineDash(D),w.lineDashOffset=B)}isContentVisible(){for(let E=this.markedContentStack.length-1;E>=0;E--)if(!this.markedContentStack[E].visible)return!1;return!0}}t.CanvasGraphics=z;for(let M in n.OPS)z.prototype[M]!==void 0&&(z.prototype[n.OPS[M]]=z.prototype[M])},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=u;var e=i(1),n=i(8),s=i(3);let a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=a;function r(x,y){if(!y||s.isNodeJS)return;let T=y[2]-y[0],S=y[3]-y[1],_=new Path2D;_.rect(y[0],y[1],T,S),x.clip(_)}class l{constructor(){this.constructor===l&&(0,e.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,e.unreachable)("Abstract method `getPattern` called.")}}class d extends l{constructor(y){super(),this._type=y[1],this._bbox=y[2],this._colorStops=y[3],this._p0=y[4],this._p1=y[5],this._r0=y[6],this._r1=y[7],this.matrix=null}_createGradient(y){let T;this._type==="axial"?T=y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(T=y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let S of this._colorStops)T.addColorStop(S[0],S[1]);return T}getPattern(y,T,S,_){let b;if(_===a.STROKE||_===a.FILL){let C=T.current.getClippedPathBoundingBox(_,(0,n.getCurrentTransform)(y))||[0,0,0,0],F=Math.ceil(C[2]-C[0])||1,I=Math.ceil(C[3]-C[1])||1,v=T.cachedCanvases.getCanvas("pattern",F,I,!0),R=v.context;R.clearRect(0,0,R.canvas.width,R.canvas.height),R.beginPath(),R.rect(0,0,R.canvas.width,R.canvas.height),R.translate(-C[0],-C[1]),S=e.Util.transform(S,[1,0,0,1,C[0],C[1]]),R.transform(...T.baseTransform),this.matrix&&R.transform(...this.matrix),r(R,this._bbox),R.fillStyle=this._createGradient(R),R.fill(),b=y.createPattern(v.canvas,"no-repeat");let X=new DOMMatrix(S);try{b.setTransform(X)}catch(V){(0,e.warn)(`RadialAxialShadingPattern.getPattern: "${V?.message}".`)}}else r(y,this._bbox),b=this._createGradient(y);return b}}function o(x,y,T,S,_,b,C,F){let I=y.coords,v=y.colors,R=x.data,X=x.width*4,V;I[T+1]>I[S+1]&&(V=T,T=S,S=V,V=b,b=C,C=V),I[S+1]>I[_+1]&&(V=S,S=_,_=V,V=C,C=F,F=V),I[T+1]>I[S+1]&&(V=T,T=S,S=V,V=b,b=C,C=V);let L=(I[T]+y.offsetX)*y.scaleX,k=(I[T+1]+y.offsetY)*y.scaleY,O=(I[S]+y.offsetX)*y.scaleX,j=(I[S+1]+y.offsetY)*y.scaleY,z=(I[_]+y.offsetX)*y.scaleX,M=(I[_+1]+y.offsetY)*y.scaleY;if(k>=M)return;let E=v[b],w=v[b+1],N=v[b+2],U=v[C],g=v[C+1],P=v[C+2],D=v[F],B=v[F+1],W=v[F+2],H=Math.round(k),G=Math.round(M),$,K,Y,q,J,tt,et,nt;for(let st=H;st<=G;st++){if(st<j){let ut;st<k?ut=0:ut=(k-st)/(k-j),$=L-(L-O)*ut,K=E-(E-U)*ut,Y=w-(w-g)*ut,q=N-(N-P)*ut}else{let ut;st>M?ut=1:j===M?ut=0:ut=(j-st)/(j-M),$=O-(O-z)*ut,K=U-(U-D)*ut,Y=g-(g-B)*ut,q=P-(P-W)*ut}let lt;st<k?lt=0:st>M?lt=1:lt=(k-st)/(k-M),J=L-(L-z)*lt,tt=E-(E-D)*lt,et=w-(w-B)*lt,nt=N-(N-W)*lt;let rt=Math.round(Math.min($,J)),gt=Math.round(Math.max($,J)),_t=X*st+rt*4;for(let ut=rt;ut<=gt;ut++)lt=($-ut)/($-J),lt<0?lt=0:lt>1&&(lt=1),R[_t++]=K-(K-tt)*lt|0,R[_t++]=Y-(Y-et)*lt|0,R[_t++]=q-(q-nt)*lt|0,R[_t++]=255}}function c(x,y,T){let S=y.coords,_=y.colors,b,C;switch(y.type){case"lattice":let F=y.verticesPerRow,I=Math.floor(S.length/F)-1,v=F-1;for(b=0;b<I;b++){let R=b*F;for(let X=0;X<v;X++,R++)o(x,T,S[R],S[R+1],S[R+F],_[R],_[R+1],_[R+F]),o(x,T,S[R+F+1],S[R+1],S[R+F],_[R+F+1],_[R+1],_[R+F])}break;case"triangles":for(b=0,C=S.length;b<C;b+=3)o(x,T,S[b],S[b+1],S[b+2],_[b],_[b+1],_[b+2]);break;default:throw new Error("illegal figure")}}class f extends l{constructor(y){super(),this._coords=y[2],this._colors=y[3],this._figures=y[4],this._bounds=y[5],this._bbox=y[7],this._background=y[8],this.matrix=null}_createMeshCanvas(y,T,S){let F=Math.floor(this._bounds[0]),I=Math.floor(this._bounds[1]),v=Math.ceil(this._bounds[2])-F,R=Math.ceil(this._bounds[3])-I,X=Math.min(Math.ceil(Math.abs(v*y[0]*1.1)),3e3),V=Math.min(Math.ceil(Math.abs(R*y[1]*1.1)),3e3),L=v/X,k=R/V,O={coords:this._coords,colors:this._colors,offsetX:-F,offsetY:-I,scaleX:1/L,scaleY:1/k},j=X+2*2,z=V+2*2,M=S.getCanvas("mesh",j,z,!1),E=M.context,w=E.createImageData(X,V);if(T){let U=w.data;for(let g=0,P=U.length;g<P;g+=4)U[g]=T[0],U[g+1]=T[1],U[g+2]=T[2],U[g+3]=255}for(let U of this._figures)c(w,U,O);return E.putImageData(w,2,2),{canvas:M.canvas,offsetX:F-2*L,offsetY:I-2*k,scaleX:L,scaleY:k}}getPattern(y,T,S,_){r(y,this._bbox);let b;if(_===a.SHADING)b=e.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(y));else if(b=e.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){let F=e.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*F[0],b[1]*F[1]]}let C=this._createMeshCanvas(b,_===a.SHADING?null:this._background,T.cachedCanvases);return _!==a.SHADING&&(y.setTransform(...T.baseTransform),this.matrix&&y.transform(...this.matrix)),y.translate(C.offsetX,C.offsetY),y.scale(C.scaleX,C.scaleY),y.createPattern(C.canvas,"no-repeat")}}class p extends l{getPattern(){return"hotpink"}}function u(x){switch(x[0]){case"RadialAxial":return new d(x);case"Mesh":return new f(x);case"Dummy":return new p}throw new Error(`Unknown IR type: ${x[0]}`)}let h={COLORED:1,UNCOLORED:2};class m{static get MAX_PATTERN_SIZE(){return(0,e.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(y,T,S,_,b){this.operatorList=y[2],this.matrix=y[3]||[1,0,0,1,0,0],this.bbox=y[4],this.xstep=y[5],this.ystep=y[6],this.paintType=y[7],this.tilingType=y[8],this.color=T,this.ctx=S,this.canvasGraphicsFactory=_,this.baseTransform=b}createPatternCanvas(y){let T=this.operatorList,S=this.bbox,_=this.xstep,b=this.ystep,C=this.paintType,F=this.tilingType,I=this.color,v=this.canvasGraphicsFactory;(0,e.info)("TilingType: "+F);let R=S[0],X=S[1],V=S[2],L=S[3],k=e.Util.singularValueDecompose2dScale(this.matrix),O=e.Util.singularValueDecompose2dScale(this.baseTransform),j=[k[0]*O[0],k[1]*O[1]],z=this.getSizeAndScale(_,this.ctx.canvas.width,j[0]),M=this.getSizeAndScale(b,this.ctx.canvas.height,j[1]),E=y.cachedCanvases.getCanvas("pattern",z.size,M.size,!0),w=E.context,N=v.createCanvasGraphics(w);N.groupLevel=y.groupLevel,this.setFillAndStrokeStyleToContext(N,C,I);let U=R,g=X,P=V,D=L;return R<0&&(U=0,P+=Math.abs(R)),X<0&&(g=0,D+=Math.abs(X)),w.translate(-(z.scale*U),-(M.scale*g)),N.transform(z.scale,0,0,M.scale,0,0),w.save(),this.clipBbox(N,U,g,P,D),N.baseTransform=(0,n.getCurrentTransform)(N.ctx),N.executeOperatorList(T),N.endDrawing(),{canvas:E.canvas,scaleX:z.scale,scaleY:M.scale,offsetX:U,offsetY:g}}getSizeAndScale(y,T,S){y=Math.abs(y);let _=Math.max(m.MAX_PATTERN_SIZE,T),b=Math.ceil(y*S);return b>=_?b=_:S=b/y,{scale:S,size:b}}clipBbox(y,T,S,_,b){let C=_-T,F=b-S;y.ctx.rect(T,S,C,F),y.current.updateRectMinMax((0,n.getCurrentTransform)(y.ctx),[T,S,_,b]),y.clip(),y.endPath()}setFillAndStrokeStyleToContext(y,T,S){let _=y.ctx,b=y.current;switch(T){case h.COLORED:let C=this.ctx;_.fillStyle=C.fillStyle,_.strokeStyle=C.strokeStyle,b.fillColor=C.fillStyle,b.strokeColor=C.strokeStyle;break;case h.UNCOLORED:let F=e.Util.makeHexColor(S[0],S[1],S[2]);_.fillStyle=F,_.strokeStyle=F,b.fillColor=F,b.strokeColor=F;break;default:throw new e.FormatError(`Unsupported paint type: ${T}`)}}getPattern(y,T,S,_){let b=S;_!==a.SHADING&&(b=e.Util.transform(b,T.baseTransform),this.matrix&&(b=e.Util.transform(b,this.matrix)));let C=this.createPatternCanvas(T),F=new DOMMatrix(b);F=F.translate(C.offsetX,C.offsetY),F=F.scale(1/C.scaleX,1/C.scaleY);let I=y.createPattern(C.canvas,"repeat");try{I.setTransform(F)}catch(v){(0,e.warn)(`TilingPattern.getPattern: "${v?.message}".`)}return I}}t.TilingPattern=m},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=n;var e=i(1);function n({src:s,srcPos:a=0,dest:r,destPos:l=0,width:d,height:o,inverseDecode:c=!1}){let f=e.FeatureTest.isLittleEndian?4278190080:255,[p,u]=c?[0,f]:[f,0],h=d>>3,m=d&7,x=s.length;r=new Uint32Array(r.buffer);for(let y=0;y<o;y++){for(let S=a+h;a<S;a++){let _=a<x?s[a]:255;r[l++]=_&128?u:p,r[l++]=_&64?u:p,r[l++]=_&32?u:p,r[l++]=_&16?u:p,r[l++]=_&8?u:p,r[l++]=_&4?u:p,r[l++]=_&2?u:p,r[l++]=_&1?u:p}if(m===0)continue;let T=a<x?s[a++]:255;for(let S=0;S<m;S++)r[l++]=T&1<<7-S?u:p}return{srcPos:a,destPos:l}}},(A,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;let i=Object.create(null);t.GlobalWorkerOptions=i,i.workerPort=i.workerPort===void 0?null:i.workerPort,i.workerSrc=i.workerSrc===void 0?"":i.workerSrc},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var e=i(1);let n={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function a(l){switch(l instanceof Error||typeof l=="object"&&l!==null||(0,e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new e.AbortException(l.message);case"MissingPDFException":return new e.MissingPDFException(l.message);case"PasswordException":return new e.PasswordException(l.message,l.code);case"UnexpectedResponseException":return new e.UnexpectedResponseException(l.message,l.status);case"UnknownErrorException":return new e.UnknownErrorException(l.message,l.details);default:return new e.UnknownErrorException(l.message,l.toString())}}class r{constructor(d,o,c){this.sourceName=d,this.targetName=o,this.comObj=c,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=f=>{let p=f.data;if(p.targetName!==this.sourceName)return;if(p.stream){this._processStreamMessage(p);return}if(p.callback){let h=p.callbackId,m=this.callbackCapabilities[h];if(!m)throw new Error(`Cannot resolve callback ${h}`);if(delete this.callbackCapabilities[h],p.callback===n.DATA)m.resolve(p.data);else if(p.callback===n.ERROR)m.reject(a(p.reason));else throw new Error("Unexpected callback case");return}let u=this.actionHandler[p.action];if(!u)throw new Error(`Unknown action from worker: ${p.action}`);if(p.callbackId){let h=this.sourceName,m=p.sourceName;new Promise(function(x){x(u(p.data))}).then(function(x){c.postMessage({sourceName:h,targetName:m,callback:n.DATA,callbackId:p.callbackId,data:x})},function(x){c.postMessage({sourceName:h,targetName:m,callback:n.ERROR,callbackId:p.callbackId,reason:a(x)})});return}if(p.streamId){this._createStreamSink(p);return}u(p.data)},c.addEventListener("message",this._onComObjOnMessage)}on(d,o){let c=this.actionHandler;if(c[d])throw new Error(`There is already an actionName called "${d}"`);c[d]=o}send(d,o,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:o},c)}sendWithPromise(d,o,c){let f=this.callbackId++,p=(0,e.createPromiseCapability)();this.callbackCapabilities[f]=p;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:f,data:o},c)}catch(u){p.reject(u)}return p.promise}sendWithStream(d,o,c,f){let p=this.streamId++,u=this.sourceName,h=this.targetName,m=this.comObj;return new ReadableStream({start:x=>{let y=(0,e.createPromiseCapability)();return this.streamControllers[p]={controller:x,startCall:y,pullCall:null,cancelCall:null,isClosed:!1},m.postMessage({sourceName:u,targetName:h,action:d,streamId:p,data:o,desiredSize:x.desiredSize},f),y.promise},pull:x=>{let y=(0,e.createPromiseCapability)();return this.streamControllers[p].pullCall=y,m.postMessage({sourceName:u,targetName:h,stream:s.PULL,streamId:p,desiredSize:x.desiredSize}),y.promise},cancel:x=>{(0,e.assert)(x instanceof Error,"cancel must have a valid reason");let y=(0,e.createPromiseCapability)();return this.streamControllers[p].cancelCall=y,this.streamControllers[p].isClosed=!0,m.postMessage({sourceName:u,targetName:h,stream:s.CANCEL,streamId:p,reason:a(x)}),y.promise}},c)}_createStreamSink(d){let o=d.streamId,c=this.sourceName,f=d.sourceName,p=this.comObj,u=this,h=this.actionHandler[d.action],m={enqueue(x,y=1,T){if(this.isCancelled)return;let S=this.desiredSize;this.desiredSize-=y,S>0&&this.desiredSize<=0&&(this.sinkCapability=(0,e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),p.postMessage({sourceName:c,targetName:f,stream:s.ENQUEUE,streamId:o,chunk:x},T)},close(){this.isCancelled||(this.isCancelled=!0,p.postMessage({sourceName:c,targetName:f,stream:s.CLOSE,streamId:o}),delete u.streamSinks[o])},error(x){(0,e.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,p.postMessage({sourceName:c,targetName:f,stream:s.ERROR,streamId:o,reason:a(x)}))},sinkCapability:(0,e.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};m.sinkCapability.resolve(),m.ready=m.sinkCapability.promise,this.streamSinks[o]=m,new Promise(function(x){x(h(d.data,m))}).then(function(){p.postMessage({sourceName:c,targetName:f,stream:s.START_COMPLETE,streamId:o,success:!0})},function(x){p.postMessage({sourceName:c,targetName:f,stream:s.START_COMPLETE,streamId:o,reason:a(x)})})}_processStreamMessage(d){let o=d.streamId,c=this.sourceName,f=d.sourceName,p=this.comObj,u=this.streamControllers[o],h=this.streamSinks[o];switch(d.stream){case s.START_COMPLETE:d.success?u.startCall.resolve():u.startCall.reject(a(d.reason));break;case s.PULL_COMPLETE:d.success?u.pullCall.resolve():u.pullCall.reject(a(d.reason));break;case s.PULL:if(!h){p.postMessage({sourceName:c,targetName:f,stream:s.PULL_COMPLETE,streamId:o,success:!0});break}h.desiredSize<=0&&d.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=d.desiredSize,new Promise(function(m){m(h.onPull&&h.onPull())}).then(function(){p.postMessage({sourceName:c,targetName:f,stream:s.PULL_COMPLETE,streamId:o,success:!0})},function(m){p.postMessage({sourceName:c,targetName:f,stream:s.PULL_COMPLETE,streamId:o,reason:a(m)})});break;case s.ENQUEUE:if((0,e.assert)(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(d.chunk);break;case s.CLOSE:if((0,e.assert)(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),this._deleteStreamController(u,o);break;case s.ERROR:(0,e.assert)(u,"error should have stream controller"),u.controller.error(a(d.reason)),this._deleteStreamController(u,o);break;case s.CANCEL_COMPLETE:d.success?u.cancelCall.resolve():u.cancelCall.reject(a(d.reason)),this._deleteStreamController(u,o);break;case s.CANCEL:if(!h)break;new Promise(function(m){m(h.onCancel&&h.onCancel(a(d.reason)))}).then(function(){p.postMessage({sourceName:c,targetName:f,stream:s.CANCEL_COMPLETE,streamId:o,success:!0})},function(m){p.postMessage({sourceName:c,targetName:f,stream:s.CANCEL_COMPLETE,streamId:o,reason:a(m)})}),h.sinkCapability.reject(a(d.reason)),h.isCancelled=!0,delete this.streamSinks[o];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(d,o){return dt(this,null,function*(){yield Promise.allSettled([d.startCall&&d.startCall.promise,d.pullCall&&d.pullCall.promise,d.cancelCall&&d.cancelCall.promise]),delete this.streamControllers[o]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}t.MessageHandler=r},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var e=i(1);class n{#t;#e;constructor({parsedData:a,rawData:r}){this.#t=a,this.#e=r}getRaw(){return this.#e}get(a){return this.#t.get(a)??null}getAll(){return(0,e.objectFromMap)(this.#t)}has(a){return this.#t.has(a)}}t.Metadata=n},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var e=i(1);let n=Symbol("INTERNAL");class s{#t=!0;constructor(l,d){this.name=l,this.intent=d}get visible(){return this.#t}_setVisible(l,d){l!==n&&(0,e.unreachable)("Internal method `_setVisible` called."),this.#t=d}}class a{#t=!0;#e=new Map;#i=null;#n=null;constructor(l){if(this.name=null,this.creator=null,l!==null){this.name=l.name,this.creator=l.creator,this.#n=l.order;for(let d of l.groups)this.#e.set(d.id,new s(d.name,d.intent));if(l.baseState==="OFF")for(let d of this.#e.values())d._setVisible(n,!1);for(let d of l.on)this.#e.get(d)._setVisible(n,!0);for(let d of l.off)this.#e.get(d)._setVisible(n,!1);this.#i=new Map;for(let[d,o]of this.#e)this.#i.set(d,o.visible)}}#r(l){let d=l.length;if(d<2)return!0;let o=l[0];for(let c=1;c<d;c++){let f=l[c],p;if(Array.isArray(f))p=this.#r(f);else if(this.#e.has(f))p=this.#e.get(f).visible;else return(0,e.warn)(`Optional content group not found: ${f}`),!0;switch(o){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return o==="And"}isVisible(l){if(this.#e.size===0)return!0;if(!l)return(0,e.warn)("Optional content group not defined."),!0;if(l.type==="OCG")return this.#e.has(l.id)?this.#e.get(l.id).visible:((0,e.warn)(`Optional content group not found: ${l.id}`),!0);if(l.type==="OCMD"){if(l.expression)return this.#r(l.expression);if(!l.policy||l.policy==="AnyOn"){for(let d of l.ids){if(!this.#e.has(d))return(0,e.warn)(`Optional content group not found: ${d}`),!0;if(this.#e.get(d).visible)return!0}return!1}else if(l.policy==="AllOn"){for(let d of l.ids){if(!this.#e.has(d))return(0,e.warn)(`Optional content group not found: ${d}`),!0;if(!this.#e.get(d).visible)return!1}return!0}else if(l.policy==="AnyOff"){for(let d of l.ids){if(!this.#e.has(d))return(0,e.warn)(`Optional content group not found: ${d}`),!0;if(!this.#e.get(d).visible)return!0}return!1}else if(l.policy==="AllOff"){for(let d of l.ids){if(!this.#e.has(d))return(0,e.warn)(`Optional content group not found: ${d}`),!0;if(this.#e.get(d).visible)return!1}return!0}return(0,e.warn)(`Unknown optional content policy ${l.policy}.`),!0}return(0,e.warn)(`Unknown group type ${l.type}.`),!0}setVisibility(l,d=!0){if(!this.#e.has(l)){(0,e.warn)(`Optional content group not found: ${l}`);return}this.#e.get(l)._setVisible(n,!!d),this.#t=null}get hasInitialVisibility(){if(this.#t!==null)return this.#t;for(let[l,d]of this.#e){let o=this.#i.get(l);if(d.visible!==o)return this.#t=!1}return this.#t=!0}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroups(){return this.#e.size>0?(0,e.objectFromMap)(this.#e):null}getGroup(l){return this.#e.get(l)||null}}t.OptionalContentConfig=a},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var e=i(1),n=i(8);class s{constructor(d,o){(0,e.assert)(o,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=d.progressiveDone||!1,this._contentDispositionFilename=d.contentDispositionFilename||null;let c=d.initialData;if(c?.length>0){let f=new Uint8Array(c).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=o,this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._contentLength=d.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),this._pdfDataRangeTransport.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),this._pdfDataRangeTransport.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(d){let o=new Uint8Array(d.chunk).buffer;if(d.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(o):this._queuedChunks.push(o);else{let c=this._rangeReaders.some(function(f){return f._begin!==d.begin?!1:(f._enqueue(o),!0)});(0,e.assert)(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){if(d.total===void 0){let o=this._rangeReaders[0];o?.onProgress&&o.onProgress({loaded:d.loaded})}else{let o=this._fullRequestReader;o?.onProgress&&o.onProgress({loaded:d.loaded,total:d.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){let o=this._rangeReaders.indexOf(d);o>=0&&this._rangeReaders.splice(o,1)}getFullReader(){(0,e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let d=this._queuedChunks;return this._queuedChunks=null,new a(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,o){if(o<=this._progressiveDataLength)return null;let c=new r(this,d,o);return this._pdfDataRangeTransport.requestDataRange(d,o),this._rangeReaders.push(c),c}cancelAllRequests(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);for(let o of this._rangeReaders.slice(0))o.cancel(d);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=s;class a{constructor(d,o,c=!1,f=null){this._stream=d,this._done=c||!1,this._filename=(0,n.isPdfFile)(f)?f:null,this._queuedChunks=o||[],this._loaded=0;for(let p of this._queuedChunks)this._loaded+=p.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return dt(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let d=(0,e.createPromiseCapability)();return this._requests.push(d),d.promise})}cancel(d){this._done=!0;for(let o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class r{constructor(d,o,c){this._stream=d,this._begin=o,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(let c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return dt(this,null,function*(){if(this._queuedChunk){let o=this._queuedChunk;return this._queuedChunk=null,{value:o,done:!1}}if(this._done)return{value:void 0,done:!0};let d=(0,e.createPromiseCapability)();return this._requests.push(d),d.promise})}cancel(d){this._done=!0;for(let o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class i{static textContent(n){let s=[],a={items:s,styles:Object.create(null)};function r(l){if(!l)return;let d=null,o=l.name;if(o==="#text")d=l.value;else if(i.shouldBuildText(o))l?.attributes?.textContent?d=l.attributes.textContent:l.value&&(d=l.value);else return;if(d!==null&&s.push({str:d}),!!l.children)for(let c of l.children)r(c)}return r(n),a}static shouldBuildText(n){return!(n==="textarea"||n==="input"||n==="option"||n==="select")}}t.XfaText=i},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var e=i(9);let n=function(l){return new Promise((d,o)=>{xn().readFile(l,(f,p)=>{if(f||!p){o(new Error(f));return}d(new Uint8Array(p))})})};class s extends e.BaseCanvasFactory{_createCanvas(d,o){return qs().createCanvas(d,o)}}t.NodeCanvasFactory=s;class a extends e.BaseCMapReaderFactory{_fetchData(d,o){return n(d).then(c=>({cMapData:c,compressionType:o}))}}t.NodeCMapReaderFactory=a;class r extends e.BaseStandardFontDataFactory{_fetchData(d){return n(d)}}t.NodeStandardFontDataFactory=r},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var e=i(7),n=i(1),s=i(23),a=i(24);let r=(()=>{class l{#t;#e=!1;#i=this.pointerup.bind(this);#n=this.pointerdown.bind(this);#r=new Map;#c=!1;#o=!1;#s;static _initialized=!1;constructor(o){l._initialized||(l._initialized=!0,s.FreeTextEditor.initialize(o.l10n),a.InkEditor.initialize(o.l10n),o.uiManager.registerEditorTypes([s.FreeTextEditor,a.InkEditor])),this.#s=o.uiManager,this.annotationStorage=o.annotationStorage,this.pageIndex=o.pageIndex,this.div=o.div,this.#t=o.accessibilityManager,this.#s.addLayer(this)}updateToolbar(o){this.#s.updateToolbar(o)}updateMode(o=this.#s.getMode()){this.#a(),o===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#s.unselectAll()}addInkEditorIfNeeded(o){if(!o&&this.#s.getMode()!==n.AnnotationEditorType.INK)return;if(!o){for(let f of this.#r.values())if(f.isEmpty()){f.setInBackground();return}}this.#l({offsetX:0,offsetY:0}).setInBackground()}setEditingState(o){this.#s.setEditingState(o)}addCommands(o){this.#s.addCommands(o)}enable(){this.div.style.pointerEvents="auto";for(let o of this.#r.values())o.enableEditing()}disable(){this.div.style.pointerEvents="none";for(let o of this.#r.values())o.disableEditing()}setActiveEditor(o){this.#s.getActive()!==o&&this.#s.setActiveEditor(o)}enableClick(){this.div.addEventListener("pointerdown",this.#n),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#n),this.div.removeEventListener("pointerup",this.#i)}attach(o){this.#r.set(o.id,o)}detach(o){this.#r.delete(o.id),this.#t?.removePointerInTextLayer(o.contentDiv)}remove(o){this.#s.removeEditor(o),this.detach(o),this.annotationStorage.remove(o.id),o.div.style.display="none",setTimeout(()=>{o.div.style.display="",o.div.remove(),o.isAttachedToDOM=!1,document.activeElement===document.body&&this.#s.focusMainContainer()},0),this.#o||this.addInkEditorIfNeeded(!1)}#u(o){o.parent!==this&&(this.attach(o),o.pageIndex=this.pageIndex,o.parent?.detach(o),o.parent=this,o.div&&o.isAttachedToDOM&&(o.div.remove(),this.div.append(o.div)))}add(o){if(this.#u(o),this.#s.addEditor(o),this.attach(o),!o.isAttachedToDOM){let c=o.render();this.div.append(c),o.isAttachedToDOM=!0}this.moveEditorInDOM(o),o.onceAdded(),this.addToAnnotationStorage(o)}moveEditorInDOM(o){this.#t?.moveElementInDOM(this.div,o.div,o.contentDiv,!0)}addToAnnotationStorage(o){!o.isEmpty()&&!this.annotationStorage.has(o.id)&&this.annotationStorage.setValue(o.id,o)}addOrRebuild(o){o.needsToBeRebuilt()?o.rebuild():this.add(o)}addANewEditor(o){let c=()=>{this.addOrRebuild(o)},f=()=>{o.remove()};this.addCommands({cmd:c,undo:f,mustExec:!0})}addUndoableEditor(o){let c=()=>{this.addOrRebuild(o)},f=()=>{o.remove()};this.addCommands({cmd:c,undo:f,mustExec:!1})}getNextId(){return this.#s.getId()}#h(o){switch(this.#s.getMode()){case n.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(o);case n.AnnotationEditorType.INK:return new a.InkEditor(o)}return null}deserialize(o){switch(o.annotationType){case n.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(o,this);case n.AnnotationEditorType.INK:return a.InkEditor.deserialize(o,this)}return null}#l(o){let c=this.getNextId(),f=this.#h({parent:this,id:c,x:o.offsetX,y:o.offsetY});return f&&this.add(f),f}setSelected(o){this.#s.setSelected(o)}toggleSelected(o){this.#s.toggleSelected(o)}isSelected(o){return this.#s.isSelected(o)}unselect(o){this.#s.unselect(o)}pointerup(o){let c=e.KeyboardManager.platform.isMac;if(!(o.button!==0||o.ctrlKey&&c)&&o.target===this.div&&this.#c){if(this.#c=!1,!this.#e){this.#e=!0;return}this.#l(o)}}pointerdown(o){let c=e.KeyboardManager.platform.isMac;if(o.button!==0||o.ctrlKey&&c||o.target!==this.div)return;this.#c=!0;let f=this.#s.getActive();this.#e=!f||f.isEmpty()}drop(o){let c=o.dataTransfer.getData("text/plain"),f=this.#s.getEditor(c);if(!f)return;o.preventDefault(),o.dataTransfer.dropEffect="move",this.#u(f);let p=this.div.getBoundingClientRect(),u=o.clientX-p.x,h=o.clientY-p.y;f.translate(u-f.startX,h-f.startY),this.moveEditorInDOM(f),f.div.focus()}dragover(o){o.preventDefault()}destroy(){this.#s.getActive()?.parent===this&&this.#s.setActiveEditor(null);for(let o of this.#r.values())this.#t?.removePointerInTextLayer(o.contentDiv),o.isAttachedToDOM=!1,o.div.remove(),o.parent=null;this.div=null,this.#r.clear(),this.#s.removeLayer(this)}#a(){this.#o=!0;for(let o of this.#r.values())o.isEmpty()&&o.remove();this.#o=!1}render(o){this.viewport=o.viewport,(0,e.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(let c of this.#s.getEditors(this.pageIndex))this.add(c);this.updateMode()}update(o){this.viewport=o.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){let[o,c,f,p]=this.viewport.viewBox,u=f-o,h=p-c;return[u,h]}get viewportBaseDimensions(){let{width:o,height:c,rotation:f}=this.viewport;return f%180===0?[o,c]:[c,o]}setDimensions(){let{width:o,height:c,rotation:f}=this.viewport,p=f%180!==0,u=Math.floor(o)+"px",h=Math.floor(c)+"px";this.div.style.width=p?h:u,this.div.style.height=p?u:h,this.div.setAttribute("data-main-rotation",f)}}return l})();t.AnnotationEditorLayer=r},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var e=i(1),n=i(7),s=i(6);class a extends s.AnnotationEditor{#t=this.editorDivBlur.bind(this);#e=this.editorDivFocus.bind(this);#i=this.editorDivKeydown.bind(this);#n;#r="";#c=!1;#o;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new n.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],a.prototype.commitOrRemove]]);static _type="freetext";constructor(l){super(ri(Le({},l),{name:"freeTextEditor"})),this.#n=l.color||a._defaultColor||s.AnnotationEditor._defaultLineColor,this.#o=l.fontSize||a._defaultFontSize}static initialize(l){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(o=>[o,l.get(o)]));let d=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(d.getPropertyValue("--freetext-padding"))}static updateDefaultParams(l,d){switch(l){case e.AnnotationEditorParamsType.FREETEXT_SIZE:a._defaultFontSize=d;break;case e.AnnotationEditorParamsType.FREETEXT_COLOR:a._defaultColor=d;break}}updateParams(l,d){switch(l){case e.AnnotationEditorParamsType.FREETEXT_SIZE:this.#s(d);break;case e.AnnotationEditorParamsType.FREETEXT_COLOR:this.#u(d);break}}static get defaultPropertiesToUpdate(){return[[e.AnnotationEditorParamsType.FREETEXT_SIZE,a._defaultFontSize],[e.AnnotationEditorParamsType.FREETEXT_COLOR,a._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[e.AnnotationEditorParamsType.FREETEXT_SIZE,this.#o],[e.AnnotationEditorParamsType.FREETEXT_COLOR,this.#n]]}#s(l){let d=c=>{this.editorDiv.style.fontSize=`calc(${c}px * var(--scale-factor))`,this.translate(0,-(c-this.#o)*this.parent.scaleFactor),this.#o=c,this.#l()},o=this.#o;this.parent.addCommands({cmd:()=>{d(l)},undo:()=>{d(o)},mustExec:!0,type:e.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#u(l){let d=this.#n;this.parent.addCommands({cmd:()=>{this.#n=l,this.editorDiv.style.color=l},undo:()=>{this.#n=d,this.editorDiv.style.color=d},mustExec:!0,type:e.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-a._internalPadding*this.parent.scaleFactor,-(a._internalPadding+this.#o)*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(e.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#i),this.editorDiv.addEventListener("focus",this.#e),this.editorDiv.addEventListener("blur",this.#t))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#e),this.editorDiv.removeEventListener("blur",this.#t),this.div.focus(),this.isEditing=!1)}focusin(l){super.focusin(l),l.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#h(){let l=this.editorDiv.getElementsByTagName("div");if(l.length===0)return this.editorDiv.innerText;let d=[];for(let o=0,c=l.length;o<c;o++){let p=l[o].firstChild;p?.nodeName==="#text"?d.push(p.data):d.push("")}return d.join(`
`)}#l(){let[l,d]=this.parent.viewportBaseDimensions,o=this.div.getBoundingClientRect();this.width=o.width/l,this.height=o.height/d}commit(){super.commit(),this.#c||(this.#c=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#r=this.#h().trimEnd(),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(l){this.enableEditMode(),this.editorDiv.focus()}keydown(l){l.target===this.div&&l.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(l){a._keyboardManager.exec(this,l)}editorDivFocus(l){this.isEditing=!0}editorDivBlur(l){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let l,d;this.width&&(l=this.x,d=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),a._l10nPromise.get("editor_free_text_aria_label").then(c=>this.editorDiv?.setAttribute("aria-label",c)),a._l10nPromise.get("free_text_default_content").then(c=>this.editorDiv?.setAttribute("default-content",c)),this.editorDiv.contentEditable=!0;let{style:o}=this.editorDiv;if(o.fontSize=`calc(${this.#o}px * var(--scale-factor))`,o.color=this.#n,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,n.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[c,f]=this.parent.viewportBaseDimensions;this.setAt(l*c,d*f,this.width*c,this.height*f);for(let p of this.#r.split(`
`)){let u=document.createElement("div");u.append(p?document.createTextNode(p):document.createElement("br")),this.editorDiv.append(u)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(l,d){let o=super.deserialize(l,d);return o.#o=l.fontSize,o.#n=e.Util.makeHexColor(...l.color),o.#r=l.value,o}serialize(){if(this.isEmpty())return null;let l=a._internalPadding*this.parent.scaleFactor,d=this.getRect(l,l),o=s.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:e.AnnotationEditorType.FREETEXT,color:o,fontSize:this.#o,value:this.#r,pageIndex:this.parent.pageIndex,rect:d,rotation:this.rotation}}}t.FreeTextEditor=a},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return s.fitCurve}});var e=i(1),n=i(6),s=i(25),a=i(7);let r=16,l=(()=>{class d extends n.AnnotationEditor{#t=0;#e=0;#i=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#c=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#s=!1;#u=!1;#h=null;#l=null;#a=0;#p=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(c){super(ri(Le({},c),{name:"inkEditor"})),this.color=c.color||null,this.thickness=c.thickness||null,this.opacity=c.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(c){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(f=>[f,c.get(f)]))}static updateDefaultParams(c,f){switch(c){case e.AnnotationEditorParamsType.INK_THICKNESS:d._defaultThickness=f;break;case e.AnnotationEditorParamsType.INK_COLOR:d._defaultColor=f;break;case e.AnnotationEditorParamsType.INK_OPACITY:d._defaultOpacity=f/100;break}}updateParams(c,f){switch(c){case e.AnnotationEditorParamsType.INK_THICKNESS:this.#b(f);break;case e.AnnotationEditorParamsType.INK_COLOR:this.#m(f);break;case e.AnnotationEditorParamsType.INK_OPACITY:this.#_(f);break}}static get defaultPropertiesToUpdate(){return[[e.AnnotationEditorParamsType.INK_THICKNESS,d._defaultThickness],[e.AnnotationEditorParamsType.INK_COLOR,d._defaultColor||n.AnnotationEditor._defaultLineColor],[e.AnnotationEditorParamsType.INK_OPACITY,Math.round(d._defaultOpacity*100)]]}get propertiesToUpdate(){return[[e.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||d._defaultThickness],[e.AnnotationEditorParamsType.INK_COLOR,this.color||d._defaultColor||n.AnnotationEditor._defaultLineColor],[e.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??d._defaultOpacity))]]}#b(c){let f=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=c,this.#w()},undo:()=>{this.thickness=f,this.#w()},mustExec:!0,type:e.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(c){let f=this.color;this.parent.addCommands({cmd:()=>{this.color=c,this.#g()},undo:()=>{this.color=f,this.#g()},mustExec:!0,type:e.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#_(c){c/=100;let f=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=c,this.#g()},undo:()=>{this.opacity=f,this.#g()},mustExec:!0,type:e.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(this.#y(),this.#A()),this.isAttachedToDOM||(this.parent.add(this),this.#E()),this.#w())}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#l.disconnect(),this.#l=null,super.remove())}enableEditMode(){this.#s||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#o),this.canvas.addEventListener("pointerup",this.#c))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o),this.canvas.removeEventListener("pointerup",this.#c))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#S(){let{width:c,height:f,rotation:p}=this.parent.viewport;switch(p){case 90:return[0,c,c,f];case 180:return[c,f,c,f];case 270:return[f,0,c,f];default:return[0,0,c,f]}}#v(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,a.opacityToHex)(this.opacity)}`}#d(c,f){this.isEditing=!0,this.#u||(this.#u=!0,this.#E(),this.thickness||=d._defaultThickness,this.color||=d._defaultColor||n.AnnotationEditor._defaultLineColor,this.opacity??=d._defaultOpacity),this.currentPath.push([c,f]),this.#h=null,this.#v(),this.ctx.beginPath(),this.ctx.moveTo(c,f),this.#f=()=>{this.#f&&(this.#h&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#g(),this.ctx.lineTo(...this.#h),this.#h=null,this.ctx.stroke()),window.requestAnimationFrame(this.#f))},window.requestAnimationFrame(this.#f)}#x(c,f){let[p,u]=this.currentPath.at(-1);c===p&&f===u||(this.currentPath.push([c,f]),this.#h=[c,f])}#C(c,f){this.ctx.closePath(),this.#f=null,c=Math.min(Math.max(c,0),this.canvas.width),f=Math.min(Math.max(f,0),this.canvas.height);let[p,u]=this.currentPath.at(-1);(c!==p||f!==u)&&this.currentPath.push([c,f]);let h;if(this.currentPath.length!==1)h=(0,s.fitCurve)(this.currentPath,30,null);else{let T=[c,f];h=[[T,T.slice(),T.slice(),T]]}let m=d.#L(h);this.currentPath.length=0;let x=()=>{this.paths.push(h),this.bezierPath2D.push(m),this.rebuild()},y=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#y(),this.#A()),this.#w())};this.parent.addCommands({cmd:x,undo:y,mustExec:!0})}#g(){if(this.isEmpty()){this.#T();return}this.#v();let{canvas:c,ctx:f}=this;f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,c.width,c.height),this.#T();for(let p of this.bezierPath2D)f.stroke(p)}commit(){this.#s||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#s=!0,this.div.classList.add("disabled"),this.#w(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(c){super.focusin(c),this.enableEditMode()}canvasPointerdown(c){c.button!==0||!this.isInEditMode()||this.#s||(this.setInForeground(),c.type!=="mouse"&&this.div.focus(),c.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.#d(c.offsetX,c.offsetY))}canvasPointermove(c){c.stopPropagation(),this.#x(c.offsetX,c.offsetY)}canvasPointerup(c){c.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(c.stopPropagation(),this.#P(c),this.setInBackground())}canvasPointerleave(c){this.#P(c),this.setInBackground()}#P(c){this.#C(c.offsetX,c.offsetY),this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.parent.addToAnnotationStorage(this)}#y(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",d._l10nPromise.get("editor_ink_canvas_aria_label").then(c=>this.canvas?.setAttribute("aria-label",c)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#A(){this.#l=new ResizeObserver(c=>{let f=c[0].contentRect;f.width&&f.height&&this.setDimensions(f.width,f.height)}),this.#l.observe(this.div)}render(){if(this.div)return this.div;let c,f;this.width&&(c=this.x,f=this.y),super.render(),d._l10nPromise.get("editor_ink_aria_label").then(x=>this.div?.setAttribute("aria-label",x));let[p,u,h,m]=this.#S();if(this.setAt(p,u,0,0),this.setDims(h,m),this.#y(),this.width){let[x,y]=this.parent.viewportBaseDimensions;this.setAt(c*x,f*y,this.width*x,this.height*y),this.#u=!0,this.#E(),this.setDims(this.width*x,this.height*y),this.#g(),this.#O(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#A(),this.div}#E(){if(!this.#u)return;let[c,f]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*c),this.canvas.height=Math.ceil(this.height*f),this.#T()}setDimensions(c,f){let p=Math.round(c),u=Math.round(f);if(this.#a===p&&this.#p===u)return;this.#a=p,this.#p=u,this.canvas.style.visibility="hidden",this.#t&&Math.abs(this.#t-c/f)>.01&&(f=Math.ceil(c/this.#t),this.setDims(c,f));let[h,m]=this.parent.viewportBaseDimensions;this.width=c/h,this.height=f/m,this.#s&&this.#k(c,f),this.#E(),this.#g(),this.canvas.style.visibility="visible"}#k(c,f){let p=this.#M(),u=(c-p)/this.#i,h=(f-p)/this.#e;this.scaleFactor=Math.min(u,h)}#T(){let c=this.#M()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+c,this.translationY*this.scaleFactor+c)}static#L(c){let f=new Path2D;for(let p=0,u=c.length;p<u;p++){let[h,m,x,y]=c[p];p===0&&f.moveTo(...h),f.bezierCurveTo(m[0],m[1],x[0],x[1],y[0],y[1])}return f}#F(c,f,p,u){let m=[],x=this.thickness/2,y,T;for(let S of this.paths){y=[],T=[];for(let _=0,b=S.length;_<b;_++){let[C,F,I,v]=S[_],R=c*(C[0]+f)+x,X=u-c*(C[1]+p)-x,V=c*(F[0]+f)+x,L=u-c*(F[1]+p)-x,k=c*(I[0]+f)+x,O=u-c*(I[1]+p)-x,j=c*(v[0]+f)+x,z=u-c*(v[1]+p)-x;_===0&&(y.push(R,X),T.push(R,X)),y.push(V,L,k,O,j,z),this.#D(R,X,V,L,k,O,j,z,4,T)}m.push({bezier:y,points:T})}return m}#D(c,f,p,u,h,m,x,y,T,S){if(this.#I(c,f,p,u,h,m,x,y)){S.push(x,y);return}for(let _=1;_<T-1;_++){let b=_/T,C=1-b,F=b*c+C*p,I=b*f+C*u,v=b*p+C*h,R=b*u+C*m,X=b*h+C*x,V=b*m+C*y;F=b*F+C*v,I=b*I+C*R,v=b*v+C*X,R=b*R+C*V,F=b*F+C*v,I=b*I+C*R,S.push(F,I)}S.push(x,y)}#I(c,f,p,u,h,m,x,y){let S=(3*p-2*c-x)**2,_=(3*u-2*f-y)**2,b=(3*h-c-2*x)**2,C=(3*m-f-2*y)**2;return Math.max(S,b)+Math.max(_,C)<=10}#R(){let c=1/0,f=-1/0,p=1/0,u=-1/0;for(let h of this.paths)for(let[m,x,y,T]of h){let S=e.Util.bezierBoundingBox(...m,...x,...y,...T);c=Math.min(c,S[0]),p=Math.min(p,S[1]),f=Math.max(f,S[2]),u=Math.max(u,S[3])}return[c,p,f,u]}#M(){return this.#s?Math.ceil(this.thickness*this.parent.scaleFactor):0}#w(c=!1){if(this.isEmpty())return;if(!this.#s){this.#g();return}let f=this.#R(),p=this.#M();this.#i=Math.max(r,f[2]-f[0]),this.#e=Math.max(r,f[3]-f[1]);let u=Math.ceil(p+this.#i*this.scaleFactor),h=Math.ceil(p+this.#e*this.scaleFactor),[m,x]=this.parent.viewportBaseDimensions;this.width=u/m,this.height=h/x,this.#t=u/h,this.#O();let y=this.translationX,T=this.translationY;this.translationX=-f[0],this.translationY=-f[1],this.#E(),this.#g(),this.#a=u,this.#p=h,this.setDims(u,h);let S=c?p/this.scaleFactor/2:0;this.translate(y-this.translationX-S,T-this.translationY-S)}#O(){let{style:c}=this.div;this.#t>=1?(c.minHeight=`${r}px`,c.minWidth=`${Math.round(this.#t*r)}px`):(c.minWidth=`${r}px`,c.minHeight=`${Math.round(r/this.#t)}px`)}static deserialize(c,f){let p=super.deserialize(c,f);p.thickness=c.thickness,p.color=e.Util.makeHexColor(...c.color),p.opacity=c.opacity;let[u,h]=f.pageDimensions,m=p.width*u,x=p.height*h,y=f.scaleFactor,T=c.thickness/2;p.#t=m/x,p.#s=!0,p.#a=Math.round(m),p.#p=Math.round(x);for(let{bezier:_}of c.paths){let b=[];p.paths.push(b);let C=y*(_[0]-T),F=y*(x-_[1]-T);for(let v=2,R=_.length;v<R;v+=6){let X=y*(_[v]-T),V=y*(x-_[v+1]-T),L=y*(_[v+2]-T),k=y*(x-_[v+3]-T),O=y*(_[v+4]-T),j=y*(x-_[v+5]-T);b.push([[C,F],[X,V],[L,k],[O,j]]),C=O,F=j}let I=this.#L(b);p.bezierPath2D.push(I)}let S=p.#R();return p.#i=Math.max(r,S[2]-S[0]),p.#e=Math.max(r,S[3]-S[1]),p.#k(m,x),p}serialize(){if(this.isEmpty())return null;let c=this.getRect(0,0),f=this.rotation%180===0?c[3]-c[1]:c[2]-c[0],p=n.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:e.AnnotationEditorType.INK,color:p,thickness:this.thickness,opacity:this.opacity,paths:this.#F(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,f),pageIndex:this.parent.pageIndex,rect:c,rotation:this.rotation}}}return d})();t.InkEditor=l},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;let e=i(26);t.fitCurve=e},A=>{function t(u,h,m){if(!Array.isArray(u))throw new TypeError("First argument should be an array");if(u.forEach(S=>{if(!Array.isArray(S)||S.some(_=>typeof _!="number")||S.length!==u[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),u=u.filter((S,_)=>_===0||!S.every((b,C)=>b===u[_-1][C])),u.length<2)return[];let x=u.length,y=c(u[1],u[0]),T=c(u[x-2],u[x-1]);return i(u,y,T,h,m)}function i(u,h,m,x,y){var S,_,b,C,F,I,v,R,X,V,L,k,O;if(u.length===2)return k=f.vectorLen(f.subtract(u[0],u[1]))/3,S=[u[0],f.addArrays(u[0],f.mulItems(h,k)),f.addArrays(u[1],f.mulItems(m,k)),u[1]],[S];if(_=r(u),[S,C,I]=e(u,_,_,h,m,y),C===0||C<x)return[S];if(C<x*x)for(b=_,F=C,v=I,O=0;O<20;O++){if(b=s(S,u,b),[S,C,I]=e(u,_,b,h,m,y),C<x)return[S];if(I===v){let j=C/F;if(j>.9999&&j<1.0001)break}F=C,v=I}return L=[],R=f.subtract(u[I-1],u[I+1]),R.every(j=>j===0)&&(R=f.subtract(u[I-1],u[I]),[R[0],R[1]]=[-R[1],R[0]]),X=f.normalize(R),V=f.mulItems(X,-1),L=L.concat(i(u.slice(0,I+1),h,X,x,y)),L=L.concat(i(u.slice(I),V,m,x,y)),L}function e(u,h,m,x,y,T){var S,_,b;return S=n(u,m,x,y,T),[_,b]=l(u,S,h),T&&T({bez:S,points:u,params:h,maxErr:_,maxPoint:b}),[S,_,b]}function n(u,h,m,x){var y,T,S,_,b,C,F,I,v,R,X,V,L,k,O,j,z,M=u[0],E=u[u.length-1];for(y=[M,null,null,E],T=f.zeros_Xx2x2(h.length),L=0,k=h.length;L<k;L++)j=h[L],z=1-j,S=T[L],S[0]=f.mulItems(m,3*j*(z*z)),S[1]=f.mulItems(x,3*z*(j*j));for(_=[[0,0],[0,0]],b=[0,0],L=0,k=u.length;L<k;L++)j=h[L],S=T[L],_[0][0]+=f.dot(S[0],S[0]),_[0][1]+=f.dot(S[0],S[1]),_[1][0]+=f.dot(S[0],S[1]),_[1][1]+=f.dot(S[1],S[1]),O=f.subtract(u[L],p.q([M,M,E,E],j)),b[0]+=f.dot(S[0],O),b[1]+=f.dot(S[1],O);return C=_[0][0]*_[1][1]-_[1][0]*_[0][1],F=_[0][0]*b[1]-_[1][0]*b[0],I=b[0]*_[1][1]-b[1]*_[0][1],v=C===0?0:I/C,R=C===0?0:F/C,V=f.vectorLen(f.subtract(M,E)),X=1e-6*V,v<X||R<X?(y[1]=f.addArrays(M,f.mulItems(m,V/3)),y[2]=f.addArrays(E,f.mulItems(x,V/3))):(y[1]=f.addArrays(M,f.mulItems(m,v)),y[2]=f.addArrays(E,f.mulItems(x,R))),y}function s(u,h,m){return m.map((x,y)=>a(u,h[y],x))}function a(u,h,m){var x=f.subtract(p.q(u,m),h),y=p.qprime(u,m),T=f.mulMatrix(x,y),S=f.sum(f.squareItems(y))+2*f.mulMatrix(x,p.qprimeprime(u,m));return S===0?m:m-T/S}function r(u){var h=[],m,x,y;return u.forEach((T,S)=>{m=S?x+f.vectorLen(f.subtract(T,y)):0,h.push(m),x=m,y=T}),h=h.map(T=>T/x),h}function l(u,h,m){var x,y,T,S,_,b,C,F;y=0,T=Math.floor(u.length/2);let I=d(h,10);for(_=0,b=u.length;_<b;_++)C=u[_],F=o(h,m[_],I,10),S=f.subtract(p.q(h,F),C),x=S[0]*S[0]+S[1]*S[1],x>y&&(y=x,T=_);return[y,T]}var d=function(u,h){for(var m,x=[0],y=u[0],T=0,S=1;S<=h;S++)m=p.q(u,S/h),T+=f.vectorLen(f.subtract(m,y)),x.push(T),y=m;return x=x.map(_=>_/T),x};function o(u,h,m,x){if(h<0)return 0;if(h>1)return 1;for(var y,T,S,_,b,C=1;C<=x;C++)if(h<=m[C]){_=(C-1)/x,S=C/x,T=m[C-1],y=m[C],b=(h-T)/(y-T)*(S-_)+_;break}return b}function c(u,h){return f.normalize(f.subtract(u,h))}class f{static zeros_Xx2x2(h){for(var m=[];h--;)m.push([0,0]);return m}static mulItems(h,m){return h.map(x=>x*m)}static mulMatrix(h,m){return h.reduce((x,y,T)=>x+y*m[T],0)}static subtract(h,m){return h.map((x,y)=>x-m[y])}static addArrays(h,m){return h.map((x,y)=>x+m[y])}static addItems(h,m){return h.map(x=>x+m)}static sum(h){return h.reduce((m,x)=>m+x)}static dot(h,m){return f.mulMatrix(h,m)}static vectorLen(h){return Math.hypot(...h)}static divItems(h,m){return h.map(x=>x/m)}static squareItems(h){return h.map(m=>m*m)}static normalize(h){return this.divItems(h,this.vectorLen(h))}}class p{static q(h,m){var x=1-m,y=f.mulItems(h[0],x*x*x),T=f.mulItems(h[1],3*x*x*m),S=f.mulItems(h[2],3*x*m*m),_=f.mulItems(h[3],m*m*m);return f.addArrays(f.addArrays(y,T),f.addArrays(S,_))}static qprime(h,m){var x=1-m,y=f.mulItems(f.subtract(h[1],h[0]),3*x*x),T=f.mulItems(f.subtract(h[2],h[1]),6*x*m),S=f.mulItems(f.subtract(h[3],h[2]),3*m*m);return f.addArrays(f.addArrays(y,T),S)}static qprimeprime(h,m){return f.addArrays(f.mulItems(f.addArrays(f.subtract(h[2],f.mulItems(h[1],2)),h[0]),6*(1-m)),f.mulItems(f.addArrays(f.subtract(h[3],f.mulItems(h[2],2)),h[1]),6*m))}}A.exports=t,A.exports.fitCubic=i,A.exports.createTangent=c},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var e=i(1),n=i(8),s=i(5),a=i(28),r=i(29);let l=1e3,d=9,o=new WeakSet;function c(U){return{width:U[2]-U[0],height:U[3]-U[1]}}class f{static create(g){switch(g.data.annotationType){case e.AnnotationType.LINK:return new u(g);case e.AnnotationType.TEXT:return new h(g);case e.AnnotationType.WIDGET:switch(g.data.fieldType){case"Tx":return new x(g);case"Btn":return g.data.radioButton?new T(g):g.data.checkBox?new y(g):new S(g);case"Ch":return new _(g)}return new m(g);case e.AnnotationType.POPUP:return new b(g);case e.AnnotationType.FREETEXT:return new F(g);case e.AnnotationType.LINE:return new I(g);case e.AnnotationType.SQUARE:return new v(g);case e.AnnotationType.CIRCLE:return new R(g);case e.AnnotationType.POLYLINE:return new X(g);case e.AnnotationType.CARET:return new L(g);case e.AnnotationType.INK:return new k(g);case e.AnnotationType.POLYGON:return new V(g);case e.AnnotationType.HIGHLIGHT:return new O(g);case e.AnnotationType.UNDERLINE:return new j(g);case e.AnnotationType.SQUIGGLY:return new z(g);case e.AnnotationType.STRIKEOUT:return new M(g);case e.AnnotationType.STAMP:return new E(g);case e.AnnotationType.FILEATTACHMENT:return new w(g);default:return new p(g)}}}class p{constructor(g,{isRenderable:P=!1,ignoreBorder:D=!1,createQuadrilaterals:B=!1}={}){this.isRenderable=P,this.data=g.data,this.layer=g.layer,this.page=g.page,this.viewport=g.viewport,this.linkService=g.linkService,this.downloadManager=g.downloadManager,this.imageResourcesPath=g.imageResourcesPath,this.renderForms=g.renderForms,this.svgFactory=g.svgFactory,this.annotationStorage=g.annotationStorage,this.enableScripting=g.enableScripting,this.hasJSActions=g.hasJSActions,this._fieldObjects=g.fieldObjects,this._mouseState=g.mouseState,P&&(this.container=this._createContainer(D)),B&&(this.quadrilaterals=this._createQuadrilaterals(D))}_createContainer(g=!1){let P=this.data,D=this.page,B=this.viewport,W=document.createElement("section"),{width:H,height:G}=c(P.rect),[$,K,Y,q]=B.viewBox,J=Y-$,tt=q-K;W.setAttribute("data-annotation-id",P.id);let et=e.Util.normalizeRect([P.rect[0],D.view[3]-P.rect[1]+D.view[1],P.rect[2],D.view[3]-P.rect[3]+D.view[1]]);if(!g&&P.borderStyle.width>0){W.style.borderWidth=`${P.borderStyle.width}px`;let st=P.borderStyle.horizontalCornerRadius,lt=P.borderStyle.verticalCornerRadius;if(st>0||lt>0){let gt=`calc(${st}px * var(--scale-factor)) / calc(${lt}px * var(--scale-factor))`;W.style.borderRadius=gt}else if(this instanceof T){let gt=`calc(${H}px * var(--scale-factor)) / calc(${G}px * var(--scale-factor))`;W.style.borderRadius=gt}switch(P.borderStyle.style){case e.AnnotationBorderStyleType.SOLID:W.style.borderStyle="solid";break;case e.AnnotationBorderStyleType.DASHED:W.style.borderStyle="dashed";break;case e.AnnotationBorderStyleType.BEVELED:(0,e.warn)("Unimplemented border style: beveled");break;case e.AnnotationBorderStyleType.INSET:(0,e.warn)("Unimplemented border style: inset");break;case e.AnnotationBorderStyleType.UNDERLINE:W.style.borderBottomStyle="solid";break;default:break}let rt=P.borderColor||null;rt?W.style.borderColor=e.Util.makeHexColor(rt[0]|0,rt[1]|0,rt[2]|0):W.style.borderWidth=0}W.style.left=`${100*(et[0]-$)/J}%`,W.style.top=`${100*(et[1]-K)/tt}%`;let{rotation:nt}=P;return P.hasOwnCanvas||nt===0?(W.style.width=`${100*H/J}%`,W.style.height=`${100*G/tt}%`):this.setRotation(nt,W),W}setRotation(g,P=this.container){let[D,B,W,H]=this.viewport.viewBox,G=W-D,$=H-B,{width:K,height:Y}=c(this.data.rect),q,J;g%180===0?(q=100*K/G,J=100*Y/$):(q=100*Y/G,J=100*K/$),P.style.width=`${q}%`,P.style.height=`${J}%`,P.setAttribute("data-main-rotation",(360-g)%360)}get _commonActions(){let g=(P,D,B)=>{let W=B.detail[P];B.target.style[D]=a.ColorConverters[`${W[0]}_HTML`](W.slice(1))};return(0,e.shadow)(this,"_commonActions",{display:P=>{let D=P.detail.display%2===1;this.container.style.visibility=D?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:D,print:P.detail.display===0||P.detail.display===3})},print:P=>{this.annotationStorage.setValue(this.data.id,{print:P.detail.print})},hidden:P=>{this.container.style.visibility=P.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:P.detail.hidden})},focus:P=>{setTimeout(()=>P.target.focus({preventScroll:!1}),0)},userName:P=>{P.target.title=P.detail.userName},readonly:P=>{P.detail.readonly?P.target.setAttribute("readonly",""):P.target.removeAttribute("readonly")},required:P=>{this._setRequired(P.target,P.detail.required)},bgColor:P=>{g("bgColor","backgroundColor",P)},fillColor:P=>{g("fillColor","backgroundColor",P)},fgColor:P=>{g("fgColor","color",P)},textColor:P=>{g("textColor","color",P)},borderColor:P=>{g("borderColor","borderColor",P)},strokeColor:P=>{g("strokeColor","borderColor",P)},rotation:P=>{let D=P.detail.rotation;this.setRotation(D),this.annotationStorage.setValue(this.data.id,{rotation:D})}})}_dispatchEventFromSandbox(g,P){let D=this._commonActions;for(let B of Object.keys(P.detail)){let W=g[B]||D[B];W&&W(P)}}_setDefaultPropertiesFromJS(g){if(!this.enableScripting)return;let P=this.annotationStorage.getRawValue(this.data.id);if(!P)return;let D=this._commonActions;for(let[B,W]of Object.entries(P)){let H=D[B];if(H){let G={detail:{[B]:W},target:g};H(G),delete P[B]}}}_createQuadrilaterals(g=!1){if(!this.data.quadPoints)return null;let P=[],D=this.data.rect;for(let B of this.data.quadPoints)this.data.rect=[B[2].x,B[2].y,B[1].x,B[1].y],P.push(this._createContainer(g));return this.data.rect=D,P}_createPopup(g,P){let D=this.container;this.quadrilaterals&&(g=g||this.quadrilaterals,D=this.quadrilaterals[0]),g||(g=document.createElement("div"),g.className="popupTriggerArea",D.append(g));let W=new C({container:D,trigger:g,color:P.color,titleObj:P.titleObj,modificationDate:P.modificationDate,contentsObj:P.contentsObj,richText:P.richText,hideWrapper:!0}).render();W.style.left="100%",D.append(W)}_renderQuadrilaterals(g){for(let P of this.quadrilaterals)P.className=g;return this.quadrilaterals}render(){(0,e.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(g,P=null){let D=[];if(this._fieldObjects){let B=this._fieldObjects[g];if(B)for(let{page:W,id:H,exportValues:G}of B){if(W===-1||H===P)continue;let $=typeof G=="string"?G:null,K=document.querySelector(`[data-element-id="${H}"]`);if(K&&!o.has(K)){(0,e.warn)(`_getElementsByName - element not allowed: ${H}`);continue}D.push({id:H,exportValue:$,domElement:K})}return D}for(let B of document.getElementsByName(g)){let{id:W,exportValue:H}=B;W!==P&&o.has(B)&&D.push({id:W,exportValue:H,domElement:B})}return D}static get platform(){let g=typeof navigator<"u"?navigator.platform:"";return(0,e.shadow)(this,"platform",{isWin:g.includes("Win"),isMac:g.includes("Mac")})}}class u extends p{constructor(g,P=null){super(g,{isRenderable:!0,ignoreBorder:!!P?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=g.data.isTooltipOnly}render(){let{data:g,linkService:P}=this,D=document.createElement("a");D.setAttribute("data-element-id",g.id);let B=!1;return g.url?(P.addLinkAttributes(D,g.url,g.newWindow),B=!0):g.action?(this._bindNamedAction(D,g.action),B=!0):g.dest?(this._bindLink(D,g.dest),B=!0):(g.actions&&(g.actions.Action||g.actions["Mouse Up"]||g.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(D,g),B=!0),g.resetForm?(this._bindResetFormAction(D,g.resetForm),B=!0):this.isTooltipOnly&&!B&&(this._bindLink(D,""),B=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((W,H)=>{let G=H===0?D:D.cloneNode();return W.append(G),W}):(this.container.className="linkAnnotation",B&&this.container.append(D),this.container)}_bindLink(g,P){g.href=this.linkService.getDestinationHash(P),g.onclick=()=>(P&&this.linkService.goToDestination(P),!1),(P||P==="")&&(g.className="internalLink")}_bindNamedAction(g,P){g.href=this.linkService.getAnchorUrl(""),g.onclick=()=>(this.linkService.executeNamedAction(P),!1),g.className="internalLink"}_bindJSAction(g,P){g.href=this.linkService.getAnchorUrl("");let D=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let B of Object.keys(P.actions)){let W=D.get(B);W&&(g[W]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P.id,name:B}}),!1))}g.onclick||(g.onclick=()=>!1),g.className="internalLink"}_bindResetFormAction(g,P){let D=g.onclick;if(D||(g.href=this.linkService.getAnchorUrl("")),g.className="internalLink",!this._fieldObjects){(0,e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),D||(g.onclick=()=>!1);return}g.onclick=()=>{D&&D();let{fields:B,refs:W,include:H}=P,G=[];if(B.length!==0||W.length!==0){let Y=new Set(W);for(let q of B){let J=this._fieldObjects[q]||[];for(let{id:tt}of J)Y.add(tt)}for(let q of Object.values(this._fieldObjects))for(let J of q)Y.has(J.id)===H&&G.push(J)}else for(let Y of Object.values(this._fieldObjects))G.push(...Y);let $=this.annotationStorage,K=[];for(let Y of G){let{id:q}=Y;switch(K.push(q),Y.type){case"text":{let tt=Y.defaultValue||"";$.setValue(q,{value:tt});break}case"checkbox":case"radiobutton":{let tt=Y.defaultValue===Y.exportValues;$.setValue(q,{value:tt});break}case"combobox":case"listbox":{let tt=Y.defaultValue||"";$.setValue(q,{value:tt});break}default:continue}let J=document.querySelector(`[data-element-id="${q}"]`);if(J){if(!o.has(J)){(0,e.warn)(`_bindResetFormAction - element not allowed: ${q}`);continue}}else continue;J.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:K,name:"ResetForm"}}),!1}}}class h extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P})}render(){this.container.className="textAnnotation";let g=document.createElement("img");return g.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",g.alt="[{{type}} Annotation]",g.dataset.l10nId="text_annotation_type",g.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(g,this.data),this.container.append(g),this.container}}class m extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(g){let{isWin:P,isMac:D}=p.platform;return P&&g.ctrlKey||D&&g.metaKey}_setEventListener(g,P,D,B){P.includes("mouse")?g.addEventListener(P,W=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:D,value:B(W),shift:W.shiftKey,modifier:this._getKeyModifier(W)}})}):g.addEventListener(P,W=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:D,value:B(W)}})})}_setEventListeners(g,P,D){for(let[B,W]of P)(W==="Action"||this.data.actions?.[W])&&this._setEventListener(g,B,W,D)}_setBackgroundColor(g){let P=this.data.backgroundColor||null;g.style.backgroundColor=P===null?"transparent":e.Util.makeHexColor(P[0],P[1],P[2])}_setTextStyle(g){let P=["left","center","right"],{fontColor:D}=this.data.defaultAppearanceData,B=this.data.defaultAppearanceData.fontSize||d,W=g.style,H;if(this.data.multiLine){let G=Math.abs(this.data.rect[3]-this.data.rect[1]),$=Math.round(G/(e.LINE_FACTOR*B))||1,K=G/$;H=Math.min(B,Math.round(K/e.LINE_FACTOR))}else{let G=Math.abs(this.data.rect[3]-this.data.rect[1]);H=Math.min(B,Math.round(G/e.LINE_FACTOR))}W.fontSize=`calc(${H}px * var(--scale-factor))`,W.color=e.Util.makeHexColor(D[0],D[1],D[2]),this.data.textAlignment!==null&&(W.textAlign=P[this.data.textAlignment])}_setRequired(g,P){P?g.setAttribute("required",!0):g.removeAttribute("required"),g.setAttribute("aria-required",P)}}class x extends m{constructor(g){let P=g.renderForms||!g.data.hasAppearance&&!!g.data.fieldValue;super(g,{isRenderable:P})}setPropertyOnSiblings(g,P,D,B){let W=this.annotationStorage;for(let H of this._getElementsByName(g.name,g.id))H.domElement&&(H.domElement[P]=D),W.setValue(H.id,{[B]:D})}render(){let g=this.annotationStorage,P=this.data.id;this.container.className="textWidgetAnnotation";let D=null;if(this.renderForms){let B=g.getValue(P,{value:this.data.fieldValue}),W=B.formattedValue||B.value||"",H=g.getValue(P,{charLimit:this.data.maxLen}).charLimit;H&&W.length>H&&(W=W.slice(0,H));let G={userValue:W,formattedValue:null,valueOnFocus:""};this.data.multiLine?(D=document.createElement("textarea"),D.textContent=W,this.data.doNotScroll&&(D.style.overflowY="hidden")):(D=document.createElement("input"),D.type="text",D.setAttribute("value",W),this.data.doNotScroll&&(D.style.overflowX="hidden")),o.add(D),D.setAttribute("data-element-id",P),D.disabled=this.data.readOnly,D.name=this.data.fieldName,D.tabIndex=l,this._setRequired(D,this.data.required),H&&(D.maxLength=H),D.addEventListener("input",K=>{g.setValue(P,{value:K.target.value}),this.setPropertyOnSiblings(D,"value",K.target.value,"value")}),D.addEventListener("resetform",K=>{let Y=this.data.defaultFieldValue??"";D.value=G.userValue=Y,G.formattedValue=null});let $=K=>{let{formattedValue:Y}=G;Y!=null&&(K.target.value=Y),K.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){D.addEventListener("focus",Y=>{G.userValue&&(Y.target.value=G.userValue),G.valueOnFocus=Y.target.value}),D.addEventListener("updatefromsandbox",Y=>{let q={value(J){G.userValue=J.detail.value??"",g.setValue(P,{value:G.userValue.toString()}),J.target.value=G.userValue},formattedValue(J){let{formattedValue:tt}=J.detail;G.formattedValue=tt,tt!=null&&J.target!==document.activeElement&&(J.target.value=tt),g.setValue(P,{formattedValue:tt})},selRange(J){J.target.setSelectionRange(...J.detail.selRange)},charLimit:J=>{let{charLimit:tt}=J.detail,{target:et}=J;if(tt===0){et.removeAttribute("maxLength");return}et.setAttribute("maxLength",tt);let nt=G.userValue;!nt||nt.length<=tt||(nt=nt.slice(0,tt),et.value=G.userValue=nt,g.setValue(P,{value:nt}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:nt,willCommit:!0,commitKey:1,selStart:et.selectionStart,selEnd:et.selectionEnd}}))}};this._dispatchEventFromSandbox(q,Y)}),D.addEventListener("keydown",Y=>{let q=-1;if(Y.key==="Escape"?q=0:Y.key==="Enter"?q=2:Y.key==="Tab"&&(q=3),q===-1)return;let{value:J}=Y.target;G.valueOnFocus!==J&&(G.userValue=J,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:J,willCommit:!0,commitKey:q,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}))});let K=$;$=null,D.addEventListener("blur",Y=>{let{value:q}=Y.target;G.userValue=q,this._mouseState.isDown&&G.valueOnFocus!==q&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:q,willCommit:!0,commitKey:1,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}),K(Y)}),this.data.actions?.Keystroke&&D.addEventListener("beforeinput",Y=>{let{data:q,target:J}=Y,{value:tt,selectionStart:et,selectionEnd:nt}=J,st=et,lt=nt;switch(Y.inputType){case"deleteWordBackward":{let rt=tt.substring(0,et).match(/\w*[^\w]*$/);rt&&(st-=rt[0].length);break}case"deleteWordForward":{let rt=tt.substring(et).match(/^[^\w]*\w*/);rt&&(lt+=rt[0].length);break}case"deleteContentBackward":et===nt&&(st-=1);break;case"deleteContentForward":et===nt&&(lt+=1);break}Y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:tt,change:q||"",willCommit:!1,selStart:st,selEnd:lt}})}),this._setEventListeners(D,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.value)}if($&&D.addEventListener("blur",$),this.data.comb){let Y=(this.data.rect[2]-this.data.rect[0])/H;D.classList.add("comb"),D.style.letterSpacing=`calc(${Y}px * var(--scale-factor) - 1ch)`}}else D=document.createElement("div"),D.textContent=this.data.fieldValue,D.style.verticalAlign="middle",D.style.display="table-cell";return this._setTextStyle(D),this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class y extends m{constructor(g){super(g,{isRenderable:g.renderForms})}render(){let g=this.annotationStorage,P=this.data,D=P.id,B=g.getValue(D,{value:P.exportValue===P.fieldValue}).value;typeof B=="string"&&(B=B!=="Off",g.setValue(D,{value:B})),this.container.className="buttonWidgetAnnotation checkBox";let W=document.createElement("input");return o.add(W),W.setAttribute("data-element-id",D),W.disabled=P.readOnly,this._setRequired(W,this.data.required),W.type="checkbox",W.name=P.fieldName,B&&W.setAttribute("checked",!0),W.setAttribute("exportValue",P.exportValue),W.tabIndex=l,W.addEventListener("change",H=>{let{name:G,checked:$}=H.target;for(let K of this._getElementsByName(G,D)){let Y=$&&K.exportValue===P.exportValue;K.domElement&&(K.domElement.checked=Y),g.setValue(K.id,{value:Y})}g.setValue(D,{value:$})}),W.addEventListener("resetform",H=>{let G=P.defaultFieldValue||"Off";H.target.checked=G===P.exportValue}),this.enableScripting&&this.hasJSActions&&(W.addEventListener("updatefromsandbox",H=>{let G={value($){$.target.checked=$.detail.value!=="Off",g.setValue(D,{value:$.target.checked})}};this._dispatchEventFromSandbox(G,H)}),this._setEventListeners(W,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],H=>H.target.checked)),this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.append(W),this.container}}class T extends m{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";let g=this.annotationStorage,P=this.data,D=P.id,B=g.getValue(D,{value:P.fieldValue===P.buttonValue}).value;typeof B=="string"&&(B=B!==P.buttonValue,g.setValue(D,{value:B}));let W=document.createElement("input");if(o.add(W),W.setAttribute("data-element-id",D),W.disabled=P.readOnly,this._setRequired(W,this.data.required),W.type="radio",W.name=P.fieldName,B&&W.setAttribute("checked",!0),W.tabIndex=l,W.addEventListener("change",H=>{let{name:G,checked:$}=H.target;for(let K of this._getElementsByName(G,D))g.setValue(K.id,{value:!1});g.setValue(D,{value:$})}),W.addEventListener("resetform",H=>{let G=P.defaultFieldValue;H.target.checked=G!=null&&G===P.buttonValue}),this.enableScripting&&this.hasJSActions){let H=P.buttonValue;W.addEventListener("updatefromsandbox",G=>{let $={value:K=>{let Y=H===K.detail.value;for(let q of this._getElementsByName(K.target.name)){let J=Y&&q.id===D;q.domElement&&(q.domElement.checked=J),g.setValue(q.id,{value:J})}}};this._dispatchEventFromSandbox($,G)}),this._setEventListeners(W,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],G=>G.target.checked)}return this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.append(W),this.container}}class S extends u{constructor(g){super(g,{ignoreBorder:g.data.hasAppearance})}render(){let g=super.render();g.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(g.title=this.data.alternativeText);let P=g.lastChild;return this.enableScripting&&this.hasJSActions&&P&&(this._setDefaultPropertiesFromJS(P),P.addEventListener("updatefromsandbox",D=>{this._dispatchEventFromSandbox({},D)})),g}}class _ extends m{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.className="choiceWidgetAnnotation";let g=this.annotationStorage,P=this.data.id,D=g.getValue(P,{value:this.data.fieldValue}),B=document.createElement("select");o.add(B),B.setAttribute("data-element-id",P),B.disabled=this.data.readOnly,this._setRequired(B,this.data.required),B.name=this.data.fieldName,B.tabIndex=l;let W=this.data.combo&&this.data.options.length>0;this.data.combo||(B.size=this.data.options.length,this.data.multiSelect&&(B.multiple=!0)),B.addEventListener("resetform",K=>{let Y=this.data.defaultFieldValue;for(let q of B.options)q.selected=q.value===Y});for(let K of this.data.options){let Y=document.createElement("option");Y.textContent=K.displayValue,Y.value=K.exportValue,D.value.includes(K.exportValue)&&(Y.setAttribute("selected",!0),W=!1),B.append(Y)}let H=null;if(W){let K=document.createElement("option");K.value=" ",K.setAttribute("hidden",!0),K.setAttribute("selected",!0),B.prepend(K),H=()=>{K.remove(),B.removeEventListener("input",H),H=null},B.addEventListener("input",H)}let G=(K,Y)=>{let q=Y?"value":"textContent",J=K.target.options;return K.target.multiple?Array.prototype.filter.call(J,tt=>tt.selected).map(tt=>tt[q]):J.selectedIndex===-1?null:J[J.selectedIndex][q]},$=K=>{let Y=K.target.options;return Array.prototype.map.call(Y,q=>({displayValue:q.textContent,exportValue:q.value}))};return this.enableScripting&&this.hasJSActions?(B.addEventListener("updatefromsandbox",K=>{let Y={value(q){H?.();let J=q.detail.value,tt=new Set(Array.isArray(J)?J:[J]);for(let et of B.options)et.selected=tt.has(et.value);g.setValue(P,{value:G(q,!0)})},multipleSelection(q){B.multiple=!0},remove(q){let J=B.options,tt=q.detail.remove;J[tt].selected=!1,B.remove(tt),J.length>0&&Array.prototype.findIndex.call(J,nt=>nt.selected)===-1&&(J[0].selected=!0),g.setValue(P,{value:G(q,!0),items:$(q)})},clear(q){for(;B.length!==0;)B.remove(0);g.setValue(P,{value:null,items:[]})},insert(q){let{index:J,displayValue:tt,exportValue:et}=q.detail.insert,nt=B.children[J],st=document.createElement("option");st.textContent=tt,st.value=et,nt?nt.before(st):B.append(st),g.setValue(P,{value:G(q,!0),items:$(q)})},items(q){let{items:J}=q.detail;for(;B.length!==0;)B.remove(0);for(let tt of J){let{displayValue:et,exportValue:nt}=tt,st=document.createElement("option");st.textContent=et,st.value=nt,B.append(st)}B.options.length>0&&(B.options[0].selected=!0),g.setValue(P,{value:G(q,!0),items:$(q)})},indices(q){let J=new Set(q.detail.indices);for(let tt of q.target.options)tt.selected=J.has(tt.index);g.setValue(P,{value:G(q,!0)})},editable(q){q.target.disabled=!q.detail.editable}};this._dispatchEventFromSandbox(Y,K)}),B.addEventListener("input",K=>{let Y=G(K,!0),q=G(K,!1);g.setValue(P,{value:Y}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:q,changeEx:Y,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(B,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],K=>K.target.checked)):B.addEventListener("input",function(K){g.setValue(P,{value:G(K,!0)})}),this.data.combo&&this._setTextStyle(B),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class b extends p{constructor(g){let P=!!(g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P})}render(){let g=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",g.includes(this.data.parentType))return this.container;let P=`[data-annotation-id="${this.data.parentId}"]`,D=this.layer.querySelectorAll(P);if(D.length===0)return this.container;let B=new C({container:this.container,trigger:Array.from(D),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),W=this.page,H=e.Util.normalizeRect([this.data.parentRect[0],W.view[3]-this.data.parentRect[1]+W.view[1],this.data.parentRect[2],W.view[3]-this.data.parentRect[3]+W.view[1]]),G=H[0]+this.data.parentRect[2]-this.data.parentRect[0],$=H[1],[K,Y,q,J]=this.viewport.viewBox,tt=q-K,et=J-Y;return this.container.style.left=`${100*(G-K)/tt}%`,this.container.style.top=`${100*($-Y)/et}%`,this.container.append(B.render()),this.container}}class C{constructor(g){this.container=g.container,this.trigger=g.trigger,this.color=g.color,this.titleObj=g.titleObj,this.modificationDate=g.modificationDate,this.contentsObj=g.contentsObj,this.richText=g.richText,this.hideWrapper=g.hideWrapper||!1,this.pinned=!1}render(){let P=document.createElement("div");P.className="popupWrapper",this.hideElement=this.hideWrapper?P:this.container,this.hideElement.hidden=!0;let D=document.createElement("div");D.className="popup";let B=this.color;if(B){let G=.7*(255-B[0])+B[0],$=.7*(255-B[1])+B[1],K=.7*(255-B[2])+B[2];D.style.backgroundColor=e.Util.makeHexColor(G|0,$|0,K|0)}let W=document.createElement("h1");W.dir=this.titleObj.dir,W.textContent=this.titleObj.str,D.append(W);let H=n.PDFDateString.toDateObject(this.modificationDate);if(H){let G=document.createElement("span");G.className="popupDate",G.textContent="{{date}}, {{time}}",G.dataset.l10nId="annotation_date_string",G.dataset.l10nArgs=JSON.stringify({date:H.toLocaleDateString(),time:H.toLocaleTimeString()}),D.append(G)}if(this.richText?.str&&(!this.contentsObj?.str||this.contentsObj.str===this.richText.str))r.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:D}),D.lastChild.className="richText popupContent";else{let G=this._formatContents(this.contentsObj);D.append(G)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(let G of this.trigger)G.addEventListener("click",this._toggle.bind(this)),G.addEventListener("mouseover",this._show.bind(this,!1)),G.addEventListener("mouseout",this._hide.bind(this,!1));return D.addEventListener("click",this._hide.bind(this,!0)),P.append(D),P}_formatContents({str:g,dir:P}){let D=document.createElement("p");D.className="popupContent",D.dir=P;let B=g.split(/(?:\r\n?|\n)/);for(let W=0,H=B.length;W<H;++W){let G=B[W];D.append(document.createTextNode(G)),W<H-1&&D.append(document.createElement("br"))}return D}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(g=!1){g&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(g=!0){g&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class F extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0}),this.textContent=g.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){let g=document.createElement("div");g.className="annotationTextContent",g.setAttribute("role","comment");for(let P of this.textContent){let D=document.createElement("span");D.textContent=P,g.append(D)}this.container.append(g)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class I extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";let g=this.data,{width:P,height:D}=c(g.rect),B=this.svgFactory.create(P,D,!0),W=this.svgFactory.createElement("svg:line");return W.setAttribute("x1",g.rect[2]-g.lineCoordinates[0]),W.setAttribute("y1",g.rect[3]-g.lineCoordinates[1]),W.setAttribute("x2",g.rect[2]-g.lineCoordinates[2]),W.setAttribute("y2",g.rect[3]-g.lineCoordinates[3]),W.setAttribute("stroke-width",g.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),B.append(W),this.container.append(B),this._createPopup(W,g),this.container}}class v extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";let g=this.data,{width:P,height:D}=c(g.rect),B=this.svgFactory.create(P,D,!0),W=g.borderStyle.width,H=this.svgFactory.createElement("svg:rect");return H.setAttribute("x",W/2),H.setAttribute("y",W/2),H.setAttribute("width",P-W),H.setAttribute("height",D-W),H.setAttribute("stroke-width",W||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),B.append(H),this.container.append(B),this._createPopup(H,g),this.container}}class R extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";let g=this.data,{width:P,height:D}=c(g.rect),B=this.svgFactory.create(P,D,!0),W=g.borderStyle.width,H=this.svgFactory.createElement("svg:ellipse");return H.setAttribute("cx",P/2),H.setAttribute("cy",D/2),H.setAttribute("rx",P/2-W/2),H.setAttribute("ry",D/2-W/2),H.setAttribute("stroke-width",W||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),B.append(H),this.container.append(B),this._createPopup(H,g),this.container}}class X extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let g=this.data,{width:P,height:D}=c(g.rect),B=this.svgFactory.create(P,D,!0),W=[];for(let G of g.vertices){let $=G.x-g.rect[0],K=g.rect[3]-G.y;W.push($+","+K)}W=W.join(" ");let H=this.svgFactory.createElement(this.svgElementName);return H.setAttribute("points",W),H.setAttribute("stroke-width",g.borderStyle.width||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),B.append(H),this.container.append(B),this._createPopup(H,g),this.container}}class V extends X{constructor(g){super(g),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class L extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class k extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let g=this.data,{width:P,height:D}=c(g.rect),B=this.svgFactory.create(P,D,!0);for(let W of g.inkLists){let H=[];for(let $ of W){let K=$.x-g.rect[0],Y=g.rect[3]-$.y;H.push(`${K},${Y}`)}H=H.join(" ");let G=this.svgFactory.createElement(this.svgElementName);G.setAttribute("points",H),G.setAttribute("stroke-width",g.borderStyle.width||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),this._createPopup(G,g),B.append(G)}return this.container.append(B),this.container}}class O extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class j extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class z extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class M extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class E extends p{constructor(g){let P=!!(g.data.hasPopup||g.data.titleObj?.str||g.data.contentsObj?.str||g.data.richText?.str);super(g,{isRenderable:P,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class w extends p{constructor(g){super(g,{isRenderable:!0});let{filename:P,content:D}=this.data.file;this.filename=(0,n.getFilenameFromUrl)(P),this.content=D,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:P,content:D})}render(){this.container.className="fileAttachmentAnnotation";let g=document.createElement("div");return g.className="popupTriggerArea",g.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(g,this.data),this.container.append(g),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class N{static#t(g,P,D,B){let W=g.firstChild||g;W.id=`${n.AnnotationPrefix}${P}`,D.append(g),B?.moveElementInDOM(D,g,W,!1)}static render(g){let{annotations:P,div:D,viewport:B,accessibilityManager:W}=g;this.#e(D,B);let H=0;for(let G of P){if(G.annotationType!==e.AnnotationType.POPUP){let{width:K,height:Y}=c(G.rect);if(K<=0||Y<=0)continue}let $=f.create({data:G,layer:D,page:g.page,viewport:B,linkService:g.linkService,downloadManager:g.downloadManager,imageResourcesPath:g.imageResourcesPath||"",renderForms:g.renderForms!==!1,svgFactory:new n.DOMSVGFactory,annotationStorage:g.annotationStorage||new s.AnnotationStorage,enableScripting:g.enableScripting,hasJSActions:g.hasJSActions,fieldObjects:g.fieldObjects,mouseState:g.mouseState||{isDown:!1}});if($.isRenderable){let K=$.render();if(G.hidden&&(K.style.visibility="hidden"),Array.isArray(K))for(let Y of K)Y.style.zIndex=H++,N.#t(Y,G.id,D,W);else K.style.zIndex=H++,$ instanceof b?D.prepend(K):N.#t(K,G.id,D,W)}}this.#i(D,g.annotationCanvasMap)}static update(g){let{annotationCanvasMap:P,div:D,viewport:B}=g;this.#e(D,B),this.#i(D,P),D.hidden=!1}static#e(g,{width:P,height:D,rotation:B}){let{style:W}=g,H=B%180!==0,G=Math.floor(P)+"px",$=Math.floor(D)+"px";W.width=H?$:G,W.height=H?G:$,g.setAttribute("data-main-rotation",B)}static#i(g,P){if(P){for(let[D,B]of P){let W=g.querySelector(`[data-annotation-id="${D}"]`);if(!W)continue;let{firstChild:H}=W;H?H.nodeName==="CANVAS"?H.replaceWith(B):H.before(B):W.append(B)}P.clear()}}}t.AnnotationLayer=N},(A,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function i(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}class e{static CMYK_G([s,a,r,l]){return["G",1-Math.min(1,.3*s+.59*r+.11*a+l)]}static G_CMYK([s]){return["CMYK",0,0,0,1-s]}static G_RGB([s]){return["RGB",s,s,s]}static G_HTML([s]){let a=i(s);return`#${a}${a}${a}`}static RGB_G([s,a,r]){return["G",.3*s+.59*a+.11*r]}static RGB_HTML([s,a,r]){let l=i(s),d=i(a),o=i(r);return`#${l}${d}${o}`}static T_HTML(){return"#00000000"}static CMYK_RGB([s,a,r,l]){return["RGB",1-Math.min(1,s+l),1-Math.min(1,r+l),1-Math.min(1,a+l)]}static CMYK_HTML(s){let a=this.CMYK_RGB(s).slice(1);return this.RGB_HTML(a)}static RGB_CMYK([s,a,r]){let l=1-s,d=1-a,o=1-r,c=Math.min(l,d,o);return["CMYK",l,d,o,c]}}t.ColorConverters=e},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var e=i(20);class n{static setupStorage(a,r,l,d,o){let c=d.getValue(r,{value:null});switch(l.name){case"textarea":if(c.value!==null&&(a.textContent=c.value),o==="print")break;a.addEventListener("input",f=>{d.setValue(r,{value:f.target.value})});break;case"input":if(l.attributes.type==="radio"||l.attributes.type==="checkbox"){if(c.value===l.attributes.xfaOn?a.setAttribute("checked",!0):c.value===l.attributes.xfaOff&&a.removeAttribute("checked"),o==="print")break;a.addEventListener("change",f=>{d.setValue(r,{value:f.target.checked?f.target.getAttribute("xfaOn"):f.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&a.setAttribute("value",c.value),o==="print")break;a.addEventListener("input",f=>{d.setValue(r,{value:f.target.value})})}break;case"select":if(c.value!==null)for(let f of l.children)f.attributes.value===c.value&&(f.attributes.selected=!0);a.addEventListener("input",f=>{let p=f.target.options,u=p.selectedIndex===-1?"":p[p.selectedIndex].value;d.setValue(r,{value:u})});break}}static setAttributes({html:a,element:r,storage:l=null,intent:d,linkService:o}){let{attributes:c}=r,f=a instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${d}`);for(let[p,u]of Object.entries(c))if(u!=null)switch(p){case"class":u.length&&a.setAttribute(p,u.join(" "));break;case"dataId":break;case"id":a.setAttribute("data-element-id",u);break;case"style":Object.assign(a.style,u);break;case"textContent":a.textContent=u;break;default:(!f||p!=="href"&&p!=="newWindow")&&a.setAttribute(p,u)}f&&o.addLinkAttributes(a,c.href,c.newWindow),l&&c.dataId&&this.setupStorage(a,c.dataId,r,l)}static render(a){let r=a.annotationStorage,l=a.linkService,d=a.xfaHtml,o=a.intent||"display",c=document.createElement(d.name);d.attributes&&this.setAttributes({html:c,element:d,intent:o,linkService:l});let f=[[d,-1,c]],p=a.div;if(p.append(c),a.viewport){let h=`matrix(${a.viewport.transform.join(",")})`;p.style.transform=h}o!=="richText"&&p.setAttribute("class","xfaLayer xfaFont");let u=[];for(;f.length>0;){let[h,m,x]=f.at(-1);if(m+1===h.children.length){f.pop();continue}let y=h.children[++f.at(-1)[1]];if(y===null)continue;let{name:T}=y;if(T==="#text"){let _=document.createTextNode(y.value);u.push(_),x.append(_);continue}let S;if(y?.attributes?.xmlns?S=document.createElementNS(y.attributes.xmlns,T):S=document.createElement(T),x.append(S),y.attributes&&this.setAttributes({html:S,element:y,storage:r,intent:o,linkService:l}),y.children&&y.children.length>0)f.push([y,-1,S]);else if(y.value){let _=document.createTextNode(y.value);e.XfaText.shouldBuildText(T)&&u.push(_),S.append(_)}}for(let h of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:u}}static update(a){let r=`matrix(${a.viewport.transform.join(",")})`;a.div.style.transform=r,a.div.hidden=!1}}t.XfaLayer=n},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=y;var e=i(1),n=i(8);let s=1e5,a=30,r=.8,l=new Map,d=/^\s+$/g;function o(T,S){let _=l.get(T);if(_)return _;S.save(),S.font=`${a}px ${T}`;let b=S.measureText(""),C=b.fontBoundingBoxAscent,F=Math.abs(b.fontBoundingBoxDescent);if(C){S.restore();let v=C/(C+F);return l.set(T,v),v}S.strokeStyle="red",S.clearRect(0,0,a,a),S.strokeText("g",0,0);let I=S.getImageData(0,0,a,a).data;F=0;for(let v=I.length-1-3;v>=0;v-=4)if(I[v]>0){F=Math.ceil(v/4/a);break}S.clearRect(0,0,a,a),S.strokeText("A",0,a),I=S.getImageData(0,0,a,a).data,C=0;for(let v=0,R=I.length;v<R;v+=4)if(I[v]>0){C=a-Math.floor(v/4/a);break}if(S.restore(),C){let v=C/(C+F);return l.set(T,v),v}return l.set(T,r),r}function c(T,S,_,b){let C=document.createElement("span"),F=T._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:S.str!=="",hasEOL:S.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:S.str!=="",hasEOL:S.hasEOL,fontSize:0};T._textDivs.push(C);let I=e.Util.transform(T._viewport.transform,S.transform),v=Math.atan2(I[1],I[0]),R=_[S.fontName];R.vertical&&(v+=Math.PI/2);let X=Math.hypot(I[2],I[3]),V=X*o(R.fontFamily,b),L,k;v===0?(L=I[4],k=I[5]-V):(L=I[4]+V*Math.sin(v),k=I[5]-V*Math.cos(v)),C.style.left=`${L}px`,C.style.top=`${k}px`,C.style.fontSize=`${X}px`,C.style.fontFamily=R.fontFamily,F.fontSize=X,C.setAttribute("role","presentation"),C.textContent=S.str,C.dir=S.dir,T._fontInspectorEnabled&&(C.dataset.fontName=S.fontName),v!==0&&(F.angle=v*(180/Math.PI));let O=!1;if(S.str.length>1||T._enhanceTextSelection&&d.test(S.str))O=!0;else if(S.str!==" "&&S.transform[0]!==S.transform[3]){let j=Math.abs(S.transform[0]),z=Math.abs(S.transform[3]);j!==z&&Math.max(j,z)/Math.min(j,z)>1.5&&(O=!0)}if(O&&(R.vertical?F.canvasWidth=S.height*T._viewport.scale:F.canvasWidth=S.width*T._viewport.scale),T._textDivProperties.set(C,F),T._textContentStream&&T._layoutText(C),T._enhanceTextSelection&&F.hasText){let j=1,z=0;v!==0&&(j=Math.cos(v),z=Math.sin(v));let M=(R.vertical?S.height:S.width)*T._viewport.scale,E=X,w,N;v!==0?(w=[j,z,-z,j,L,k],N=e.Util.getAxialAlignedBoundingBox([0,0,M,E],w)):N=[L,k,L+M,k+E],T._bounds.push({left:N[0],top:N[1],right:N[2],bottom:N[3],div:C,size:[M,E],m:w})}}function f(T){if(T._canceled)return;let S=T._textDivs,_=T._capability,b=S.length;if(b>s){T._renderingDone=!0,_.resolve();return}if(!T._textContentStream)for(let C=0;C<b;C++)T._layoutText(S[C]);T._renderingDone=!0,_.resolve()}function p(T,S,_){let b=0;for(let C=0;C<_;C++){let F=T[S++];F>0&&(b=b?Math.min(F,b):F)}return b}function u(T){let S=T._bounds,_=T._viewport,b=h(_.width,_.height,S);for(let C=0;C<b.length;C++){let F=S[C].div,I=T._textDivProperties.get(F);if(I.angle===0){I.paddingLeft=S[C].left-b[C].left,I.paddingTop=S[C].top-b[C].top,I.paddingRight=b[C].right-S[C].right,I.paddingBottom=b[C].bottom-S[C].bottom,T._textDivProperties.set(F,I);continue}let v=b[C],R=S[C],X=R.m,V=X[0],L=X[1],k=[[0,0],[0,R.size[1]],[R.size[0],0],R.size],O=new Float64Array(64);for(let z=0,M=k.length;z<M;z++){let E=e.Util.applyTransform(k[z],X);O[z+0]=V&&(v.left-E[0])/V,O[z+4]=L&&(v.top-E[1])/L,O[z+8]=V&&(v.right-E[0])/V,O[z+12]=L&&(v.bottom-E[1])/L,O[z+16]=L&&(v.left-E[0])/-L,O[z+20]=V&&(v.top-E[1])/V,O[z+24]=L&&(v.right-E[0])/-L,O[z+28]=V&&(v.bottom-E[1])/V,O[z+32]=V&&(v.left-E[0])/-V,O[z+36]=L&&(v.top-E[1])/-L,O[z+40]=V&&(v.right-E[0])/-V,O[z+44]=L&&(v.bottom-E[1])/-L,O[z+48]=L&&(v.left-E[0])/L,O[z+52]=V&&(v.top-E[1])/-V,O[z+56]=L&&(v.right-E[0])/L,O[z+60]=V&&(v.bottom-E[1])/-V}let j=1+Math.min(Math.abs(V),Math.abs(L));I.paddingLeft=p(O,32,16)/j,I.paddingTop=p(O,48,16)/j,I.paddingRight=p(O,0,16)/j,I.paddingBottom=p(O,16,16)/j,T._textDivProperties.set(F,I)}}function h(T,S,_){let b=_.map(function(F,I){return{x1:F.left,y1:F.top,x2:F.right,y2:F.bottom,index:I,x1New:void 0,x2New:void 0}});m(T,b);let C=new Array(_.length);for(let F of b){let I=F.index;C[I]={left:F.x1New,top:0,right:F.x2New,bottom:0}}_.map(function(F,I){let v=C[I],R=b[I];R.x1=F.top,R.y1=T-v.right,R.x2=F.bottom,R.y2=T-v.left,R.index=I,R.x1New=void 0,R.x2New=void 0}),m(S,b);for(let F of b){let I=F.index;C[I].top=F.x1New,C[I].bottom=F.x2New}return C}function m(T,S){S.sort(function(C,F){return C.x1-F.x1||C.index-F.index});let b=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(let C of S){let F=0;for(;F<b.length&&b[F].end<=C.y1;)F++;let I=b.length-1;for(;I>=0&&b[I].start>=C.y2;)I--;let v,R,X,V,L=-1/0;for(X=F;X<=I;X++){v=b[X],R=v.boundary;let j;R.x2>C.x1?j=R.index>C.index?R.x1New:C.x1:R.x2New===void 0?j=(R.x2+C.x1)/2:j=R.x2New,j>L&&(L=j)}for(C.x1New=L,X=F;X<=I;X++)v=b[X],R=v.boundary,R.x2New===void 0?R.x2>C.x1?R.index>C.index&&(R.x2New=R.x2):R.x2New=L:R.x2New>L&&(R.x2New=Math.max(L,R.x2));let k=[],O=null;for(X=F;X<=I;X++){v=b[X],R=v.boundary;let j=R.x2>C.x2?R:C;O===j?k.at(-1).end=v.end:(k.push({start:v.start,end:v.end,boundary:j}),O=j)}for(b[F].start<C.y1&&(k[0].start=C.y1,k.unshift({start:b[F].start,end:C.y1,boundary:b[F].boundary})),C.y2<b[I].end&&(k.at(-1).end=C.y2,k.push({start:C.y2,end:b[I].end,boundary:b[I].boundary})),X=F;X<=I;X++){if(v=b[X],R=v.boundary,R.x2New!==void 0)continue;let j=!1;for(V=F-1;!j&&V>=0&&b[V].start>=R.y1;V--)j=b[V].boundary===R;for(V=I+1;!j&&V<b.length&&b[V].end<=R.y2;V++)j=b[V].boundary===R;for(V=0;!j&&V<k.length;V++)j=k[V].boundary===R;j||(R.x2New=L)}Array.prototype.splice.apply(b,[F,I-F+1,...k])}for(let C of b){let F=C.boundary;F.x2New===void 0&&(F.x2New=Math.max(T,F.x2))}}class x{constructor({textContent:S,textContentStream:_,container:b,viewport:C,textDivs:F,textContentItemsStr:I,enhanceTextSelection:v}){v&&(0,n.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=S,this._textContentStream=_,this._container=b,this._document=b.ownerDocument,this._viewport=C,this._textDivs=F||[],this._textContentItemsStr=I||[],this._enhanceTextSelection=!!v,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,e.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new e.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(S,_){for(let b=0,C=S.length;b<C;b++){if(S[b].str===void 0){if(S[b].type==="beginMarkedContentProps"||S[b].type==="beginMarkedContent"){let F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),S[b].id!==null&&this._container.setAttribute("id",`${S[b].id}`),F.append(this._container)}else S[b].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(S[b].str),c(this,S[b],_,this._layoutTextCtx)}}_layoutText(S){let _=this._textDivProperties.get(S),b="";if(_.canvasWidth!==0&&_.hasText){let{fontFamily:C}=S.style,{fontSize:F}=_;(F!==this._layoutTextLastFontSize||C!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${F*this._devicePixelRatio}px ${C}`,this._layoutTextLastFontSize=F,this._layoutTextLastFontFamily=C);let{width:I}=this._layoutTextCtx.measureText(S.textContent);if(I>0){let v=this._devicePixelRatio*_.canvasWidth/I;this._enhanceTextSelection&&(_.scale=v),b=`scaleX(${v})`}}if(_.angle!==0&&(b=`rotate(${_.angle}deg) ${b}`),b.length>0&&(this._enhanceTextSelection&&(_.originalTransform=b),S.style.transform=b),_.hasText&&this._container.append(S),_.hasEOL){let C=document.createElement("br");C.setAttribute("role","presentation"),this._container.append(C)}}_render(S=0){let _=(0,e.createPromiseCapability)(),b=Object.create(null),C=this._document.createElement("canvas");if(C.height=C.width=a,this._layoutTextCtx=C.getContext("2d",{alpha:!1}),this._textContent){let F=this._textContent.items,I=this._textContent.styles;this._processItems(F,I),_.resolve()}else if(this._textContentStream){let F=()=>{this._reader.read().then(({value:I,done:v})=>{if(v){_.resolve();return}Object.assign(b,I.styles),this._processItems(I.items,b),F()},_.reject)};this._reader=this._textContentStream.getReader(),F()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');_.promise.then(()=>{b=null,S?this._renderTimer=setTimeout(()=>{f(this),this._renderTimer=null},S):f(this)},this._capability.reject)}expandTextDivs(S=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(u(this),this._bounds=null);let _=[],b=[];for(let C=0,F=this._textDivs.length;C<F;C++){let I=this._textDivs[C],v=this._textDivProperties.get(I);v.hasText&&(S?(_.length=0,b.length=0,v.originalTransform&&_.push(v.originalTransform),v.paddingTop>0?(b.push(`${v.paddingTop}px`),_.push(`translateY(${-v.paddingTop}px)`)):b.push(0),v.paddingRight>0?b.push(`${v.paddingRight/v.scale}px`):b.push(0),v.paddingBottom>0?b.push(`${v.paddingBottom}px`):b.push(0),v.paddingLeft>0?(b.push(`${v.paddingLeft/v.scale}px`),_.push(`translateX(${-v.paddingLeft/v.scale}px)`)):b.push(0),I.style.padding=b.join(" "),_.length&&(I.style.transform=_.join(" "))):(I.style.padding=null,I.style.transform=v.originalTransform))}}}t.TextLayerRenderTask=x;function y(T){let S=new x({textContent:T.textContent,textContentStream:T.textContentStream,container:T.container,viewport:T.viewport,textDivs:T.textDivs,textContentItemsStr:T.textContentItemsStr,enhanceTextSelection:T.enhanceTextSelection});return S._render(T.timeout),S}},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var e=i(8),n=i(1),s=i(3);let a=class{constructor(){(0,n.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=a;{let h=function(_){let b=[],C=[];for(let F of _){if(F.fn==="save"){b.push({fnId:92,fn:"group",items:[]}),C.push(b),b=b.at(-1).items;continue}F.fn==="restore"?b=C.pop():b.push(F)}return b},m=function(_){if(Number.isInteger(_))return _.toString();let b=_.toFixed(10),C=b.length-1;if(b[C]!=="0")return b;do C--;while(b[C]==="0");return b.substring(0,b[C]==="."?C:C+1)},x=function(_){if(_[4]===0&&_[5]===0){if(_[1]===0&&_[2]===0)return _[0]===1&&_[3]===1?"":`scale(${m(_[0])} ${m(_[3])})`;if(_[0]===_[3]&&_[1]===-_[2]){let b=Math.acos(_[0])*180/Math.PI;return`rotate(${m(b)})`}}else if(_[0]===1&&_[1]===0&&_[2]===0&&_[3]===1)return`translate(${m(_[4])} ${m(_[5])})`;return`matrix(${m(_[0])} ${m(_[1])} ${m(_[2])} ${m(_[3])} ${m(_[4])} ${m(_[5])})`},r={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/1999/xlink",o=["butt","round","square"],c=["miter","round","bevel"],f=function(_,b="",C=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!C)return URL.createObjectURL(new Blob([_],{type:b}));let F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",I=`data:${b};base64,`;for(let v=0,R=_.length;v<R;v+=3){let X=_[v]&255,V=_[v+1]&255,L=_[v+2]&255,k=X>>2,O=(X&3)<<4|V>>4,j=v+1<R?(V&15)<<2|L>>6:64,z=v+2<R?L&63:64;I+=F[k]+F[O]+F[j]+F[z]}return I},p=function(){let _=new Uint8Array([137,80,78,71,13,10,26,10]),b=12,C=new Int32Array(256);for(let L=0;L<256;L++){let k=L;for(let O=0;O<8;O++)k&1?k=3988292384^k>>1&2147483647:k=k>>1&2147483647;C[L]=k}function F(L,k,O){let j=-1;for(let z=k;z<O;z++){let M=(j^L[z])&255,E=C[M];j=j>>>8^E}return j^-1}function I(L,k,O,j){let z=j,M=k.length;O[z]=M>>24&255,O[z+1]=M>>16&255,O[z+2]=M>>8&255,O[z+3]=M&255,z+=4,O[z]=L.charCodeAt(0)&255,O[z+1]=L.charCodeAt(1)&255,O[z+2]=L.charCodeAt(2)&255,O[z+3]=L.charCodeAt(3)&255,z+=4,O.set(k,z),z+=k.length;let E=F(O,j+4,z);O[z]=E>>24&255,O[z+1]=E>>16&255,O[z+2]=E>>8&255,O[z+3]=E&255}function v(L,k,O){let j=1,z=0;for(let M=k;M<O;++M)j=(j+(L[M]&255))%65521,z=(z+j)%65521;return z<<16|j}function R(L){if(!s.isNodeJS)return X(L);try{let k;parseInt(process.versions.node)>=8?k=L:k=Buffer.from(L);let O=Xs().deflateSync(k,{level:9});return O instanceof Uint8Array?O:new Uint8Array(O)}catch(k){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+k)}return X(L)}function X(L){let k=L.length,O=65535,j=Math.ceil(k/O),z=new Uint8Array(2+k+j*5+4),M=0;z[M++]=120,z[M++]=156;let E=0;for(;k>O;)z[M++]=0,z[M++]=255,z[M++]=255,z[M++]=0,z[M++]=0,z.set(L.subarray(E,E+O),M),M+=O,E+=O,k-=O;z[M++]=1,z[M++]=k&255,z[M++]=k>>8&255,z[M++]=~k&65535&255,z[M++]=(~k&65535)>>8&255,z.set(L.subarray(E),M),M+=L.length-E;let w=v(L,0,L.length);return z[M++]=w>>24&255,z[M++]=w>>16&255,z[M++]=w>>8&255,z[M++]=w&255,z}function V(L,k,O,j){let z=L.width,M=L.height,E,w,N,U=L.data;switch(k){case n.ImageKind.GRAYSCALE_1BPP:w=0,E=1,N=z+7>>3;break;case n.ImageKind.RGB_24BPP:w=2,E=8,N=z*3;break;case n.ImageKind.RGBA_32BPP:w=6,E=8,N=z*4;break;default:throw new Error("invalid format")}let g=new Uint8Array((1+N)*M),P=0,D=0;for(let K=0;K<M;++K)g[P++]=0,g.set(U.subarray(D,D+N),P),D+=N,P+=N;if(k===n.ImageKind.GRAYSCALE_1BPP&&j){P=0;for(let K=0;K<M;K++){P++;for(let Y=0;Y<N;Y++)g[P++]^=255}}let B=new Uint8Array([z>>24&255,z>>16&255,z>>8&255,z&255,M>>24&255,M>>16&255,M>>8&255,M&255,E,w,0,0,0]),W=R(g),H=_.length+b*3+B.length+W.length,G=new Uint8Array(H),$=0;return G.set(_,$),$+=_.length,I("IHDR",B,G,$),$+=b+B.length,I("IDATA",W,G,$),$+=b+W.length,I("IEND",new Uint8Array(0),G,$),f(G,"image/png",O)}return function(k,O,j){let z=k.kind===void 0?n.ImageKind.GRAYSCALE_1BPP:k.kind;return V(k,z,O,j)}}();class u{constructor(){this.fontSizeScale=1,this.fontWeight=r.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=r.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(b,C){this.x=b,this.y=C}}let y=0,T=0,S=0;t.SVGGraphics=a=class{constructor(_,b,C=!1){(0,e.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new e.DOMSVGFactory,this.current=new u,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_,this.objs=b,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!C,this._operatorIdMapping=[];for(let F in n.OPS)this._operatorIdMapping[n.OPS[F]]=F}save(){this.transformStack.push(this.transformMatrix);let _=this.current;this.extraStack.push(_),this.current=_.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(_){this.save(),this.executeOpTree(_),this.restore()}loadDependencies(_){let b=_.fnArray,C=_.argsArray;for(let F=0,I=b.length;F<I;F++)if(b[F]===n.OPS.dependency)for(let v of C[F]){let R=v.startsWith("g_")?this.commonObjs:this.objs,X=new Promise(V=>{R.get(v,V)});this.current.dependencies.push(X)}return Promise.all(this.current.dependencies)}transform(_,b,C,F,I,v){let R=[_,b,C,F,I,v];this.transformMatrix=n.Util.transform(this.transformMatrix,R),this.tgrp=null}getSVG(_,b){this.viewport=b;let C=this._initialize(b);return this.loadDependencies(_).then(()=>(this.transformMatrix=n.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(_)),C))}convertOpList(_){let b=this._operatorIdMapping,C=_.argsArray,F=_.fnArray,I=[];for(let v=0,R=F.length;v<R;v++){let X=F[v];I.push({fnId:X,fn:b[X],args:C[v]})}return h(I)}executeOpTree(_){for(let b of _){let C=b.fn,F=b.fnId,I=b.args;switch(F|0){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(I);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(I[0],I[1]);break;case n.OPS.setFont:this.setFont(I);break;case n.OPS.showText:this.showText(I[0]);break;case n.OPS.showSpacedText:this.showText(I[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(I[0],I[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(I[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(I[0]);break;case n.OPS.setHScale:this.setHScale(I[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(I[0],I[1],I[2],I[3],I[4],I[5]);break;case n.OPS.setTextRise:this.setTextRise(I[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(I[0]);break;case n.OPS.setLineWidth:this.setLineWidth(I[0]);break;case n.OPS.setLineJoin:this.setLineJoin(I[0]);break;case n.OPS.setLineCap:this.setLineCap(I[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(I[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(I[0],I[1],I[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(I[0],I[1],I[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(I);break;case n.OPS.setFillColorN:this.setFillColorN(I);break;case n.OPS.shadingFill:this.shadingFill(I[0]);break;case n.OPS.setDash:this.setDash(I[0],I[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(I[0]);break;case n.OPS.setFlatness:this.setFlatness(I[0]);break;case n.OPS.setGState:this.setGState(I[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(I[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(I[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(I[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(I[0],I[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(I[0],I[1],I[2],I[3],I[4],I[5]);break;case n.OPS.constructPath:this.constructPath(I[0],I[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(b.items);break;default:(0,n.warn)(`Unimplemented operator ${C}`);break}}}setWordSpacing(_){this.current.wordSpacing=_}setCharSpacing(_){this.current.charSpacing=_}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(_,b,C,F,I,v){let R=this.current;R.textMatrix=R.lineMatrix=[_,b,C,F,I,v],R.textMatrixScale=Math.hypot(_,b),R.x=R.lineX=0,R.y=R.lineY=0,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${m(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",m(-R.y)),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtElement.append(R.tspan)}beginText(){let _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=n.IDENTITY_MATRIX,_.lineMatrix=n.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}moveText(_,b){let C=this.current;C.x=C.lineX+=_,C.y=C.lineY+=b,C.xcoords=[],C.ycoords=[],C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${m(C.fontSize)}px`),C.tspan.setAttributeNS(null,"y",m(-C.y))}showText(_){let b=this.current,C=b.font,F=b.fontSize;if(F===0)return;let I=b.fontSizeScale,v=b.charSpacing,R=b.wordSpacing,X=b.fontDirection,V=b.textHScale*X,L=C.vertical,k=L?1:-1,O=C.defaultVMetrics,j=F*b.fontMatrix[0],z=0;for(let w of _){if(w===null){z+=X*R;continue}else if(typeof w=="number"){z+=k*w*F/1e3;continue}let N=(w.isSpace?R:0)+v,U=w.fontChar,g,P,D=w.width;if(L){let W,H=w.vmetric||O;W=w.vmetric?H[1]:D*.5,W=-W*j;let G=H[2]*j;D=H?-H[0]:D,g=W/I,P=(z+G)/I}else g=z/I,P=0;(w.isInFont||C.missingFile)&&(b.xcoords.push(b.x+g),L&&b.ycoords.push(-b.y+P),b.tspan.textContent+=U);let B;L?B=D*j-N*X:B=D*j+N*X,z+=B}b.tspan.setAttributeNS(null,"x",b.xcoords.map(m).join(" ")),L?b.tspan.setAttributeNS(null,"y",b.ycoords.map(m).join(" ")):b.tspan.setAttributeNS(null,"y",m(-b.y)),L?b.y-=z:b.x+=z*V,b.tspan.setAttributeNS(null,"font-family",b.fontFamily),b.tspan.setAttributeNS(null,"font-size",`${m(b.fontSize)}px`),b.fontStyle!==r.fontStyle&&b.tspan.setAttributeNS(null,"font-style",b.fontStyle),b.fontWeight!==r.fontWeight&&b.tspan.setAttributeNS(null,"font-weight",b.fontWeight);let M=b.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(M===n.TextRenderingMode.FILL||M===n.TextRenderingMode.FILL_STROKE?(b.fillColor!==r.fillColor&&b.tspan.setAttributeNS(null,"fill",b.fillColor),b.fillAlpha<1&&b.tspan.setAttributeNS(null,"fill-opacity",b.fillAlpha)):b.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?b.tspan.setAttributeNS(null,"fill","transparent"):b.tspan.setAttributeNS(null,"fill","none"),M===n.TextRenderingMode.STROKE||M===n.TextRenderingMode.FILL_STROKE){let w=1/(b.textMatrixScale||1);this._setStrokeAttributes(b.tspan,w)}let E=b.textMatrix;b.textRise!==0&&(E=E.slice(),E[5]+=b.textRise),b.txtElement.setAttributeNS(null,"transform",`${x(E)} scale(${m(V)}, -1)`),b.txtElement.setAttributeNS(l,"xml:space","preserve"),b.txtElement.append(b.tspan),b.txtgrp.append(b.txtElement),this._ensureTransformGroup().append(b.txtElement)}setLeadingMoveText(_,b){this.setLeading(-b),this.moveText(_,b)}addFontStyle(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let b=f(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${_.loadedName}"; src: url(${b}); }
`}setFont(_){let b=this.current,C=this.commonObjs.get(_[0]),F=_[1];b.font=C,this.embedFonts&&!C.missingFile&&!this.embeddedFonts[C.loadedName]&&(this.addFontStyle(C),this.embeddedFonts[C.loadedName]=C),b.fontMatrix=C.fontMatrix||n.FONT_IDENTITY_MATRIX;let I="normal";C.black?I="900":C.bold&&(I="bold");let v=C.italic?"italic":"normal";F<0?(F=-F,b.fontDirection=-1):b.fontDirection=1,b.fontSize=F,b.fontFamily=C.loadedName,b.fontWeight=I,b.fontStyle=v,b.tspan=this.svgFactory.createElement("svg:tspan"),b.tspan.setAttributeNS(null,"y",m(-b.y)),b.xcoords=[],b.ycoords=[]}endText(){let _=this.current;_.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&_.txtElement?.hasChildNodes()&&(_.element=_.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(_){_>0&&(this.current.lineWidth=_)}setLineCap(_){this.current.lineCap=o[_]}setLineJoin(_){this.current.lineJoin=c[_]}setMiterLimit(_){this.current.miterLimit=_}setStrokeAlpha(_){this.current.strokeAlpha=_}setStrokeRGBColor(_,b,C){this.current.strokeColor=n.Util.makeHexColor(_,b,C)}setFillAlpha(_){this.current.fillAlpha=_}setFillRGBColor(_,b,C){this.current.fillColor=n.Util.makeHexColor(_,b,C),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(_){this.current.strokeColor=this._makeColorN_Pattern(_)}setFillColorN(_){this.current.fillColor=this._makeColorN_Pattern(_)}shadingFill(_){let b=this.viewport.width,C=this.viewport.height,F=n.Util.inverseTransform(this.transformMatrix),I=n.Util.applyTransform([0,0],F),v=n.Util.applyTransform([0,C],F),R=n.Util.applyTransform([b,0],F),X=n.Util.applyTransform([b,C],F),V=Math.min(I[0],v[0],R[0],X[0]),L=Math.min(I[1],v[1],R[1],X[1]),k=Math.max(I[0],v[0],R[0],X[0]),O=Math.max(I[1],v[1],R[1],X[1]),j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x",V),j.setAttributeNS(null,"y",L),j.setAttributeNS(null,"width",k-V),j.setAttributeNS(null,"height",O-L),j.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&j.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(j)}_makeColorN_Pattern(_){return _[0]==="TilingPattern"?this._makeTilingPattern(_):this._makeShadingPattern(_)}_makeTilingPattern(_){let b=_[1],C=_[2],F=_[3]||n.IDENTITY_MATRIX,[I,v,R,X]=_[4],V=_[5],L=_[6],k=_[7],O=`shading${S++}`,[j,z,M,E]=n.Util.normalizeRect([...n.Util.applyTransform([I,v],F),...n.Util.applyTransform([R,X],F)]),[w,N]=n.Util.singularValueDecompose2dScale(F),U=V*w,g=L*N,P=this.svgFactory.createElement("svg:pattern");P.setAttributeNS(null,"id",O),P.setAttributeNS(null,"patternUnits","userSpaceOnUse"),P.setAttributeNS(null,"width",U),P.setAttributeNS(null,"height",g),P.setAttributeNS(null,"x",`${j}`),P.setAttributeNS(null,"y",`${z}`);let D=this.svg,B=this.transformMatrix,W=this.current.fillColor,H=this.current.strokeColor,G=this.svgFactory.create(M-j,E-z);if(this.svg=G,this.transformMatrix=F,k===2){let $=n.Util.makeHexColor(...b);this.current.fillColor=$,this.current.strokeColor=$}return this.executeOpTree(this.convertOpList(C)),this.svg=D,this.transformMatrix=B,this.current.fillColor=W,this.current.strokeColor=H,P.append(G.childNodes[0]),this.defs.append(P),`url(#${O})`}_makeShadingPattern(_){switch(typeof _=="string"&&(_=this.objs.get(_)),_[0]){case"RadialAxial":let b=`shading${S++}`,C=_[3],F;switch(_[1]){case"axial":let I=_[4],v=_[5];F=this.svgFactory.createElement("svg:linearGradient"),F.setAttributeNS(null,"id",b),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"x1",I[0]),F.setAttributeNS(null,"y1",I[1]),F.setAttributeNS(null,"x2",v[0]),F.setAttributeNS(null,"y2",v[1]);break;case"radial":let R=_[4],X=_[5],V=_[6],L=_[7];F=this.svgFactory.createElement("svg:radialGradient"),F.setAttributeNS(null,"id",b),F.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),F.setAttributeNS(null,"cx",X[0]),F.setAttributeNS(null,"cy",X[1]),F.setAttributeNS(null,"r",L),F.setAttributeNS(null,"fx",R[0]),F.setAttributeNS(null,"fy",R[1]),F.setAttributeNS(null,"fr",V);break;default:throw new Error(`Unknown RadialAxial type: ${_[1]}`)}for(let I of C){let v=this.svgFactory.createElement("svg:stop");v.setAttributeNS(null,"offset",I[0]),v.setAttributeNS(null,"stop-color",I[1]),F.append(v)}return this.defs.append(F),`url(#${b})`;case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${_[0]}`)}}setDash(_,b){this.current.dashArray=_,this.current.dashPhase=b}constructPath(_,b){let C=this.current,F=C.x,I=C.y,v=[],R=0;for(let X of _)switch(X|0){case n.OPS.rectangle:F=b[R++],I=b[R++];let V=b[R++],L=b[R++],k=F+V,O=I+L;v.push("M",m(F),m(I),"L",m(k),m(I),"L",m(k),m(O),"L",m(F),m(O),"Z");break;case n.OPS.moveTo:F=b[R++],I=b[R++],v.push("M",m(F),m(I));break;case n.OPS.lineTo:F=b[R++],I=b[R++],v.push("L",m(F),m(I));break;case n.OPS.curveTo:F=b[R+4],I=b[R+5],v.push("C",m(b[R]),m(b[R+1]),m(b[R+2]),m(b[R+3]),m(F),m(I)),R+=6;break;case n.OPS.curveTo2:v.push("C",m(F),m(I),m(b[R]),m(b[R+1]),m(b[R+2]),m(b[R+3])),F=b[R+2],I=b[R+3],R+=4;break;case n.OPS.curveTo3:F=b[R+2],I=b[R+3],v.push("C",m(b[R]),m(b[R+1]),m(F),m(I),m(F),m(I)),R+=4;break;case n.OPS.closePath:v.push("Z");break}v=v.join(" "),C.path&&_.length>0&&_[0]!==n.OPS.rectangle&&_[0]!==n.OPS.moveTo?v=C.path.getAttributeNS(null,"d")+v:(C.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(C.path)),C.path.setAttributeNS(null,"d",v),C.path.setAttributeNS(null,"fill","none"),C.element=C.path,C.setCurrentPoint(F,I)}endPath(){let _=this.current;if(_.path=null,!this.pendingClip)return;if(!_.element){this.pendingClip=null;return}let b=`clippath${y++}`,C=this.svgFactory.createElement("svg:clipPath");C.setAttributeNS(null,"id",b),C.setAttributeNS(null,"transform",x(this.transformMatrix));let F=_.element.cloneNode(!0);if(this.pendingClip==="evenodd"?F.setAttributeNS(null,"clip-rule","evenodd"):F.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,C.append(F),this.defs.append(C),_.activeClipUrl){_.clipGroup=null;for(let I of this.extraStack)I.clipGroup=null;C.setAttributeNS(null,"clip-path",_.activeClipUrl)}_.activeClipUrl=`url(#${b})`,this.tgrp=null}clip(_){this.pendingClip=_}closePath(){let _=this.current;if(_.path){let b=`${_.path.getAttributeNS(null,"d")}Z`;_.path.setAttributeNS(null,"d",b)}}setLeading(_){this.current.leading=-_}setTextRise(_){this.current.textRise=_}setTextRenderingMode(_){this.current.textRenderingMode=_}setHScale(_){this.current.textHScale=_/100}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(let[b,C]of _)switch(b){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C);break;case"CA":this.setStrokeAlpha(C);break;case"ca":this.setFillAlpha(C);break;default:(0,n.warn)(`Unimplemented graphic state operator ${b}`);break}}fill(){let _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}stroke(){let _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(_,b=1){let C=this.current,F=C.dashArray;b!==1&&F.length>0&&(F=F.map(function(I){return b*I})),_.setAttributeNS(null,"stroke",C.strokeColor),_.setAttributeNS(null,"stroke-opacity",C.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",m(C.miterLimit)),_.setAttributeNS(null,"stroke-linecap",C.lineCap),_.setAttributeNS(null,"stroke-linejoin",C.lineJoin),_.setAttributeNS(null,"stroke-width",m(b*C.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",F.map(m).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",m(b*C.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(_)}paintImageXObject(_){let b=_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_);if(!b){(0,n.warn)(`Dependent image with object ID ${_} is not ready yet`);return}this.paintInlineImageXObject(b)}paintInlineImageXObject(_,b){let C=_.width,F=_.height,I=p(_,this.forceDataSchema,!!b),v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y","0"),v.setAttributeNS(null,"width",m(C)),v.setAttributeNS(null,"height",m(F)),this.current.element=v,this.clip("nonzero");let R=this.svgFactory.createElement("svg:image");R.setAttributeNS(d,"xlink:href",I),R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y",m(-F)),R.setAttributeNS(null,"width",m(C)+"px"),R.setAttributeNS(null,"height",m(F)+"px"),R.setAttributeNS(null,"transform",`scale(${m(1/C)} ${m(-1/F)})`),b?b.append(R):this._ensureTransformGroup().append(R)}paintImageMaskXObject(_){let b=this.current,C=_.width,F=_.height,I=b.fillColor;b.maskId=`mask${T++}`;let v=this.svgFactory.createElement("svg:mask");v.setAttributeNS(null,"id",b.maskId);let R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width",m(C)),R.setAttributeNS(null,"height",m(F)),R.setAttributeNS(null,"fill",I),R.setAttributeNS(null,"mask",`url(#${b.maskId})`),this.defs.append(v),this._ensureTransformGroup().append(R),this.paintInlineImageXObject(_,v)}paintFormXObjectBegin(_,b){if(Array.isArray(_)&&_.length===6&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),b){let C=b[2]-b[0],F=b[3]-b[1],I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",b[0]),I.setAttributeNS(null,"y",b[1]),I.setAttributeNS(null,"width",m(C)),I.setAttributeNS(null,"height",m(F)),this.current.element=I,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(_){let b=this.svgFactory.create(_.width,_.height),C=this.svgFactory.createElement("svg:defs");b.append(C),this.defs=C;let F=this.svgFactory.createElement("svg:g");return F.setAttributeNS(null,"transform",x(_.transform)),b.append(F),this.svg=F,b}_ensureClipGroup(){if(!this.current.clipGroup){let _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(_),this.current.clipGroup=_}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",x(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var e=i(1),n=i(33);let s=xn(),a=Ys(),r=$s(),l=Ks(),d=/^file:\/\/\/[a-zA-Z]:\//;function o(T){let S=l.parse(T);return S.protocol==="file:"||S.host?S:/^[a-z]:[/\\]/i.test(T)?l.parse(`file:///${T}`):(S.host||(S.protocol="file:"),S)}class c{constructor(S){this.source=S,this.url=o(S.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new x(this):new h(this),this._fullRequestReader}getRangeReader(S,_){if(_<=this._progressiveDataLength)return null;let b=this.isFsUrl?new y(this,S,_):new m(this,S,_);return this._rangeRequestReaders.push(b),b}cancelAllRequests(S){this._fullRequestReader&&this._fullRequestReader.cancel(S);for(let _ of this._rangeRequestReaders.slice(0))_.cancel(S)}}t.PDFNodeStream=c;class f{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null;let _=S.source;this._contentLength=_.length,this._loaded=0,this._filename=null,this._disableRange=_.disableRange||!1,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._readableStream=null,this._readCapability=(0,e.createPromiseCapability)(),this._headersCapability=(0,e.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return dt(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let S=this._readableStream.read();return S===null?(this._readCapability=(0,e.createPromiseCapability)(),this.read()):(this._loaded+=S.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(S).buffer,done:!1})})}cancel(S){if(!this._readableStream){this._error(S);return}this._readableStream.destroy(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",_=>{this._error(_)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class p{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,e.createPromiseCapability)();let _=S.source;this._isStreamingSupported=!_.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return dt(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let S=this._readableStream.read();return S===null?(this._readCapability=(0,e.createPromiseCapability)(),this.read()):(this._loaded+=S.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(S).buffer,done:!1})})}cancel(S){if(!this._readableStream){this._error(S);return}this._readableStream.destroy(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",_=>{this._error(_)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(T,S){return{protocol:T.protocol,auth:T.auth,host:T.hostname,port:T.port,path:T.path,method:"GET",headers:S}}class h extends f{constructor(S){super(S);let _=b=>{if(b.statusCode===404){let v=new e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=v,this._headersCapability.reject(v);return}this._headersCapability.resolve(),this._setReadableStream(b);let C=v=>this._readableStream.headers[v.toLowerCase()],{allowRangeRequests:F,suggestedLength:I}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:C,isHttp:S.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=F,this._contentLength=I||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(C)};this._request=null,this._url.protocol==="http:"?this._request=a.request(u(this._url,S.httpHeaders),_):this._request=r.request(u(this._url,S.httpHeaders),_),this._request.on("error",b=>{this._storedError=b,this._headersCapability.reject(b)}),this._request.end()}}class m extends p{constructor(S,_,b){super(S),this._httpHeaders={};for(let F in S.httpHeaders){let I=S.httpHeaders[F];typeof I>"u"||(this._httpHeaders[F]=I)}this._httpHeaders.Range=`bytes=${_}-${b-1}`;let C=F=>{if(F.statusCode===404){let I=new e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=I;return}this._setReadableStream(F)};this._request=null,this._url.protocol==="http:"?this._request=a.request(u(this._url,this._httpHeaders),C):this._request=r.request(u(this._url,this._httpHeaders),C),this._request.on("error",F=>{this._storedError=F}),this._request.end()}}class x extends f{constructor(S){super(S);let _=decodeURIComponent(this._url.path);d.test(this._url.href)&&(_=_.replace(/^\//,"")),s.lstat(_,(b,C)=>{if(b){b.code==="ENOENT"&&(b=new e.MissingPDFException(`Missing PDF "${_}".`)),this._storedError=b,this._headersCapability.reject(b);return}this._contentLength=C.size,this._setReadableStream(s.createReadStream(_)),this._headersCapability.resolve()})}}class y extends p{constructor(S,_,b){super(S);let C=decodeURIComponent(this._url.path);d.test(this._url.href)&&(C=C.replace(/^\//,"")),this._setReadableStream(s.createReadStream(C,{start:_,end:b-1}))}}},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=l,t.extractFilenameFromHeader=r,t.validateRangeRequestCapabilities=a,t.validateResponseStatus=d;var e=i(1),n=i(34),s=i(8);function a({getResponseHeader:o,isHttp:c,rangeChunkSize:f,disableRange:p}){let u={allowRangeRequests:!1,suggestedLength:void 0},h=parseInt(o("Content-Length"),10);return!Number.isInteger(h)||(u.suggestedLength=h,h<=2*f)||p||!c||o("Accept-Ranges")!=="bytes"||(o("Content-Encoding")||"identity")!=="identity"||(u.allowRangeRequests=!0),u}function r(o){let c=o("Content-Disposition");if(c){let f=(0,n.getFilenameFromContentDispositionHeader)(c);if(f.includes("%"))try{f=decodeURIComponent(f)}catch{}if((0,s.isPdfFile)(f))return f}return null}function l(o,c){return o===404||o===0&&c.startsWith("file:")?new e.MissingPDFException('Missing PDF "'+c+'".'):new e.UnexpectedResponseException(`Unexpected server response (${o}) while retrieving PDF "${c}".`,o)}function d(o){return o===200||o===206}},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=n;var e=i(1);function n(s){let a=!0,r=l("filename\\*","i").exec(s);if(r){r=r[1];let h=f(r);return h=unescape(h),h=p(h),h=u(h),o(h)}if(r=c(s),r){let h=u(r);return o(h)}if(r=l("filename","i").exec(s),r){r=r[1];let h=f(r);return h=u(h),o(h)}function l(h,m){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function d(h,m){if(h){if(!/^[\x00-\xFF]+$/.test(m))return m;try{let x=new TextDecoder(h,{fatal:!0}),y=(0,e.stringToBytes)(m);m=x.decode(y),a=!1}catch{}}return m}function o(h){return a&&/[\x80-\xff]/.test(h)&&(h=d("utf-8",h),a&&(h=d("iso-8859-1",h))),h}function c(h){let m=[],x,y=l("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(x=y.exec(h))!==null;){let[,S,_,b]=x;if(S=parseInt(S,10),S in m){if(S===0)break;continue}m[S]=[_,b]}let T=[];for(let S=0;S<m.length&&S in m;++S){let[_,b]=m[S];b=f(b),_&&(b=unescape(b),S===0&&(b=p(b))),T.push(b)}return T.join("")}function f(h){if(h.startsWith('"')){let m=h.slice(1).split('\\"');for(let x=0;x<m.length;++x){let y=m[x].indexOf('"');y!==-1&&(m[x]=m[x].slice(0,y),m.length=x+1),m[x]=m[x].replace(/\\(.)/g,"$1")}h=m.join('"')}return h}function p(h){let m=h.indexOf("'");if(m===-1)return h;let x=h.slice(0,m),T=h.slice(m+1).replace(/^[^']*'/,"");return d(x,T)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,x,y,T){if(y==="q"||y==="Q")return T=T.replace(/_/g," "),T=T.replace(/=([0-9a-fA-F]{2})/g,function(S,_){return String.fromCharCode(parseInt(_,16))}),d(x,T);try{T=atob(T)}catch{}return d(x,T)})}return""}},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var e=i(1),n=i(33);let s=200,a=206;function r(f){let p=f.response;return typeof p!="string"?p:(0,e.stringToBytes)(p).buffer}class l{constructor(p,u={}){this.url=p,this.isHttp=/^https?:/i.test(p),this.httpHeaders=this.isHttp&&u.httpHeaders||Object.create(null),this.withCredentials=u.withCredentials||!1,this.getXhr=u.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(p,u,h){let m={begin:p,end:u};for(let x in h)m[x]=h[x];return this.request(m)}requestFull(p){return this.request(p)}request(p){let u=this.getXhr(),h=this.currXhrId++,m=this.pendingRequests[h]={xhr:u};u.open("GET",this.url),u.withCredentials=this.withCredentials;for(let x in this.httpHeaders){let y=this.httpHeaders[x];typeof y>"u"||u.setRequestHeader(x,y)}return this.isHttp&&"begin"in p&&"end"in p?(u.setRequestHeader("Range",`bytes=${p.begin}-${p.end-1}`),m.expectedStatus=a):m.expectedStatus=s,u.responseType="arraybuffer",p.onError&&(u.onerror=function(x){p.onError(u.status)}),u.onreadystatechange=this.onStateChange.bind(this,h),u.onprogress=this.onProgress.bind(this,h),m.onHeadersReceived=p.onHeadersReceived,m.onDone=p.onDone,m.onError=p.onError,m.onProgress=p.onProgress,u.send(null),h}onProgress(p,u){let h=this.pendingRequests[p];h&&h.onProgress?.(u)}onStateChange(p,u){let h=this.pendingRequests[p];if(!h)return;let m=h.xhr;if(m.readyState>=2&&h.onHeadersReceived&&(h.onHeadersReceived(),delete h.onHeadersReceived),m.readyState!==4||!(p in this.pendingRequests))return;if(delete this.pendingRequests[p],m.status===0&&this.isHttp){h.onError?.(m.status);return}let x=m.status||s;if(!(x===s&&h.expectedStatus===a)&&x!==h.expectedStatus){h.onError?.(m.status);return}let T=r(m);if(x===a){let S=m.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(S);h.onDone({begin:parseInt(_[1],10),chunk:T})}else T?h.onDone({begin:0,chunk:T}):h.onError?.(m.status)}getRequestXhr(p){return this.pendingRequests[p].xhr}isPendingRequest(p){return p in this.pendingRequests}abortRequest(p){let u=this.pendingRequests[p].xhr;delete this.pendingRequests[p],u.abort()}}class d{constructor(p){this._source=p,this._manager=new l(p.url,{httpHeaders:p.httpHeaders,withCredentials:p.withCredentials}),this._rangeChunkSize=p.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(p){let u=this._rangeRequestReaders.indexOf(p);u>=0&&this._rangeRequestReaders.splice(u,1)}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(p,u){let h=new c(this._manager,p,u);return h.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(h),h}cancelAllRequests(p){this._fullRequestReader?.cancel(p);for(let u of this._rangeRequestReaders.slice(0))u.cancel(p)}}t.PDFNetworkStream=d;class o{constructor(p,u){this._manager=p;let h={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=u.url,this._fullRequestId=p.requestFull(h),this._headersReceivedCapability=(0,e.createPromiseCapability)(),this._disableRange=u.disableRange||!1,this._contentLength=u.length,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let p=this._fullRequestId,u=this._manager.getRequestXhr(p),h=y=>u.getResponseHeader(y),{allowRangeRequests:m,suggestedLength:x}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});m&&(this._isRangeSupported=!0),this._contentLength=x||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(h),this._isRangeSupported&&this._manager.abortRequest(p),this._headersReceivedCapability.resolve()}_onDone(p){if(p&&(this._requests.length>0?this._requests.shift().resolve({value:p.chunk,done:!1}):this._cachedChunks.push(p.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(p){this._storedError=(0,n.createResponseStatusError)(p,this._url),this._headersReceivedCapability.reject(this._storedError);for(let u of this._requests)u.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(p){this.onProgress?.({loaded:p.loaded,total:p.lengthComputable?p.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return dt(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let p=(0,e.createPromiseCapability)();return this._requests.push(p),p.promise})}cancel(p){this._done=!0,this._headersReceivedCapability.reject(p);for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class c{constructor(p,u,h){this._manager=p;let m={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._requestId=p.requestRange(u,h,m),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(p){let u=p.chunk;this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunk=u,this._done=!0;for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(p){this._storedError=(0,n.createResponseStatusError)(p,this._url);for(let u of this._requests)u.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(p){this.isStreamingSupported||this.onProgress?.({loaded:p.loaded})}get isStreamingSupported(){return!1}read(){return dt(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};let p=(0,e.createPromiseCapability)();return this._requests.push(p),p.promise})}cancel(p){this._done=!0;for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var e=i(1),n=i(33);function s(o,c,f){return{method:"GET",headers:o,signal:f.signal,mode:"cors",credentials:c?"include":"same-origin",redirect:"follow"}}function a(o){let c=new Headers;for(let f in o){let p=o[f];typeof p>"u"||c.append(f,p)}return c}class r{constructor(c){this.source=c,this.isHttp=/^https?:/i.test(c.url),this.httpHeaders=this.isHttp&&c.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(c,f){if(f<=this._progressiveDataLength)return null;let p=new d(this,c,f);return this._rangeRequestReaders.push(p),p}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(let f of this._rangeRequestReaders.slice(0))f.cancel(c)}}t.PDFFetchStream=r;class l{constructor(c){this._stream=c,this._reader=null,this._loaded=0,this._filename=null;let f=c.source;this._withCredentials=f.withCredentials||!1,this._contentLength=f.length,this._headersCapability=(0,e.createPromiseCapability)(),this._disableRange=f.disableRange||!1,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._headers=a(this._stream.httpHeaders);let p=f.url;fetch(p,s(this._headers,this._withCredentials,this._abortController)).then(u=>{if(!(0,n.validateResponseStatus)(u.status))throw(0,n.createResponseStatusError)(u.status,p);this._reader=u.body.getReader(),this._headersCapability.resolve();let h=y=>u.headers.get(y),{allowRangeRequests:m,suggestedLength:x}=(0,n.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=x||this._contentLength,this._filename=(0,n.extractFilenameFromHeader)(h),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return dt(this,null,function*(){yield this._headersCapability.promise;let{value:c,done:f}=yield this._reader.read();return f?{value:c,done:f}:(this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(c).buffer,done:!1})})}cancel(c){this._reader&&this._reader.cancel(c),this._abortController.abort()}}class d{constructor(c,f,p){this._stream=c,this._reader=null,this._loaded=0;let u=c.source;this._withCredentials=u.withCredentials||!1,this._readCapability=(0,e.createPromiseCapability)(),this._isStreamingSupported=!u.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${f}-${p-1}`);let h=u.url;fetch(h,s(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,n.validateResponseStatus)(m.status))throw(0,n.createResponseStatusError)(m.status,h);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return dt(this,null,function*(){yield this._readCapability.promise;let{value:c,done:f}=yield this._reader.read();return f?{value:c,done:f}:(this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(c).buffer,done:!1})})}cancel(c){this._reader&&this._reader.cancel(c),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var t=__webpack_module_cache__[A];if(t!==void 0)return t.exports;var i=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return n.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return r.GlobalWorkerOptions}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(A,"LoopbackPort",{enumerable:!0,get:function(){return i.LoopbackPort}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return e.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return e.PixelsPerInch}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return e.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return e.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return e.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return e.getXfaPageViewport}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return e.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return e.loadScript}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return d.renderTextLayer}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return i.version}});var t=__w_pdfjs_require__(1),i=__w_pdfjs_require__(4),e=__w_pdfjs_require__(8),n=__w_pdfjs_require__(22),s=__w_pdfjs_require__(7),a=__w_pdfjs_require__(27),r=__w_pdfjs_require__(15),l=__w_pdfjs_require__(3),d=__w_pdfjs_require__(30),o=__w_pdfjs_require__(31),c=__w_pdfjs_require__(29);let f="2.16.105",p="172ccdbe5";if(l.isNodeJS){let{PDFNodeStream:u}=__w_pdfjs_require__(32);(0,i.setPDFNetworkStreamFactory)(h=>new u(h))}else{let{PDFNetworkStream:u}=__w_pdfjs_require__(35),{PDFFetchStream:h}=__w_pdfjs_require__(36);(0,i.setPDFNetworkStreamFactory)(m=>(0,e.isValidFetchUrl)(m.url)?new h(m):new u(m))}})(),__webpack_exports__})())});var Qs=Re((Gi,En)=>{"use strict";(function(t,i){typeof Gi=="object"&&typeof En=="object"?En.exports=i():typeof define=="function"&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],i):typeof Gi=="object"?Gi["pdfjs-dist/web/pdf_viewer"]=i():t["pdfjs-dist/web/pdf_viewer"]=t.pdfjsViewer=i()})(globalThis,()=>(()=>{"use strict";var A=[,(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DefaultXfaLayerFactory=s.DefaultTextLayerFactory=s.DefaultStructTreeLayerFactory=s.DefaultAnnotationLayerFactory=s.DefaultAnnotationEditorLayerFactory=void 0;var r=a(2),l=a(5),d=a(4),o=a(6),c=a(8),f=a(9),p=a(10);class u{createAnnotationLayerBuilder({pageDiv:S,pdfPage:_,annotationStorage:b=null,imageResourcesPath:C="",renderForms:F=!0,l10n:I=d.NullL10n,enableScripting:v=!1,hasJSActionsPromise:R=null,mouseState:X=null,fieldObjectsPromise:V=null,annotationCanvasMap:L=null,accessibilityManager:k=null}){return new l.AnnotationLayerBuilder({pageDiv:S,pdfPage:_,imageResourcesPath:C,renderForms:F,linkService:new o.SimpleLinkService,l10n:I,annotationStorage:b,enableScripting:v,hasJSActionsPromise:R,fieldObjectsPromise:V,mouseState:X,annotationCanvasMap:L,accessibilityManager:k})}}s.DefaultAnnotationLayerFactory=u;class h{createAnnotationEditorLayerBuilder({uiManager:S=null,pageDiv:_,pdfPage:b,accessibilityManager:C=null,l10n:F,annotationStorage:I=null}){return new r.AnnotationEditorLayerBuilder({uiManager:S,pageDiv:_,pdfPage:b,accessibilityManager:C,l10n:F,annotationStorage:I})}}s.DefaultAnnotationEditorLayerFactory=h;class m{createStructTreeLayerBuilder({pdfPage:S}){return new c.StructTreeLayerBuilder({pdfPage:S})}}s.DefaultStructTreeLayerFactory=m;class x{createTextLayerBuilder({textLayerDiv:S,pageIndex:_,viewport:b,enhanceTextSelection:C=!1,eventBus:F,highlighter:I,accessibilityManager:v=null}){return new f.TextLayerBuilder({textLayerDiv:S,pageIndex:_,viewport:b,enhanceTextSelection:C,eventBus:F,highlighter:I,accessibilityManager:v})}}s.DefaultTextLayerFactory=x;class y{createXfaLayerBuilder({pageDiv:S,pdfPage:_,annotationStorage:b=null}){return new p.XfaLayerBuilder({pageDiv:S,pdfPage:_,annotationStorage:b,linkService:new o.SimpleLinkService})}}s.DefaultXfaLayerFactory=y},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayerBuilder=void 0;var r=a(3),l=a(4);class d{#t;constructor(c){this.pageDiv=c.pageDiv,this.pdfPage=c.pdfPage,this.annotationStorage=c.annotationStorage||null,this.accessibilityManager=c.accessibilityManager,this.l10n=c.l10n||l.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#t=c.uiManager}render(c,f="display"){return dt(this,null,function*(){if(f!=="display"||this._cancelled)return;let p=c.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:p}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new r.AnnotationEditorLayer({uiManager:this.#t,div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:p});let u={viewport:p,div:this.div,annotations:null,intent:f};this.annotationEditorLayer.render(u)})}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}s.AnnotationEditorLayerBuilder=d},n=>{let s;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?s=window["pdfjs-dist/build/pdf"]:s=Pn(),n.exports=s},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.fixupLangCode=d,s.getL10nFallback=r;let a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function r(p,u){switch(p){case"find_match_count":p=`find_match_count[${u.total===1?"one":"other"}]`;break;case"find_match_count_limit":p=`find_match_count_limit[${u.limit===1?"one":"other"}]`;break}return a[p]||""}let l={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function d(p){return l[p?.toLowerCase()]||p}function o(p,u){return u?p.replace(/\{\{\s*(\w+)\s*\}\}/g,(h,m)=>m in u?u[m]:"{{"+m+"}}"):p}let c={getLanguage(){return dt(this,null,function*(){return"en-us"})},getDirection(){return dt(this,null,function*(){return"ltr"})},get(m){return dt(this,arguments,function*(p,u=null,h=r(p,u)){return o(h,u)})},translate(p){return dt(this,null,function*(){})}};s.NullL10n=c},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var r=a(3),l=a(4);class d{constructor({pageDiv:c,pdfPage:f,linkService:p,downloadManager:u,annotationStorage:h=null,imageResourcesPath:m="",renderForms:x=!0,l10n:y=l.NullL10n,enableScripting:T=!1,hasJSActionsPromise:S=null,fieldObjectsPromise:_=null,mouseState:b=null,annotationCanvasMap:C=null,accessibilityManager:F=null}){this.pageDiv=c,this.pdfPage=f,this.linkService=p,this.downloadManager=u,this.imageResourcesPath=m,this.renderForms=x,this.l10n=y,this.annotationStorage=h,this.enableScripting=T,this._hasJSActionsPromise=S,this._fieldObjectsPromise=_,this._mouseState=b,this._annotationCanvasMap=C,this._accessibilityManager=F,this.div=null,this._cancelled=!1}render(c,f="display"){return dt(this,null,function*(){let[p,u=!1,h=null]=yield Promise.all([this.pdfPage.getAnnotations({intent:f}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||p.length===0)return;let m={viewport:c.clone({dontFlip:!0}),div:this.div,annotations:p,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:u,fieldObjects:h,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?r.AnnotationLayer.update(m):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),m.div=this.div,r.AnnotationLayer.render(m),this.l10n.translate(this.div))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.AnnotationLayerBuilder=d},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var r=a(7);let l="noopener noreferrer nofollow",d={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};s.LinkTarget=d;function o(p,{url:u,target:h,rel:m,enabled:x=!0}={}){if(!u||typeof u!="string")throw new Error('A valid "url" parameter must provided.');let y=(0,r.removeNullCharacters)(u);x?p.href=p.title=y:(p.href="",p.title=`Disabled: ${y}`,p.onclick=()=>!1);let T="";switch(h){case d.NONE:break;case d.SELF:T="_self";break;case d.BLANK:T="_blank";break;case d.PARENT:T="_parent";break;case d.TOP:T="_top";break}p.target=T,p.rel=typeof m=="string"?m:l}class c{#t=new Map;constructor({eventBus:u,externalLinkTarget:h=null,externalLinkRel:m=null,ignoreDestinationZoom:x=!1}={}){this.eventBus=u,this.externalLinkTarget=h,this.externalLinkRel=m,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=x,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(u,h=null){this.baseUrl=h,this.pdfDocument=u,this.#t.clear()}setViewer(u){this.pdfViewer=u}setHistory(u){this.pdfHistory=u}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(u){this.pdfViewer.currentPageNumber=u}get rotation(){return this.pdfViewer.pagesRotation}set rotation(u){this.pdfViewer.pagesRotation=u}#e(u,h=null,m){let x=m[0],y;if(typeof x=="object"&&x!==null){if(y=this._cachedPageNumber(x),!y){this.pdfDocument.getPageIndex(x).then(T=>{this.cachePageRef(T+1,x),this.#e(u,h,m)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${x}" is not a valid page reference, for dest="${u}".`)});return}}else if(Number.isInteger(x))y=x+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${x}" is not a valid destination reference, for dest="${u}".`);return}if(!y||y<1||y>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${y}" is not a valid page number, for dest="${u}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:h,explicitDest:m,pageNumber:y})),this.pdfViewer.scrollPageIntoView({pageNumber:y,destArray:m,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToDestination(u){return dt(this,null,function*(){if(!this.pdfDocument)return;let h,m;if(typeof u=="string"?(h=u,m=yield this.pdfDocument.getDestination(u)):(h=null,m=yield u),!Array.isArray(m)){console.error(`PDFLinkService.goToDestination: "${m}" is not a valid destination array, for dest="${u}".`);return}this.#e(u,h,m)})}goToPage(u){if(!this.pdfDocument)return;let h=typeof u=="string"&&this.pdfViewer.pageLabelToPageNumber(u)||u|0;if(!(Number.isInteger(h)&&h>0&&h<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${u}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(h)),this.pdfViewer.scrollPageIntoView({pageNumber:h})}addLinkAttributes(u,h,m=!1){o(u,{url:h,target:m?d.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(u){if(typeof u=="string"){if(u.length>0)return this.getAnchorUrl("#"+escape(u))}else if(Array.isArray(u)){let h=JSON.stringify(u);if(h.length>0)return this.getAnchorUrl("#"+escape(h))}return this.getAnchorUrl("")}getAnchorUrl(u){return(this.baseUrl||"")+u}setHash(u){if(!this.pdfDocument)return;let h,m;if(u.includes("=")){let x=(0,r.parseQueryString)(u);if(x.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:x.get("search").replace(/"/g,""),phraseSearch:x.get("phrase")==="true"}),x.has("page")&&(h=x.get("page")|0||1),x.has("zoom")){let y=x.get("zoom").split(","),T=y[0],S=parseFloat(T);T.includes("Fit")?T==="Fit"||T==="FitB"?m=[null,{name:T}]:T==="FitH"||T==="FitBH"||T==="FitV"||T==="FitBV"?m=[null,{name:T},y.length>1?y[1]|0:null]:T==="FitR"?y.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):m=[null,{name:T},y[1]|0,y[2]|0,y[3]|0,y[4]|0]:console.error(`PDFLinkService.setHash: "${T}" is not a valid zoom value.`):m=[null,{name:"XYZ"},y.length>1?y[1]|0:null,y.length>2?y[2]|0:null,S?S/100:T]}m?this.pdfViewer.scrollPageIntoView({pageNumber:h||this.page,destArray:m,allowNegativeOffset:!0}):h&&(this.page=h),x.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:x.get("pagemode")}),x.has("nameddest")&&this.goToDestination(x.get("nameddest"))}else{m=unescape(u);try{m=JSON.parse(m),Array.isArray(m)||(m=m.toString())}catch{}if(typeof m=="string"||c.#i(m)){this.goToDestination(m);return}console.error(`PDFLinkService.setHash: "${unescape(u)}" is not a valid destination.`)}}executeNamedAction(u){switch(u){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:u})}cachePageRef(u,h){if(!h)return;let m=h.gen===0?`${h.num}R`:`${h.num}R${h.gen}`;this.#t.set(m,u)}_cachedPageNumber(u){if(!u)return null;let h=u.gen===0?`${u.num}R`:`${u.num}R${u.gen}`;return this.#t.get(h)||null}isPageVisible(u){return this.pdfViewer.isPageVisible(u)}isPageCached(u){return this.pdfViewer.isPageCached(u)}static#i(u){if(!Array.isArray(u))return!1;let h=u.length;if(h<2)return!1;let m=u[0];if(!(typeof m=="object"&&Number.isInteger(m.num)&&Number.isInteger(m.gen))&&!(Number.isInteger(m)&&m>=0))return!1;let x=u[1];if(!(typeof x=="object"&&typeof x.name=="string"))return!1;let y=!0;switch(x.name){case"XYZ":if(h!==5)return!1;break;case"Fit":case"FitB":return h===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(h!==3)return!1;break;case"FitR":if(h!==6)return!1;y=!1;break;default:return!1}for(let T=2;T<h;T++){let S=u[T];if(!(typeof S=="number"||y&&S===null))return!1}return!0}}s.PDFLinkService=c;class f{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(u){}get rotation(){return 0}set rotation(u){}goToDestination(u){return dt(this,null,function*(){})}goToPage(u){}addLinkAttributes(u,h,m=!1){o(u,{url:h,enabled:this.externalLinkEnabled})}getDestinationHash(u){return"#"}getAnchorUrl(u){return"#"}setHash(u){}executeNamedAction(u){}cachePageRef(u,h){}isPageVisible(u){return!0}isPageCached(u){return!0}}s.SimpleLinkService=f},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.RendererType=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=K,s.apiPageModeToSidebarView=Y,s.approximateFraction=k,s.backtrackBeforeAllVisibleElements=z,s.binarySearchFirstItem=L,s.docStyle=void 0,s.getActiveOrFocusedElement=$,s.getPageSizeInches=j,s.getVisibleElements=M,s.isPortraitOrientation=D,s.isValidRotation=U,s.isValidScrollMode=g,s.isValidSpreadMode=P,s.noContextMenuHandler=E,s.normalizeWheelEventDelta=N,s.normalizeWheelEventDirection=w,s.parseQueryString=v,s.removeNullCharacters=V,s.roundToDivide=O,s.scrollIntoView=F,s.watchScroll=I;let a="auto";s.DEFAULT_SCALE_VALUE=a;let r=1;s.DEFAULT_SCALE=r;let l=1.1;s.DEFAULT_SCALE_DELTA=l;let d=.1;s.MIN_SCALE=d;let o=10;s.MAX_SCALE=o;let c=0;s.UNKNOWN_SCALE=c;let f=1.25;s.MAX_AUTO_SCALE=f;let p=40;s.SCROLLBAR_PADDING=p;let u=5;s.VERTICAL_PADDING=u;let h={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};s.RenderingStates=h;let m={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};s.PresentationModeState=m;let x={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=x;let y={CANVAS:"canvas",SVG:"svg"};s.RendererType=y;let T={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};s.TextLayerMode=T;let S={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=S;let _={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=_;let b=/\bprint\s*\(/;s.AutoPrintRegExp=b;class C{constructor(){let J=window.devicePixelRatio||1;this.sx=J,this.sy=J}get scaled(){return this.sx!==1||this.sy!==1}}s.OutputScale=C;function F(q,J,tt=!1){let et=q.offsetParent;if(!et){console.error("offsetParent is not set -- cannot scroll");return}let nt=q.offsetTop+q.clientTop,st=q.offsetLeft+q.clientLeft;for(;et.clientHeight===et.scrollHeight&&et.clientWidth===et.scrollWidth||tt&&(et.classList.contains("markedContent")||getComputedStyle(et).overflow==="hidden");)if(nt+=et.offsetTop,st+=et.offsetLeft,et=et.offsetParent,!et)return;J&&(J.top!==void 0&&(nt+=J.top),J.left!==void 0&&(st+=J.left,et.scrollLeft=st)),et.scrollTop=nt}function I(q,J){let tt=function(st){nt||(nt=window.requestAnimationFrame(function(){nt=null;let rt=q.scrollLeft,gt=et.lastX;rt!==gt&&(et.right=rt>gt),et.lastX=rt;let _t=q.scrollTop,ut=et.lastY;_t!==ut&&(et.down=_t>ut),et.lastY=_t,J(et)}))},et={right:!0,down:!0,lastX:q.scrollLeft,lastY:q.scrollTop,_eventHandler:tt},nt=null;return q.addEventListener("scroll",tt,!0),et}function v(q){let J=new Map;for(let[tt,et]of new URLSearchParams(q))J.set(tt.toLowerCase(),et);return J}let R=/\x00/g,X=/[\x01-\x1F]/g;function V(q,J=!1){return typeof q!="string"?(console.error("The argument must be a string."),q):(J&&(q=q.replace(X," ")),q.replace(R,""))}function L(q,J,tt=0){let et=tt,nt=q.length-1;if(nt<0||!J(q[nt]))return q.length;if(J(q[et]))return et;for(;et<nt;){let st=et+nt>>1,lt=q[st];J(lt)?nt=st:et=st+1}return et}function k(q){if(Math.floor(q)===q)return[q,1];let J=1/q,tt=8;if(J>tt)return[1,tt];if(Math.floor(J)===J)return[1,J];let et=q>1?J:q,nt=0,st=1,lt=1,rt=1;for(;;){let _t=nt+lt,ut=st+rt;if(ut>tt)break;et<=_t/ut?(lt=_t,rt=ut):(nt=_t,st=ut)}let gt;return et-nt/st<lt/rt-et?gt=et===q?[nt,st]:[st,nt]:gt=et===q?[lt,rt]:[rt,lt],gt}function O(q,J){let tt=q%J;return tt===0?q:Math.round(q-tt+J)}function j({view:q,userUnit:J,rotate:tt}){let[et,nt,st,lt]=q,rt=tt%180!==0,gt=(st-et)/72*J,_t=(lt-nt)/72*J;return{width:rt?_t:gt,height:rt?gt:_t}}function z(q,J,tt){if(q<2)return q;let et=J[q].div,nt=et.offsetTop+et.clientTop;nt>=tt&&(et=J[q-1].div,nt=et.offsetTop+et.clientTop);for(let st=q-2;st>=0&&(et=J[st].div,!(et.offsetTop+et.clientTop+et.clientHeight<=nt));--st)q=st;return q}function M({scrollEl:q,views:J,sortByVisibility:tt=!1,horizontal:et=!1,rtl:nt=!1}){let st=q.scrollTop,lt=st+q.clientHeight,rt=q.scrollLeft,gt=rt+q.clientWidth;function _t(Yt){let Ut=Yt.div;return Ut.offsetTop+Ut.clientTop+Ut.clientHeight>st}function ut(Yt){let Ut=Yt.div,$t=Ut.offsetLeft+Ut.clientLeft,Ae=$t+Ut.clientWidth;return nt?$t<gt:Ae>rt}let bt=[],Ct=new Set,Xt=J.length,Lt=L(J,et?ut:_t);Lt>0&&Lt<Xt&&!et&&(Lt=z(Lt,J,st));let fe=et?gt:-1;for(let Yt=Lt;Yt<Xt;Yt++){let Ut=J[Yt],$t=Ut.div,Ae=$t.offsetLeft+$t.clientLeft,We=$t.offsetTop+$t.clientTop,vi=$t.clientWidth,it=$t.clientHeight,Z=Ae+vi,Q=We+it;if(fe===-1)Q>=lt&&(fe=Q);else if((et?Ae:We)>fe)break;if(Q<=st||We>=lt||Z<=rt||Ae>=gt)continue;let ct=Math.max(0,st-We)+Math.max(0,Q-lt),pt=Math.max(0,rt-Ae)+Math.max(0,Z-gt),vt=(it-ct)/it,yt=(vi-pt)/vi,ge=vt*yt*100|0;bt.push({id:Ut.id,x:Ae,y:We,view:Ut,percent:ge,widthPercent:yt*100|0}),Ct.add(Ut.id)}let Ft=bt[0],Tt=bt.at(-1);return tt&&bt.sort(function(Yt,Ut){let $t=Yt.percent-Ut.percent;return Math.abs($t)>.001?-$t:Yt.id-Ut.id}),{first:Ft,last:Tt,views:bt,ids:Ct}}function E(q){q.preventDefault()}function w(q){let J=Math.hypot(q.deltaX,q.deltaY),tt=Math.atan2(q.deltaY,q.deltaX);return-.25*Math.PI<tt&&tt<.75*Math.PI&&(J=-J),J}function N(q){let J=w(q),tt=0,et=1,nt=30,st=30;return q.deltaMode===tt?J/=nt*st:q.deltaMode===et&&(J/=st),J}function U(q){return Number.isInteger(q)&&q%90===0}function g(q){return Number.isInteger(q)&&Object.values(S).includes(q)&&q!==S.UNKNOWN}function P(q){return Number.isInteger(q)&&Object.values(_).includes(q)&&q!==_.UNKNOWN}function D(q){return q.width<=q.height}let B=new Promise(function(q){window.requestAnimationFrame(q)});s.animationStarted=B;let W=document.documentElement.style;s.docStyle=W;function H(q,J,tt){return Math.min(Math.max(q,J),tt)}class G{#t=null;#e=0;#i=!0;constructor(J){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");let tt=document.getElementById(J);this.#t=tt.classList}get percent(){return this.#e}set percent(J){if(this.#e=H(J,0,100),isNaN(J)){this.#t.add("indeterminate");return}this.#t.remove("indeterminate"),W.setProperty("--progressBar-percent",`${this.#e}%`)}setWidth(J){if(!J)return;let et=J.parentNode.offsetWidth-J.offsetWidth;et>0&&W.setProperty("--progressBar-end-offset",`${et}px`)}hide(){this.#i&&(this.#i=!1,this.#t.add("hidden"))}show(){this.#i||(this.#i=!0,this.#t.remove("hidden"))}}s.ProgressBar=G;function $(){let q=document,J=q.activeElement||q.querySelector(":focus");for(;J?.shadowRoot;)q=J.shadowRoot,J=q.activeElement||q.querySelector(":focus");return J}function K(q){let J=S.VERTICAL,tt=_.NONE;switch(q){case"SinglePage":J=S.PAGE;break;case"OneColumn":break;case"TwoPageLeft":J=S.PAGE;case"TwoColumnLeft":tt=_.ODD;break;case"TwoPageRight":J=S.PAGE;case"TwoColumnRight":tt=_.EVEN;break}return{scrollMode:J,spreadMode:tt}}function Y(q){switch(q){case"UseNone":return x.NONE;case"UseThumbs":return x.THUMBS;case"UseOutlines":return x.OUTLINE;case"UseAttachments":return x.ATTACHMENTS;case"UseOC":return x.LAYERS}return x.NONE}},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;let a={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},r=/^H(\d+)$/;class l{constructor({pdfPage:o}){this.pdfPage=o}render(o){return this._walk(o)}_setAttributes(o,c){o.alt!==void 0&&c.setAttribute("aria-label",o.alt),o.id!==void 0&&c.setAttribute("aria-owns",o.id),o.lang!==void 0&&c.setAttribute("lang",o.lang)}_walk(o){if(!o)return null;let c=document.createElement("span");if("role"in o){let{role:f}=o,p=f.match(r);p?(c.setAttribute("role","heading"),c.setAttribute("aria-level",p[1])):a[f]&&c.setAttribute("role",a[f])}if(this._setAttributes(o,c),o.children)if(o.children.length===1&&"id"in o.children[0])this._setAttributes(o.children[0],c);else for(let f of o.children)c.append(this._walk(f));return c}}s.StructTreeLayerBuilder=l},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var r=a(3);let l=300;class d{constructor({textLayerDiv:c,eventBus:f,pageIndex:p,viewport:u,highlighter:h=null,enhanceTextSelection:m=!1,accessibilityManager:x=null}){this.textLayerDiv=c,this.eventBus=f,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=p+1,this.viewport=u,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=h,this.enhanceTextSelection=m,this.accessibilityManager=x,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){let c=document.createElement("div");c.className="endOfContent",this.textLayerDiv.append(c)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(c=0){if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs);let f=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:f,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:c,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.append(f),this._finishRendering(),this.highlighter?.enable(),this.accessibilityManager?.enable()},function(p){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable()}setTextContentStream(c){this.cancel(),this.textContentStream=c}setTextContent(c){this.cancel(),this.textContent=c}_bindMouse(){let c=this.textLayerDiv,f=null;c.addEventListener("mousedown",p=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),f&&(clearTimeout(f),f=null);return}let u=c.querySelector(".endOfContent");if(!u)return;let h=p.target!==c;if(h=h&&window.getComputedStyle(u).getPropertyValue("-moz-user-select")!=="none",h){let m=c.getBoundingClientRect(),x=Math.max(0,(p.pageY-m.top)/m.height);u.style.top=(x*100).toFixed(2)+"%"}u.classList.add("active")}),c.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){f=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),f=null},l);return}let p=c.querySelector(".endOfContent");p&&(p.style.top="",p.classList.remove("active"))})}}s.TextLayerBuilder=d},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var r=a(3);class l{constructor({pageDiv:o,pdfPage:c,annotationStorage:f=null,linkService:p,xfaHtml:u=null}){this.pageDiv=o,this.pdfPage=c,this.annotationStorage=f,this.linkService=p,this.xfaHtml=u,this.div=null,this._cancelled=!1}render(o,c="display"){if(c==="print"){let f={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:c},p=document.createElement("div");this.pageDiv.append(p),f.div=p;let u=r.XfaLayer.render(f);return Promise.resolve(u)}return this.pdfPage.getXfa().then(f=>{if(this._cancelled||!f)return{textDivs:[]};let p={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:f,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:c};return this.div?r.XfaLayer.update(p):(this.div=document.createElement("div"),this.pageDiv.append(this.div),p.div=this.div,r.XfaLayer.render(p))}).catch(f=>{console.error(f)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.XfaLayerBuilder=l},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFViewer=s.PDFSinglePageViewer=void 0;var r=a(7),l=a(12);class d extends l.BaseViewer{}s.PDFViewer=d;class o extends l.BaseViewer{_resetView(){super._resetView(),this._scrollMode=r.ScrollMode.PAGE,this._spreadMode=r.SpreadMode.NONE}set scrollMode(f){}_updateScrollMode(){}set spreadMode(f){}_updateSpreadMode(){}}s.PDFSinglePageViewer=o},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFPageViewBuffer=s.BaseViewer=void 0;var r=a(3),l=a(7),d=a(2),o=a(5),c=a(4),f=a(13),p=a(16),u=a(6),h=a(8),m=a(17),x=a(9),y=a(10);let T=10,S="enablePermissions",_={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};s.PagesCountLimit=_;function b(I){return Object.values(r.AnnotationEditorType).includes(I)&&I!==r.AnnotationEditorType.DISABLE}class C{#t=new Set;#e=0;constructor(v){this.#e=v}push(v){let R=this.#t;R.has(v)&&R.delete(v),R.add(v),R.size>this.#e&&this.#i()}resize(v,R=null){this.#e=v;let X=this.#t;if(R){let V=X.size,L=1;for(let k of X)if(R.has(k.id)&&(X.delete(k),X.add(k)),++L>V)break}for(;X.size>this.#e;)this.#i()}has(v){return this.#t.has(v)}[Symbol.iterator](){return this.#t.keys()}#i(){let v=this.#t.keys().next().value;v?.destroy(),this.#t.delete(v)}}s.PDFPageViewBuffer=C;class F{#t=null;#e=r.AnnotationEditorType.DISABLE;#i=null;#n=r.AnnotationMode.ENABLE_FORMS;#r=!1;#c=0;#o=null;#s=null;constructor(v){if(this.constructor===F)throw new Error("Cannot initialize BaseViewer.");let R="2.16.105";if(r.version!==R)throw new Error(`The API version "${r.version}" does not match the Viewer version "${R}".`);if(this.container=v.container,this.viewer=v.viewer||v.container.firstElementChild,!(this.container?.tagName.toUpperCase()==="DIV"&&this.viewer?.tagName.toUpperCase()==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=v.eventBus,this.linkService=v.linkService||new u.SimpleLinkService,this.downloadManager=v.downloadManager||null,this.findController=v.findController||null,this._scriptingManager=v.scriptingManager||null,this.removePageBorders=v.removePageBorders||!1,this.textLayerMode=v.textLayerMode??l.TextLayerMode.ENABLE,this.#n=v.annotationMode??r.AnnotationMode.ENABLE_FORMS,this.#e=v.annotationEditorMode??r.AnnotationEditorType.DISABLE,this.imageResourcesPath=v.imageResourcesPath||"",this.enablePrintAutoRotate=v.enablePrintAutoRotate||!1,this.renderer=v.renderer||l.RendererType.CANVAS,this.useOnlyCssZoom=v.useOnlyCssZoom||!1,this.maxCanvasPixels=v.maxCanvasPixels,this.l10n=v.l10n||c.NullL10n,this.#r=v.enablePermissions||!1,this.pageColors=v.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!v.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new p.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=v.renderingQueue,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=l.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(v){return this._pages[v]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(v){return v?.pdfPage}):!1}get renderForms(){return this.#n===r.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(v){if(!Number.isInteger(v))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(v,!0)||console.error(`currentPageNumber: "${v}" is not a valid page.`))}_setCurrentPageNumber(v,R=!1){if(this._currentPageNumber===v)return R&&this.#f(),!0;if(!(0<v&&v<=this.pagesCount))return!1;let X=this._currentPageNumber;return this._currentPageNumber=v,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:v,pageLabel:this._pageLabels?.[v-1]??null,previous:X}),R&&this.#f(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(v){if(!this.pdfDocument)return;let R=v|0;if(this._pageLabels){let X=this._pageLabels.indexOf(v);X>=0&&(R=X+1)}this._setCurrentPageNumber(R,!0)||console.error(`currentPageLabel: "${v}" is not a valid page.`)}get currentScale(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE}set currentScale(v){if(isNaN(v))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(v,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(v){this.pdfDocument&&this._setScale(v,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(v){if(!(0,l.isValidRotation)(v))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(v%=360,v<0&&(v+=360),this._pagesRotation===v))return;this._pagesRotation=v;let R=this._currentPageNumber,X={rotation:v};for(let V of this._pages)V.update(X);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:v,pageNumber:R}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#u(v){let R={annotationEditorMode:this.#e,annotationMode:this.#n,textLayerMode:this.textLayerMode};return v&&(v.includes(r.PermissionFlag.COPY)||this.viewer.classList.add(S),v.includes(r.PermissionFlag.MODIFY_CONTENTS)||(R.annotationEditorMode=r.AnnotationEditorType.DISABLE),!v.includes(r.PermissionFlag.MODIFY_ANNOTATIONS)&&!v.includes(r.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#n===r.AnnotationMode.ENABLE_FORMS&&(R.annotationMode=r.AnnotationMode.ENABLE)),R}#h(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();let v=new Promise(R=>{this.#s=()=>{document.visibilityState==="hidden"&&(R(),document.removeEventListener("visibilitychange",this.#s),this.#s=null)},document.addEventListener("visibilitychange",this.#s)});return Promise.race([this._onePageRenderedCapability.promise,v])}setDocument(v){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),this.#i&&(this.#i.destroy(),this.#i=null)),this.pdfDocument=v,!v)return;let R=v.isPureXfa,X=v.numPages,V=v.getPage(1),L=v.getOptionalContentConfig(),k=this.#r?v.getPermissions():Promise.resolve();if(X>_.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let O=this._scrollMode=l.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:O})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:X})},()=>{}),this._onBeforeDraw=O=>{let j=this._pages[O.pageNumber-1];j&&this.#t.push(j)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=O=>{O.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:O.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#s&&(document.removeEventListener("visibilitychange",this.#s),this.#s=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([V,k]).then(([O,j])=>{if(v!==this.pdfDocument)return;this._firstPageCapability.resolve(O),this._optionalContentConfigPromise=L;let{annotationEditorMode:z,annotationMode:M,textLayerMode:E}=this.#u(j);if(z!==r.AnnotationEditorType.DISABLE){let H=z;R?console.warn("Warning: XFA-editing is not implemented."):b(H)?(this.#i=new r.AnnotationEditorUIManager(this.container,this.eventBus),H!==r.AnnotationEditorType.NONE&&this.#i.updateMode(H)):console.error(`Invalid AnnotationEditor mode: ${H}`)}let w=this._scrollMode===l.ScrollMode.PAGE?null:this.viewer,N=this.currentScale,U=O.getViewport({scale:N*r.PixelsPerInch.PDF_TO_CSS_UNITS}),g=E!==l.TextLayerMode.DISABLE&&!R?this:null,P=M!==r.AnnotationMode.DISABLE?this:null,D=R?this:null,B=this.#i?this:null;for(let H=1;H<=X;++H){let G=new f.PDFPageView({container:w,eventBus:this.eventBus,id:H,scale:N,defaultViewport:U.clone(),optionalContentConfigPromise:L,renderingQueue:this.renderingQueue,textLayerFactory:g,textLayerMode:E,annotationLayerFactory:P,annotationMode:M,xfaLayerFactory:D,annotationEditorLayerFactory:B,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(G)}let W=this._pages[0];W&&(W.setPdfPage(O),this.linkService.cachePageRef(1,O.ref)),this._scrollMode===l.ScrollMode.PAGE?this.#l():this._spreadMode!==l.SpreadMode.NONE&&this._updateSpreadMode(),this.#h().then(()=>dt(this,null,function*(){if(this.findController&&this.findController.setDocument(v),this._scriptingManager&&this._scriptingManager.setDocument(v),this.#i&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:this.#e}),v.loadingParams.disableAutoFetch||X>_.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=X-1;if(H<=0){this._pagesCapability.resolve();return}for(let G=2;G<=X;++G){let $=v.getPage(G).then(K=>{let Y=this._pages[G-1];Y.pdfPage||Y.setPdfPage(K),this.linkService.cachePageRef(G,K.ref),--H===0&&this._pagesCapability.resolve()},K=>{console.error(`Unable to get page ${G} to initialize viewer`,K),--H===0&&this._pagesCapability.resolve()});G%_.PAUSE_EAGER_PAGE_INIT===0&&(yield $)}})),this.eventBus.dispatch("pagesinit",{source:this}),v.getMetadata().then(({info:H})=>{v===this.pdfDocument&&H.Language&&(this.viewer.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(O=>{console.error("Unable to initialize viewer",O),this._pagesCapability.reject(O)})}setPageLabels(v){if(this.pdfDocument){v?Array.isArray(v)&&this.pdfDocument.numPages===v.length?this._pageLabels=v:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let R=0,X=this._pages.length;R<X;R++)this._pages[R].setPageLabel(this._pageLabels?.[R]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=l.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#t=new C(T),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,r.createPromiseCapability)(),this._onePageRenderedCapability=(0,r.createPromiseCapability)(),this._pagesCapability=(0,r.createPromiseCapability)(),this._scrollMode=l.ScrollMode.VERTICAL,this._previousScrollMode=l.ScrollMode.UNKNOWN,this._spreadMode=l.SpreadMode.NONE,this.#o={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#s&&(document.removeEventListener("visibilitychange",this.#s),this.#s=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(S)}#l(){if(this._scrollMode!==l.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let v=this._currentPageNumber,R=this.#o,X=this.viewer;if(X.textContent="",R.pages.length=0,this._spreadMode===l.SpreadMode.NONE&&!this.isInPresentationMode){let V=this._pages[v-1];X.append(V.div),R.pages.push(V)}else{let V=new Set,L=this._spreadMode-1;L===-1?V.add(v-1):v%2!==L?(V.add(v-1),V.add(v)):(V.add(v-2),V.add(v-1));let k=document.createElement("div");if(k.className="spread",this.isInPresentationMode){let O=document.createElement("div");O.className="dummyPage",k.append(O)}for(let O of V){let j=this._pages[O];j&&(k.append(j.div),R.pages.push(j))}X.append(k)}R.scrollDown=v>=R.previousPageNumber,R.previousPageNumber=v}_scrollUpdate(){this.pagesCount!==0&&this.update()}#a(v,R=null){let{div:X,id:V}=v;if(this._scrollMode===l.ScrollMode.PAGE&&(this._setCurrentPageNumber(V),this.#l(),this.update()),!R&&!this.isInPresentationMode){let L=X.offsetLeft+X.clientLeft,k=L+X.clientWidth,{scrollLeft:O,clientWidth:j}=this.container;(this._scrollMode===l.ScrollMode.HORIZONTAL||L<O||k>O+j)&&(R={left:0,top:0})}(0,l.scrollIntoView)(X,R)}#p(v){return v===this._currentScale||Math.abs(v-this._currentScale)<1e-15}_setScaleUpdatePages(v,R,X=!1,V=!1){if(this._currentScaleValue=R.toString(),this.#p(v)){V&&this.eventBus.dispatch("scalechanging",{source:this,scale:v,presetValue:R});return}l.docStyle.setProperty("--scale-factor",v*r.PixelsPerInch.PDF_TO_CSS_UNITS);let L={scale:v};for(let k of this._pages)k.update(L);if(this._currentScale=v,!X){let k=this._currentPageNumber,O;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(k=this._location.pageNumber,O=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:k,destArray:O,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:v,presetValue:V?R:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL?2:1}_setScale(v,R=!1){let X=parseFloat(v);if(X>0)this._setScaleUpdatePages(X,v,R,!1);else{let V=this._pages[this._currentPageNumber-1];if(!V)return;let L=l.SCROLLBAR_PADDING,k=l.VERTICAL_PADDING;this.isInPresentationMode?L=k=4:this.removePageBorders?L=k=0:this._scrollMode===l.ScrollMode.HORIZONTAL&&([L,k]=[k,L]);let O=(this.container.clientWidth-L)/V.width*V.scale/this._pageWidthScaleFactor,j=(this.container.clientHeight-k)/V.height*V.scale;switch(v){case"page-actual":X=1;break;case"page-width":X=O;break;case"page-height":X=j;break;case"page-fit":X=Math.min(O,j);break;case"auto":let z=(0,l.isPortraitOrientation)(V)?O:Math.min(j,O);X=Math.min(l.MAX_AUTO_SCALE,z);break;default:console.error(`_setScale: "${v}" is an unknown zoom value.`);return}this._setScaleUpdatePages(X,v,R,!0)}}#f(){let v=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#a(v)}pageLabelToPageNumber(v){if(!this._pageLabels)return null;let R=this._pageLabels.indexOf(v);return R<0?null:R+1}scrollPageIntoView({pageNumber:v,destArray:R=null,allowNegativeOffset:X=!1,ignoreDestinationZoom:V=!1}){if(!this.pdfDocument)return;let L=Number.isInteger(v)&&this._pages[v-1];if(!L){console.error(`scrollPageIntoView: "${v}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!R){this._setCurrentPageNumber(v,!0);return}let k=0,O=0,j=0,z=0,M,E,w=L.rotation%180!==0,N=(w?L.height:L.width)/L.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,U=(w?L.width:L.height)/L.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,g=0;switch(R[1].name){case"XYZ":k=R[2],O=R[3],g=R[4],k=k!==null?k:0,O=O!==null?O:U;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":O=R[2],g="page-width",O===null&&this._location?(k=this._location.left,O=this._location.top):(typeof O!="number"||O<0)&&(O=U);break;case"FitV":case"FitBV":k=R[2],j=N,z=U,g="page-height";break;case"FitR":k=R[2],O=R[3],j=R[4]-k,z=R[5]-O;let W=this.removePageBorders?0:l.SCROLLBAR_PADDING,H=this.removePageBorders?0:l.VERTICAL_PADDING;M=(this.container.clientWidth-W)/j/r.PixelsPerInch.PDF_TO_CSS_UNITS,E=(this.container.clientHeight-H)/z/r.PixelsPerInch.PDF_TO_CSS_UNITS,g=Math.min(Math.abs(M),Math.abs(E));break;default:console.error(`scrollPageIntoView: "${R[1].name}" is not a valid destination type.`);return}if(V||(g&&g!==this._currentScale?this.currentScaleValue=g:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE)),g==="page-fit"&&!R[4]){this.#a(L);return}let P=[L.viewport.convertToViewportPoint(k,O),L.viewport.convertToViewportPoint(k+j,O+z)],D=Math.min(P[0][0],P[1][0]),B=Math.min(P[0][1],P[1][1]);X||(D=Math.max(D,0),B=Math.max(B,0)),this.#a(L,{left:D,top:B})}_updateLocation(v){let R=this._currentScale,X=this._currentScaleValue,V=parseFloat(X)===R?Math.round(R*1e4)/100:X,L=v.id,k=this._pages[L-1],O=this.container,j=k.getPagePoint(O.scrollLeft-v.x,O.scrollTop-v.y),z=Math.round(j[0]),M=Math.round(j[1]),E=`#page=${L}`;this.isInPresentationMode||(E+=`&zoom=${V},${z},${M}`),this._location={pageNumber:L,scale:V,top:M,left:z,rotation:this._pagesRotation,pdfOpenParams:E}}update(){let v=this._getVisiblePages(),R=v.views,X=R.length;if(X===0)return;let V=Math.max(T,2*X+1);this.#t.resize(V,v.ids),this.renderingQueue.renderHighestPriority(v);let L=this._spreadMode===l.SpreadMode.NONE&&(this._scrollMode===l.ScrollMode.PAGE||this._scrollMode===l.ScrollMode.VERTICAL),k=this._currentPageNumber,O=!1;for(let j of R){if(j.percent<100)break;if(j.id===k&&L){O=!0;break}}this._setCurrentPageNumber(O?k:R[0].id),this._updateLocation(v.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(v){return this.container.contains(v)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===l.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let v=this._scrollMode===l.ScrollMode.PAGE?this.#o.pages:this._pages,R=this._scrollMode===l.ScrollMode.HORIZONTAL,X=R&&this._isContainerRtl;return(0,l.getVisibleElements)({scrollEl:this.container,views:v,sortByVisibility:!0,horizontal:R,rtl:X})}isPageVisible(v){return this.pdfDocument?Number.isInteger(v)&&v>0&&v<=this.pagesCount?this._getVisiblePages().ids.has(v):(console.error(`isPageVisible: "${v}" is not a valid page.`),!1):!1}isPageCached(v){if(!this.pdfDocument)return!1;if(!(Number.isInteger(v)&&v>0&&v<=this.pagesCount))return console.error(`isPageCached: "${v}" is not a valid page.`),!1;let R=this._pages[v-1];return this.#t.has(R)}cleanup(){for(let v of this._pages)v.renderingState!==l.RenderingStates.FINISHED&&v.reset()}_cancelRendering(){for(let v of this._pages)v.cancelRendering()}#b(v){return dt(this,null,function*(){if(v.pdfPage)return v.pdfPage;try{let R=yield this.pdfDocument.getPage(v.id);return v.pdfPage||v.setPdfPage(R),this.linkService._cachedPageNumber?.(R.ref)||this.linkService.cachePageRef(v.id,R.ref),R}catch(R){return console.error("Unable to get page for page view",R),null}})}#m(v){if(v.first?.id===1)return!0;if(v.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case l.ScrollMode.PAGE:return this.#o.scrollDown;case l.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#_(v){for(let R of v)this._pages[R-1]?.toggleLoadingIconSpinner(!0);for(let R of this.#t)v.has(R.id)||R.toggleLoadingIconSpinner(!1)}forceRendering(v){let R=v||this._getVisiblePages(),X=this.#m(R),V=this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL,L=this.renderingQueue.getHighestPriority(R,this._pages,X,V);return this.#_(R.ids),L?(this.#b(L).then(()=>{this.renderingQueue.renderView(L)}),!0):!1}createTextLayerBuilder({textLayerDiv:v,pageIndex:R,viewport:X,enhanceTextSelection:V=!1,eventBus:L,highlighter:k,accessibilityManager:O=null}){return new x.TextLayerBuilder({textLayerDiv:v,eventBus:L,pageIndex:R,viewport:X,enhanceTextSelection:this.isInPresentationMode?!1:V,highlighter:k,accessibilityManager:O})}createTextHighlighter({pageIndex:v,eventBus:R}){return new m.TextHighlighter({eventBus:R,pageIndex:v,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:v,pdfPage:R,annotationStorage:X=this.pdfDocument?.annotationStorage,imageResourcesPath:V="",renderForms:L=!0,l10n:k=c.NullL10n,enableScripting:O=this.enableScripting,hasJSActionsPromise:j=this.pdfDocument?.hasJSActions(),mouseState:z=this._scriptingManager?.mouseState,fieldObjectsPromise:M=this.pdfDocument?.getFieldObjects(),annotationCanvasMap:E=null,accessibilityManager:w=null}){return new o.AnnotationLayerBuilder({pageDiv:v,pdfPage:R,annotationStorage:X,imageResourcesPath:V,renderForms:L,linkService:this.linkService,downloadManager:this.downloadManager,l10n:k,enableScripting:O,hasJSActionsPromise:j,mouseState:z,fieldObjectsPromise:M,annotationCanvasMap:E,accessibilityManager:w})}createAnnotationEditorLayerBuilder({uiManager:v=this.#i,pageDiv:R,pdfPage:X,accessibilityManager:V=null,l10n:L,annotationStorage:k=this.pdfDocument?.annotationStorage}){return new d.AnnotationEditorLayerBuilder({uiManager:v,pageDiv:R,pdfPage:X,annotationStorage:k,accessibilityManager:V,l10n:L})}createXfaLayerBuilder({pageDiv:v,pdfPage:R,annotationStorage:X=this.pdfDocument?.annotationStorage}){return new y.XfaLayerBuilder({pageDiv:v,pdfPage:R,annotationStorage:X,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:v}){return new h.StructTreeLayerBuilder({pdfPage:v})}get hasEqualPageSizes(){let v=this._pages[0];for(let R=1,X=this._pages.length;R<X;++R){let V=this._pages[R];if(V.width!==v.width||V.height!==v.height)return!1}return!0}getPagesOverview(){return this._pages.map(v=>{let R=v.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,l.isPortraitOrientation)(R)?{width:R.width,height:R.height,rotation:R.rotation}:{width:R.height,height:R.width,rotation:(R.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(v){if(!(v instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${v}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=v;let R={optionalContentConfigPromise:v};for(let X of this._pages)X.update(R);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:v})}get scrollMode(){return this._scrollMode}set scrollMode(v){if(this._scrollMode!==v){if(!(0,l.isValidScrollMode)(v))throw new Error(`Invalid scroll mode: ${v}`);this.pagesCount>_.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=v,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:v}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(v=null){let R=this._scrollMode,X=this.viewer;X.classList.toggle("scrollHorizontal",R===l.ScrollMode.HORIZONTAL),X.classList.toggle("scrollWrapped",R===l.ScrollMode.WRAPPED),!(!this.pdfDocument||!v)&&(R===l.ScrollMode.PAGE?this.#l():this._previousScrollMode===l.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(v,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(v){if(this._spreadMode!==v){if(!(0,l.isValidSpreadMode)(v))throw new Error(`Invalid spread mode: ${v}`);this._spreadMode=v,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:v}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(v=null){if(!this.pdfDocument)return;let R=this.viewer,X=this._pages;if(this._scrollMode===l.ScrollMode.PAGE)this.#l();else if(R.textContent="",this._spreadMode===l.SpreadMode.NONE)for(let V of this._pages)R.append(V.div);else{let V=this._spreadMode-1,L=null;for(let k=0,O=X.length;k<O;++k)L===null?(L=document.createElement("div"),L.className="spread",R.append(L)):k%2===V&&(L=L.cloneNode(!1),R.append(L)),L.append(X[k].div)}v&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(v,!0),this.update())}_getPageAdvance(v,R=!1){switch(this._scrollMode){case l.ScrollMode.WRAPPED:{let{views:X}=this._getVisiblePages(),V=new Map;for(let{id:L,y:k,percent:O,widthPercent:j}of X){if(O===0||j<100)continue;let z=V.get(k);z||V.set(k,z||=[]),z.push(L)}for(let L of V.values()){let k=L.indexOf(v);if(k===-1)continue;let O=L.length;if(O===1)break;if(R)for(let j=k-1,z=0;j>=z;j--){let M=L[j],E=L[j+1]-1;if(M<E)return v-E}else for(let j=k+1,z=O;j<z;j++){let M=L[j],E=L[j-1]+1;if(M>E)return E-v}if(R){let j=L[0];if(j<v)return v-j+1}else{let j=L[O-1];if(j>v)return j-v+1}break}break}case l.ScrollMode.HORIZONTAL:break;case l.ScrollMode.PAGE:case l.ScrollMode.VERTICAL:{if(this._spreadMode===l.SpreadMode.NONE)break;let X=this._spreadMode-1;if(R&&v%2!==X)break;if(!R&&v%2===X)break;let{views:V}=this._getVisiblePages(),L=R?v-1:v+1;for(let{id:k,percent:O,widthPercent:j}of V)if(k===L){if(O>0&&j===100)return 2;break}break}}return 1}nextPage(){let v=this._currentPageNumber,R=this.pagesCount;if(v>=R)return!1;let X=this._getPageAdvance(v,!1)||1;return this.currentPageNumber=Math.min(v+X,R),!0}previousPage(){let v=this._currentPageNumber;if(v<=1)return!1;let R=this._getPageAdvance(v,!0)||1;return this.currentPageNumber=Math.max(v-R,1),!0}increaseScale(v=1){let R=this._currentScale;do R=(R*l.DEFAULT_SCALE_DELTA).toFixed(2),R=Math.ceil(R*10)/10,R=Math.min(l.MAX_SCALE,R);while(--v>0&&R<l.MAX_SCALE);this.currentScaleValue=R}decreaseScale(v=1){let R=this._currentScale;do R=(R/l.DEFAULT_SCALE_DELTA).toFixed(2),R=Math.floor(R*10)/10,R=Math.max(l.MIN_SCALE,R);while(--v>0&&R>l.MIN_SCALE);this.currentScaleValue=R}updateContainerHeightCss(){let v=this.container.clientHeight;v!==this.#c&&(this.#c=v,l.docStyle.setProperty("--viewer-container-height",`${v}px`))}get annotationEditorMode(){return this.#i?this.#e:r.AnnotationEditorType.DISABLE}set annotationEditorMode(v){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");if(this.#e!==v){if(!b(v))throw new Error(`Invalid AnnotationEditor mode: ${v}`);this.pdfDocument&&(this.#e=v,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:v}),this.#i.updateMode(v))}}set annotationEditorParams({type:v,value:R}){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");this.#i.updateParams(v,R)}refresh(){if(!this.pdfDocument)return;let v={};for(let R of this._pages)R.update(v);this.update()}}s.BaseViewer=F},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var r=a(3),l=a(7),d=a(14),o=a(4),c=a(15);let f=d.compatibilityParams.maxCanvasPixels||16777216;class p{#t=r.AnnotationMode.ENABLE_FORMS;#e={initialOptionalContent:!0,regularAnnotations:!0};constructor(h){let m=h.container,x=h.defaultViewport;this.id=h.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=h.scale||l.DEFAULT_SCALE,this.viewport=x,this.pdfPageRotate=x.rotation,this._optionalContentConfigPromise=h.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=h.textLayerMode??l.TextLayerMode.ENABLE,this.#t=h.annotationMode??r.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=h.imageResourcesPath||"",this.useOnlyCssZoom=h.useOnlyCssZoom||!1,this.maxCanvasPixels=h.maxCanvasPixels||f,this.pageColors=h.pageColors||null,this.eventBus=h.eventBus,this.renderingQueue=h.renderingQueue,this.textLayerFactory=h.textLayerFactory,this.annotationLayerFactory=h.annotationLayerFactory,this.annotationEditorLayerFactory=h.annotationEditorLayerFactory,this.xfaLayerFactory=h.xfaLayerFactory,this.textHighlighter=h.textHighlighterFactory?.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=h.structTreeLayerFactory,this.renderer=h.renderer||l.RendererType.CANVAS,this.l10n=h.l10n||o.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=l.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;let y=document.createElement("div");if(y.className="page",y.style.width=Math.floor(this.viewport.width)+"px",y.style.height=Math.floor(this.viewport.height)+"px",y.setAttribute("data-page-number",this.id),y.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(T=>{y.setAttribute("aria-label",T)}),this.div=y,m?.append(y),this._isStandalone){let{optionalContentConfigPromise:T}=h;T&&T.then(S=>{T===this._optionalContentConfigPromise&&(this.#e.initialOptionalContent=S.hasInitialVisibility)})}}setPdfPage(h){this.pdfPage=h,this.pdfPageRotate=h.rotate;let m=(this.rotation+this.pdfPageRotate)%360;this.viewport=h.getViewport({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:m}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){return dt(this,null,function*(){let h=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(m){console.error(`_renderAnnotationLayer: "${m}".`),h=m}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:h})}})}_renderAnnotationEditorLayer(){return dt(this,null,function*(){let h=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(m){console.error(`_renderAnnotationEditorLayer: "${m}".`),h=m}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:h})}})}_renderXfaLayer(){return dt(this,null,function*(){let h=null;try{let m=yield this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(m.textDivs)}catch(m){console.error(`_renderXfaLayer: "${m}".`),h=m}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:h})}})}_buildXfaTextContentItems(h){return dt(this,null,function*(){let m=yield this.pdfPage.getTextContent(),x=[];for(let y of m.items)x.push(y.str);this.textHighlighter.setTextMapping(h,x),this.textHighlighter.enable()})}_resetZoomLayer(h=!1){if(!this.zoomLayer)return;let m=this.zoomLayer.firstChild;this.paintedViewportMap.delete(m),m.width=0,m.height=0,h&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:h=!1,keepAnnotationLayer:m=!1,keepAnnotationEditorLayer:x=!1,keepXfaLayer:y=!1}={}){this.cancelRendering({keepAnnotationLayer:m,keepAnnotationEditorLayer:x,keepXfaLayer:y}),this.renderingState=l.RenderingStates.INITIAL;let T=this.div;T.style.width=Math.floor(this.viewport.width)+"px",T.style.height=Math.floor(this.viewport.height)+"px";let S=T.childNodes,_=h&&this.zoomLayer||null,b=m&&this.annotationLayer?.div||null,C=x&&this.annotationEditorLayer?.div||null,F=y&&this.xfaLayer?.div||null;for(let I=S.length-1;I>=0;I--){let v=S[I];switch(v){case _:case b:case C:case F:continue}v.remove()}T.removeAttribute("data-loaded"),b&&this.annotationLayer.hide(),C?this.annotationEditorLayer.hide():this.annotationEditorLayer?.destroy(),F&&this.xfaLayer.hide(),_||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(I=>{this.loadingIconDiv?.setAttribute("aria-label",I)}),T.append(this.loadingIconDiv)}update({scale:h=0,rotation:m=null,optionalContentConfigPromise:x=null}){this.scale=h||this.scale,typeof m=="number"&&(this.rotation=m),x instanceof Promise&&(this._optionalContentConfigPromise=x,x.then(S=>{x===this._optionalContentConfigPromise&&(this.#e.initialOptionalContent=S.hasInitialVisibility)}));let y=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:y}),this._isStandalone&&l.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let T=!1;if(this.canvas&&this.maxCanvasPixels>0){let S=this.outputScale;(Math.floor(this.viewport.width)*S.sx|0)*(Math.floor(this.viewport.height)*S.sy|0)>this.maxCanvasPixels&&(T=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&T){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:h=!1,keepAnnotationEditorLayer:m=!1,keepXfaLayer:x=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!h||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!m||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!x||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:h,redrawAnnotationLayer:m=!1,redrawAnnotationEditorLayer:x=!1,redrawXfaLayer:y=!1}){let T=this.viewport.width,S=this.viewport.height,_=this.div;h.style.width=h.parentNode.style.width=_.style.width=Math.floor(T)+"px",h.style.height=h.parentNode.style.height=_.style.height=Math.floor(S)+"px";let b=this.viewport.rotation-this.paintedViewportMap.get(h).rotation,C=Math.abs(b),F=1,I=1;if((C===90||C===270)&&(F=S/T,I=T/S),h.style.transform=`rotate(${b}deg) scale(${F}, ${I})`,this.textLayer){let v=this.textLayer.viewport,R=this.viewport.rotation-v.rotation,X=Math.abs(R),V=T/v.width;(X===90||X===270)&&(V=T/v.height);let L=this.textLayer.textLayerDiv,k,O;switch(X){case 0:k=O=0;break;case 90:k=0,O="-"+L.style.height;break;case 180:k="-"+L.style.width,O="-"+L.style.height;break;case 270:k="-"+L.style.width,O=0;break;default:console.error("Bad rotation value.");break}L.style.transform=`rotate(${X}deg) scale(${V}) translate(${k}, ${O})`,L.style.transformOrigin="0% 0%"}m&&this.annotationLayer&&this._renderAnnotationLayer(),x&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),y&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(h,m){return this.viewport.convertToPdfPoint(h,m)}toggleLoadingIconSpinner(h=!1){this.loadingIconDiv?.classList.toggle("notVisible",!h)}draw(){this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:h,pdfPage:m}=this;if(!m)return this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=l.RenderingStates.RUNNING;let x=document.createElement("div");x.style.width=h.style.width,x.style.height=h.style.height,x.classList.add("canvasWrapper");let y=this.annotationLayer?.div||this.annotationEditorLayer?.div;y?y.before(x):h.append(x);let T=null;if(this.textLayerMode!==l.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||=new c.TextAccessibilityManager;let F=document.createElement("div");F.className="textLayer",F.style.width=x.style.width,F.style.height=x.style.height,y?y.before(F):h.append(F),T=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:F,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===l.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=T,this.#t!==r.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:h,pdfPage:m,imageResourcesPath:this.imageResourcesPath,renderForms:this.#t===r.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})),this.xfaLayer?.div&&h.append(this.xfaLayer.div);let S=null;this.renderingQueue&&(S=F=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=l.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=l.RenderingStates.RUNNING,F()};return}F()});let _=(F=null)=>dt(this,null,function*(){if(b===this.paintTask&&(this.paintTask=null),F instanceof r.RenderingCancelledException){this._renderError=null;return}if(this._renderError=F,this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),this._resetZoomLayer(!0),this.#e.regularAnnotations=!b.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this._renderError}),F)throw F}),b=this.renderer===l.RendererType.SVG?this.paintOnSvg(x):this.paintOnCanvas(x);b.onRenderContinue=S,this.paintTask=b;let C=b.promise.then(()=>_(null).then(()=>{if(T){let F=m.streamTextContent({includeMarkedContent:!0});T.setTextContentStream(F),T.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:h,pdfPage:m,l10n:this.l10n,accessibilityManager:this._accessibilityManager}),this._renderAnnotationEditorLayer())})}),function(F){return _(F)});return this.xfaLayerFactory&&(this.xfaLayer||=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:h,pdfPage:m}),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=F=>{F.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(I=>{if(!I||!this.canvas)return;let v=this.structTreeLayer.render(I);v.classList.add("structTree"),this.canvas.append(v)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:m})),h.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),C}paintOnCanvas(h){let m=(0,r.createPromiseCapability)(),x={promise:m.promise,onRenderContinue(V){V()},cancel(){X.cancel()},get separateAnnots(){return X.separateAnnots}},y=this.viewport,T=document.createElement("canvas");T.setAttribute("role","presentation"),T.hidden=!0;let S=!0,_=function(){S&&(T.hidden=!1,S=!1)};h.append(T),this.canvas=T;let b=T.getContext("2d",{alpha:!1}),C=this.outputScale=new l.OutputScale;if(this.useOnlyCssZoom){let V=y.clone({scale:r.PixelsPerInch.PDF_TO_CSS_UNITS});C.sx*=V.width/y.width,C.sy*=V.height/y.height}if(this.maxCanvasPixels>0){let V=y.width*y.height,L=Math.sqrt(this.maxCanvasPixels/V);C.sx>L||C.sy>L?(C.sx=L,C.sy=L,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}let F=(0,l.approximateFraction)(C.sx),I=(0,l.approximateFraction)(C.sy);T.width=(0,l.roundToDivide)(y.width*C.sx,F[0]),T.height=(0,l.roundToDivide)(y.height*C.sy,I[0]),T.style.width=(0,l.roundToDivide)(y.width,F[1])+"px",T.style.height=(0,l.roundToDivide)(y.height,I[1])+"px",this.paintedViewportMap.set(T,y);let v=C.scaled?[C.sx,0,0,C.sy,0,0]:null,R={canvasContext:b,transform:v,viewport:this.viewport,annotationMode:this.#t,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},X=this.pdfPage.render(R);return X.onContinue=function(V){_(),x.onRenderContinue?x.onRenderContinue(V):V()},X.promise.then(function(){_(),m.resolve()},function(V){_(),m.reject(V)}),x}paintOnSvg(h){let m=!1,x=()=>{if(m)throw new r.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},y=this.pdfPage,T=this.viewport.clone({scale:r.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:y.getOperatorList({annotationMode:this.#t}).then(_=>(x(),new r.SVGGraphics(y.commonObjs,y.objs).getSVG(_,T).then(C=>{x(),this.svg=C,this.paintedViewportMap.set(C,T),C.style.width=h.style.width,C.style.height=h.style.height,this.renderingState=l.RenderingStates.FINISHED,h.append(C)}))),onRenderContinue(_){_()},cancel(){m=!0},get separateAnnots(){return!1}}}setPageLabel(h){this.pageLabel=typeof h=="string"?h:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{initialOptionalContent:h,regularAnnotations:m}=this.#e;return h&&m?this.canvas:null}}s.PDFPageView=p},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;let a=Object.create(null);s.compatibilityParams=a;{let c=navigator.userAgent||"",f=navigator.platform||"",p=navigator.maxTouchPoints||1,u=/Android/.test(c),h=/\b(iPad|iPhone|iPod)(?=;)/.test(c)||f==="MacIntel"&&p>1;(function(){(h||u)&&(a.maxCanvasPixels=5242880)})()}let r={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=r;let l={annotationEditorMode:{value:-1,kind:r.VIEWER+r.PREFERENCE},annotationMode:{value:2,kind:r.VIEWER+r.PREFERENCE},cursorToolOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},defaultZoomValue:{value:"",kind:r.VIEWER+r.PREFERENCE},disableHistory:{value:!1,kind:r.VIEWER},disablePageLabels:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePermissions:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:r.VIEWER+r.PREFERENCE},enableScripting:{value:!0,kind:r.VIEWER+r.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:r.VIEWER},externalLinkTarget:{value:0,kind:r.VIEWER+r.PREFERENCE},historyUpdateUrl:{value:!1,kind:r.VIEWER+r.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},imageResourcesPath:{value:"./images/",kind:r.VIEWER},maxCanvasPixels:{value:16777216,kind:r.VIEWER},forcePageColors:{value:!1,kind:r.VIEWER+r.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:r.VIEWER+r.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:r.VIEWER+r.PREFERENCE},pdfBugEnabled:{value:!1,kind:r.VIEWER+r.PREFERENCE},printResolution:{value:150,kind:r.VIEWER},sidebarViewOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},scrollModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},spreadModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},textLayerMode:{value:1,kind:r.VIEWER+r.PREFERENCE},useOnlyCssZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},viewerCssTheme:{value:0,kind:r.VIEWER+r.PREFERENCE},viewOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},cMapPacked:{value:!0,kind:r.API},cMapUrl:{value:"../web/cmaps/",kind:r.API},disableAutoFetch:{value:!1,kind:r.API+r.PREFERENCE},disableFontFace:{value:!1,kind:r.API+r.PREFERENCE},disableRange:{value:!1,kind:r.API+r.PREFERENCE},disableStream:{value:!1,kind:r.API+r.PREFERENCE},docBaseUrl:{value:"",kind:r.API},enableXfa:{value:!0,kind:r.API+r.PREFERENCE},fontExtraProperties:{value:!1,kind:r.API},isEvalSupported:{value:!0,kind:r.API},maxImageSize:{value:-1,kind:r.API},pdfBug:{value:!1,kind:r.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:r.API},verbosity:{value:1,kind:r.API},workerPort:{value:null,kind:r.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:r.WORKER}};l.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:r.VIEWER},l.disablePreferences={value:!1,kind:r.VIEWER},l.locale={value:navigator.language||"en-US",kind:r.VIEWER},l.renderer={value:"canvas",kind:r.VIEWER+r.PREFERENCE},l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:r.VIEWER};let d=Object.create(null);class o{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(f){let p=d[f];if(p!==void 0)return p;let u=l[f];if(u!==void 0)return a[f]??u.value}static getAll(f=null){let p=Object.create(null);for(let u in l){let h=l[u];if(f){if(!(f&h.kind))continue;if(f===r.PREFERENCE){let x=h.value,y=typeof x;if(y==="boolean"||y==="string"||y==="number"&&Number.isInteger(x)){p[u]=x;continue}throw new Error(`Invalid type for preference: ${u}`)}}let m=d[u];p[u]=m!==void 0?m:a[u]??h.value}return p}static set(f,p){d[f]=p}static setAll(f){for(let p in f)d[p]=f[p]}static remove(f){delete d[f]}static _hasUserOptions(){return Object.keys(d).length>0}}s.AppOptions=o},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextAccessibilityManager=void 0;var r=a(7);class l{#t=!1;#e=null;#i=new Map;#n=new Map;setTextMapping(o){this.#e=o}static#r(o,c){let f=o.getBoundingClientRect(),p=c.getBoundingClientRect();if(f.width===0&&f.height===0)return 1;if(p.width===0&&p.height===0)return-1;let u=f.y,h=f.y+f.height,m=f.y+f.height/2,x=p.y,y=p.y+p.height,T=p.y+p.height/2;if(m<=x&&T>=h)return-1;if(T<=u&&m>=y)return 1;let S=f.x+f.width/2,_=p.x+p.width/2;return S-_}enable(){if(this.#t)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#e)throw new Error("Text divs and strings have not been set.");if(this.#t=!0,this.#e=this.#e.slice(),this.#e.sort(l.#r),this.#i.size>0){let o=this.#e;for(let[c,f]of this.#i){if(!document.getElementById(c)){this.#i.delete(c);continue}this.#c(c,o[f])}}for(let[o,c]of this.#n)this.addPointerInTextLayer(o,c);this.#n.clear()}disable(){this.#t&&(this.#n.clear(),this.#e=null,this.#t=!1)}removePointerInTextLayer(o){if(!this.#t){this.#n.delete(o);return}let c=this.#e;if(!c||c.length===0)return;let{id:f}=o,p=this.#i.get(f);if(p===void 0)return;let u=c[p];this.#i.delete(f);let h=u.getAttribute("aria-owns");h?.includes(f)&&(h=h.split(" ").filter(m=>m!==f).join(" "),h?u.setAttribute("aria-owns",h):(u.removeAttribute("aria-owns"),u.setAttribute("role","presentation")))}#c(o,c){let f=c.getAttribute("aria-owns");f?.includes(o)||c.setAttribute("aria-owns",f?`${f} ${o}`:o),c.removeAttribute("role")}addPointerInTextLayer(o,c){let{id:f}=o;if(!f)return;if(!this.#t){this.#n.set(o,c);return}c&&this.removePointerInTextLayer(o);let p=this.#e;if(!p||p.length===0)return;let u=(0,r.binarySearchFirstItem)(p,m=>l.#r(o,m)<0),h=Math.max(0,u-1);this.#c(f,p[h]),this.#i.set(f,h)}moveElementInDOM(o,c,f,p){if(this.addPointerInTextLayer(f,p),!o.hasChildNodes()){o.append(c);return}let u=Array.from(o.childNodes).filter(x=>x!==c);if(u.length===0)return;let h=f||c,m=(0,r.binarySearchFirstItem)(u,x=>l.#r(h,x)<0);m===0?u[0].before(c):u[m-1].after(c)}}s.TextAccessibilityManager=l},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var r=a(3),l=a(7);let d=3e4;class o{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(f){this.pdfViewer=f}setThumbnailViewer(f){this.pdfThumbnailViewer=f}isHighestPriority(f){return this.highestPriorityPage===f.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(f){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(f)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),d)))}getHighestPriority(f,p,u,h=!1){let m=f.views,x=m.length;if(x===0)return null;for(let b=0;b<x;b++){let C=m[b].view;if(!this.isViewFinished(C))return C}let y=f.first.id,T=f.last.id;if(T-y+1>x){let b=f.ids;for(let C=1,F=T-y;C<F;C++){let I=u?y+C:T-C;if(b.has(I))continue;let v=p[I-1];if(!this.isViewFinished(v))return v}}let S=u?T:y-2,_=p[S];return _&&!this.isViewFinished(_)||h&&(S+=u?1:-1,_=p[S],_&&!this.isViewFinished(_))?_:null}isViewFinished(f){return f.renderingState===l.RenderingStates.FINISHED}renderView(f){switch(f.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=f.renderingId,f.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=f.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=f.renderingId,f.draw().finally(()=>{this.renderHighestPriority()}).catch(p=>{p instanceof r.RenderingCancelledException||console.error(`renderView: "${p}"`)});break}return!0}}s.PDFRenderingQueue=o},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0;class a{constructor({findController:l,eventBus:d,pageIndex:o}){this.findController=l,this.matches=[],this.eventBus=d,this.pageIdx=o,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(l,d){this.textDivs=l,this.textContentItemsStr=d}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=l=>{(l.pageIndex===this.pageIdx||l.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(l,d){if(!l)return[];let{textContentItemsStr:o}=this,c=0,f=0,p=o.length-1,u=[];for(let h=0,m=l.length;h<m;h++){let x=l[h];for(;c!==p&&x>=f+o[c].length;)f+=o[c].length,c++;c===o.length&&console.error("Could not find a matching mapping");let y={begin:{divIdx:c,offset:x-f}};for(x+=d[h];c!==p&&x>f+o[c].length;)f+=o[c].length,c++;y.end={divIdx:c,offset:x-f},u.push(y)}return u}_renderMatches(l){if(l.length===0)return;let{findController:d,pageIdx:o}=this,{textContentItemsStr:c,textDivs:f}=this,p=o===d.selected.pageIdx,u=d.selected.matchIdx,h=d.state.highlightAll,m=null,x={divIdx:-1,offset:void 0};function y(b,C){let F=b.divIdx;return f[F].textContent="",T(F,0,b.offset,C)}function T(b,C,F,I){let v=f[b];if(v.nodeType===Node.TEXT_NODE){let V=document.createElement("span");v.before(V),V.append(v),f[b]=V,v=V}let R=c[b].substring(C,F),X=document.createTextNode(R);if(I){let V=document.createElement("span");return V.className=`${I} appended`,V.append(X),v.append(V),I.includes("selected")?V.offsetLeft:0}return v.append(X),0}let S=u,_=S+1;if(h)S=0,_=l.length;else if(!p)return;for(let b=S;b<_;b++){let C=l[b],F=C.begin,I=C.end,v=p&&b===u,R=v?" selected":"",X=0;if(!m||F.divIdx!==m.divIdx?(m!==null&&T(m.divIdx,m.offset,x.offset),y(F)):T(m.divIdx,m.offset,F.offset),F.divIdx===I.divIdx)X=T(F.divIdx,F.offset,I.offset,"highlight"+R);else{X=T(F.divIdx,F.offset,x.offset,"highlight begin"+R);for(let V=F.divIdx+1,L=I.divIdx;V<L;V++)f[V].className="highlight middle"+R;y(I,"highlight end"+R)}m=I,v&&d.scrollMatchIntoView({element:f[F.divIdx],selectedLeft:X,pageIndex:o,matchIndex:u})}m&&T(m.divIdx,m.offset,x.offset)}_updateMatches(){if(!this.enabled)return;let{findController:l,matches:d,pageIdx:o}=this,{textContentItemsStr:c,textDivs:f}=this,p=-1;for(let m=0,x=d.length;m<x;m++){let y=d[m],T=Math.max(p,y.begin.divIdx);for(let S=T,_=y.end.divIdx;S<=_;S++){let b=f[S];b.textContent=c[S],b.className=""}p=y.end.divIdx+1}if(!l?.highlightMatches)return;let u=l.pageMatches[o]||null,h=l.pageMatchesLength[o]||null;this.matches=this._convertMatches(u,h),this._renderMatches(this.matches)}}s.TextHighlighter=a},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var r=a(3);function l(o,c){let f=document.createElement("a");if(!f.click)throw new Error('DownloadManager: "a.click()" is not supported.');f.href=o,f.target="_parent","download"in f&&(f.download=c),(document.body||document.documentElement).append(f),f.click(),f.remove()}class d{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(c,f){if(!(0,r.createValidAbsoluteUrl)(c,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${c}`);return}l(c+"#pdfjs.action=download",f)}downloadData(c,f,p){let u=URL.createObjectURL(new Blob([c],{type:p}));l(u,f)}openOrDownloadData(c,f,p){let u=(0,r.isPdfFile)(p),h=u?"application/pdf":"";if(u){let m=this._openBlobUrls.get(c);m||(m=URL.createObjectURL(new Blob([f],{type:h})),this._openBlobUrls.set(c,m));let x;x="?file="+encodeURIComponent(m+"#"+p);try{return window.open(x),!0}catch(y){console.error(`openOrDownloadData: ${y}`),URL.revokeObjectURL(m),this._openBlobUrls.delete(c)}}return this.downloadData(f,p,h),!1}download(c,f,p){let u=URL.createObjectURL(c);l(u,p)}}s.DownloadManager=d},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=r;let a={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=a;function r({target:o,name:c,delay:f=0}){return new Promise(function(p,u){if(typeof o!="object"||!(c&&typeof c=="string")||!(Number.isInteger(f)&&f>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function h(T){o instanceof l?o._off(c,m):o.removeEventListener(c,m),y&&clearTimeout(y),p(T)}let m=h.bind(null,a.EVENT);o instanceof l?o._on(c,m):o.addEventListener(c,m);let x=h.bind(null,a.TIMEOUT),y=setTimeout(x,f)})}class l{constructor(){this._listeners=Object.create(null)}on(c,f,p=null){this._on(c,f,{external:!0,once:p?.once})}off(c,f,p=null){this._off(c,f,{external:!0,once:p?.once})}dispatch(c,f){let p=this._listeners[c];if(!p||p.length===0)return;let u;for(let{listener:h,external:m,once:x}of p.slice(0)){if(x&&this._off(c,h),m){(u||=[]).push(h);continue}h(f)}if(u){for(let h of u)h(f);u=null}}_on(c,f,p=null){(this._listeners[c]||=[]).push({listener:f,external:p?.external===!0,once:p?.once===!0})}_off(c,f,p=null){let u=this._listeners[c];if(u){for(let h=0,m=u.length;h<m;h++)if(u[h].listener===f){u.splice(h,1);return}}}}s.EventBus=l;class d extends l{dispatch(c,f){throw new Error("Not implemented: AutomationEventBus.dispatch")}}s.AutomationEventBus=d},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,a(21);var r=a(4);let l=document.webL10n;class d{constructor(c){this._lang=c,this._ready=new Promise((f,p)=>{l.setLanguage((0,r.fixupLangCode)(c),()=>{f(l)})})}getLanguage(){return dt(this,null,function*(){return(yield this._ready).getLanguage()})}getDirection(){return dt(this,null,function*(){return(yield this._ready).getDirection()})}get(u){return dt(this,arguments,function*(c,f=null,p=(0,r.getL10nFallback)(c,f)){return(yield this._ready).get(c,f,p)})}translate(c){return dt(this,null,function*(){return(yield this._ready).translate(c)})}}s.GenericL10n=d},()=>{document.webL10n=function(n,s,a){var r={},l="",d="textContent",o="",c={},f="loading",p=!0;function u(){return s.querySelectorAll('link[type="application/l10n"]')}function h(){var V=s.querySelector('script[type="application/l10n"]');return V?JSON.parse(V.innerHTML):null}function m(V){return V?V.querySelectorAll("*[data-l10n-id]"):[]}function x(V){if(!V)return{};var L=V.getAttribute("data-l10n-id"),k=V.getAttribute("data-l10n-args"),O={};if(k)try{O=JSON.parse(k)}catch{console.warn("could not parse arguments for #"+L)}return{id:L,args:O}}function y(V,L,k){L=L||function(z){},k=k||function(){};var O=new XMLHttpRequest;O.open("GET",V,p),O.overrideMimeType&&O.overrideMimeType("text/plain; charset=utf-8"),O.onreadystatechange=function(){O.readyState==4&&(O.status==200||O.status===0?L(O.responseText):k())},O.onerror=k,O.ontimeout=k;try{O.send(null)}catch{k()}}function T(V,L,k,O){var j=V.replace(/[^\/]*$/,"")||"./";function z(E){return E.lastIndexOf("\\")<0?E:E.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function M(E,w){var N={},U=/^\s*|\s*$/,g=/^\s*#|^\s*$/,P=/^\s*\[(.*)\]\s*$/,D=/^\s*@import\s+url\((.*)\)\s*$/i,B=/^([^=\s]*)\s*=\s*(.+)$/;function W(G,$,K){var Y=G.replace(U,"").split(/[\r\n]+/),q="*",J=L.split("-",1)[0],tt=!1,et="";function nt(){for(;;){if(!Y.length){K();return}var st=Y.shift();if(!g.test(st)){if($){if(et=P.exec(st),et){q=et[1].toLowerCase(),tt=q!=="*"&&q!==L&&q!==J;continue}else if(tt)continue;if(et=D.exec(st),et){H(j+et[1],nt);return}}var lt=st.match(B);lt&&lt.length==3&&(N[lt[1]]=z(lt[2]))}}}nt()}function H(G,$){y(G,function(K){W(K,!1,$)},function(){console.warn(G+" not found."),$()})}W(E,!0,function(){w(N)})}y(V,function(E){l+=E,M(E,function(w){for(var N in w){var U,g,P=N.lastIndexOf(".");P>0?(U=N.substring(0,P),g=N.substring(P+1)):(U=N,g=d),r[U]||(r[U]={}),r[U][g]=w[N]}k&&k()})},O)}function S(V,L){V&&(V=V.toLowerCase()),L=L||function(){},_(),o=V;var k=u(),O=k.length;if(O===0){var j=h();if(j&&j.locales&&j.default_locale){if(console.log("using the embedded JSON directory, early way out"),r=j.locales[V],!r){var z=j.default_locale.toLowerCase();for(var M in j.locales)if(M=M.toLowerCase(),M===V){r=j.locales[V];break}else M===z&&(r=j.locales[z])}L()}else console.log("no resource to load, early way out");f="complete";return}var E=null,w=0;E=function(){w++,w>=O&&(L(),f="complete")};function N(P){var D=P.href;this.load=function(B,W){T(D,B,W,function(){console.warn(D+" not found."),console.warn('"'+B+'" resource not found'),o="",W()})}}for(var U=0;U<O;U++){var g=new N(k[U]);g.load(V,E)}}function _(){r={},l="",o=""}function b(V){var L={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function k(M,E){return E.indexOf(M)!==-1}function O(M,E,w){return E<=M&&M<=w}var j={0:function(M){return"other"},1:function(M){return O(M%100,3,10)?"few":M===0?"zero":O(M%100,11,99)?"many":M==2?"two":M==1?"one":"other"},2:function(M){return M!==0&&M%10===0?"many":M==2?"two":M==1?"one":"other"},3:function(M){return M==1?"one":"other"},4:function(M){return O(M,0,1)?"one":"other"},5:function(M){return O(M,0,2)&&M!=2?"one":"other"},6:function(M){return M===0?"zero":M%10==1&&M%100!=11?"one":"other"},7:function(M){return M==2?"two":M==1?"one":"other"},8:function(M){return O(M,3,6)?"few":O(M,7,10)?"many":M==2?"two":M==1?"one":"other"},9:function(M){return M===0||M!=1&&O(M%100,1,19)?"few":M==1?"one":"other"},10:function(M){return O(M%10,2,9)&&!O(M%100,11,19)?"few":M%10==1&&!O(M%100,11,19)?"one":"other"},11:function(M){return O(M%10,2,4)&&!O(M%100,12,14)?"few":M%10===0||O(M%10,5,9)||O(M%100,11,14)?"many":M%10==1&&M%100!=11?"one":"other"},12:function(M){return O(M,2,4)?"few":M==1?"one":"other"},13:function(M){return O(M%10,2,4)&&!O(M%100,12,14)?"few":M!=1&&O(M%10,0,1)||O(M%10,5,9)||O(M%100,12,14)?"many":M==1?"one":"other"},14:function(M){return O(M%100,3,4)?"few":M%100==2?"two":M%100==1?"one":"other"},15:function(M){return M===0||O(M%100,2,10)?"few":O(M%100,11,19)?"many":M==1?"one":"other"},16:function(M){return M%10==1&&M!=11?"one":"other"},17:function(M){return M==3?"few":M===0?"zero":M==6?"many":M==2?"two":M==1?"one":"other"},18:function(M){return M===0?"zero":O(M,0,2)&&M!==0&&M!=2?"one":"other"},19:function(M){return O(M,2,10)?"few":O(M,0,1)?"one":"other"},20:function(M){return(O(M%10,3,4)||M%10==9)&&!(O(M%100,10,19)||O(M%100,70,79)||O(M%100,90,99))?"few":M%1e6===0&&M!==0?"many":M%10==2&&!k(M%100,[12,72,92])?"two":M%10==1&&!k(M%100,[11,71,91])?"one":"other"},21:function(M){return M===0?"zero":M==1?"one":"other"},22:function(M){return O(M,0,1)||O(M,11,99)?"one":"other"},23:function(M){return O(M%10,1,2)||M%20===0?"one":"other"},24:function(M){return O(M,3,10)||O(M,13,19)?"few":k(M,[2,12])?"two":k(M,[1,11])?"one":"other"}},z=L[V.replace(/-.*$/,"")];return z in j?j[z]:(console.warn("plural form unknown for ["+V+"]"),function(){return"other"})}c.plural=function(V,L,k,O){var j=parseFloat(L);if(isNaN(j)||O!=d)return V;c._pluralRules||(c._pluralRules=b(o));var z="["+c._pluralRules(j)+"]";return j===0&&k+"[zero]"in r?V=r[k+"[zero]"][O]:j==1&&k+"[one]"in r?V=r[k+"[one]"][O]:j==2&&k+"[two]"in r?V=r[k+"[two]"][O]:k+z in r?V=r[k+z][O]:k+"[other]"in r&&(V=r[k+"[other]"][O]),V};function C(V,L,k){var O=r[V];if(!O){if(console.warn("#"+V+" is undefined."),!k)return null;O=k}var j={};for(var z in O){var M=O[z];M=F(M,L,V,z),M=I(M,L,V),j[z]=M}return j}function F(V,L,k,O){var j=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,z=j.exec(V);if(!z||!z.length)return V;var M=z[1],E=z[2],w;if(L&&E in L?w=L[E]:E in r&&(w=r[E]),M in c){var N=c[M];V=N(V,w,k,O)}return V}function I(V,L,k){var O=/\{\{\s*(.+?)\s*\}\}/g;return V.replace(O,function(j,z){return L&&z in L?L[z]:z in r?r[z]:(console.log("argument {{"+z+"}} for #"+k+" is undefined."),j)})}function v(V){var L=x(V);if(L.id){var k=C(L.id,L.args);if(!k){console.warn("#"+L.id+" is undefined.");return}if(k[d]){if(R(V)===0)V[d]=k[d];else{for(var O=V.childNodes,j=!1,z=0,M=O.length;z<M;z++)O[z].nodeType===3&&/\S/.test(O[z].nodeValue)&&(j?O[z].nodeValue="":(O[z].nodeValue=k[d],j=!0));if(!j){var E=s.createTextNode(k[d]);V.prepend(E)}}delete k[d]}for(var w in k)V[w]=k[w]}}function R(V){if(V.children)return V.children.length;if(typeof V.childElementCount<"u")return V.childElementCount;for(var L=0,k=0;k<V.childNodes.length;k++)L+=V.nodeType===1?1:0;return L}function X(V){V=V||s.documentElement;for(var L=m(V),k=L.length,O=0;O<k;O++)v(L[O]);v(V)}return{get:function(V,L,k){var O=V.lastIndexOf("."),j=d;O>0&&(j=V.substring(O+1),V=V.substring(0,O));var z;k&&(z={},z[j]=k);var M=C(V,L,z);return M&&j in M?M[j]:"{{"+V+"}}"},getData:function(){return r},getText:function(){return l},getLanguage:function(){return o},setLanguage:function(V,L){S(V,function(){L&&L()})},getDirection:function(){var V=["ar","he","fa","ps","ur"],L=o.split("-",1)[0];return V.indexOf(L)>=0?"rtl":"ltr"},translate:X,getReadyState:function(){return f},ready:function(V){if(V)f=="complete"||f=="interactive"?n.setTimeout(function(){V()}):s.addEventListener&&s.addEventListener("localized",function L(){s.removeEventListener("localized",L),V()});else return}}}(window,document)},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var r=a(7),l=a(3),d=a(23);let o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=o;let c=250,f=-50,p=-400,u={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},h=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),m=[...h.values()].map(V=>String.fromCharCode(V)).join(""),x=new RegExp("\\p{M}+","gu"),y=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),T=new RegExp("([^\\p{M}])\\p{M}*$","u"),S=new RegExp("^\\p{M}*([^\\p{M}])","u"),_=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,b=new Map,C="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",F=null,I=null;function v(V){let L=[],k;for(;(k=_.exec(V))!==null;){let{index:D}=k;for(let B of k[0]){let W=b.get(B);W||(W=B.normalize("NFD").length,b.set(B,W)),L.push([W,D++])}}let O;if(L.length===0&&F)O=F;else if(L.length>0&&I)O=I;else{let B=`([${Object.keys(u).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;L.length===0?O=F=new RegExp(B+"|(\\u0000)","gum"):O=I=new RegExp(B+`|(${C})`,"gum")}let j=[];for(;(k=x.exec(V))!==null;)j.push([k[0].length,k.index]);let z=V.normalize("NFD"),M=[[0,0]],E=0,w=0,N=0,U=0,g=0,P=!1;return z=z.replace(O,(D,B,W,H,G,$,K)=>{if(K-=U,B){let Y=u[D],q=Y.length;for(let J=1;J<q;J++)M.push([K-N+J,N-J]);return N-=q-1,Y}if(W){let Y=W.endsWith(`
`),q=Y?W.length-2:W.length;P=!0;let J=q;K+g===j[E]?.[1]&&(J-=j[E][0],++E);for(let tt=1;tt<=J;tt++)M.push([K-1-N+tt,N-tt]);return N-=J,U+=J,Y?(K+=q-1,M.push([K-N+1,1+N]),N+=1,U+=1,g+=1,W.slice(0,q)):W}if(H)return M.push([K-N+1,1+N]),N+=1,U+=1,g+=1,H.charAt(0);if(G)return M.push([K-N+1,N-1]),N-=1,U+=1,g+=1," ";if(K+g===L[w]?.[1]){let Y=L[w][0]-1;++w;for(let q=1;q<=Y;q++)M.push([K-(N-q),N-q]);N-=Y,U+=Y}return $}),M.push([z.length,N]),[z,M,P]}function R(V,L,k){if(!V)return[L,k];let O=L,j=L+k,z=(0,r.binarySearchFirstItem)(V,E=>E[0]>=O);V[z][0]>O&&--z;let M=(0,r.binarySearchFirstItem)(V,E=>E[0]>=j,z);return V[M][0]>j&&--M,[O+V[z][1],k+V[M][1]-V[z][1]]}class X{constructor({linkService:L,eventBus:k}){this._linkService=L,this._eventBus=k,this.#e(),k._on("find",this.#t.bind(this)),k._on("findbarclose",this.#_.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(L){this._pdfDocument&&this.#e(),L&&(this._pdfDocument=L,this._firstPageCapability.resolve())}#t(L){if(!L)return;let k=this._pdfDocument,{type:O}=L;(this._state===null||this.#n(L))&&(this._dirtyMatch=!0),this._state=L,O!=="highlightallchange"&&this.#d(o.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||k&&this._pdfDocument!==k)return;this.#u();let j=!this._highlightMatches,z=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),O?this._dirtyMatch?this.#a():O==="again"?(this.#a(),j&&this._state.highlightAll&&this.#l()):O==="highlightallchange"?(z?this.#a():this._highlightMatches=!0,this.#l()):this.#a():this._findTimeout=setTimeout(()=>{this.#a(),this._findTimeout=null},c)})}scrollMatchIntoView({element:L=null,selectedLeft:k=0,pageIndex:O=-1,matchIndex:j=-1}){if(!this._scrollMatches||!L)return;if(j===-1||j!==this._selected.matchIdx)return;if(O===-1||O!==this._selected.pageIdx)return;this._scrollMatches=!1;let z={top:f,left:k+p};(0,r.scrollIntoView)(L,z,!0)}#e(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,l.createPromiseCapability)()}get#i(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=v(this._state.query)),this._normalizedQuery}#n(L){if(L.query!==this._state.query)return!0;switch(L.type){case"again":let k=this._selected.pageIdx+1,O=this._linkService;return k>=1&&k<=O.pagesCount&&k!==O.page&&!O.isPageVisible(k);case"highlightallchange":return!1}return!0}#r(L,k,O){let j=L.slice(0,k).match(T);if(j){let z=L.charCodeAt(k),M=j[1].charCodeAt(0);if((0,d.getCharacterType)(z)===(0,d.getCharacterType)(M))return!1}if(j=L.slice(k+O).match(S),j){let z=L.charCodeAt(k+O-1),M=j[1].charCodeAt(0);if((0,d.getCharacterType)(z)===(0,d.getCharacterType)(M))return!1}return!0}#c(L,k,O,j){let z=[],M=[],E=this._pageDiffs[O],w;for(;(w=L.exec(j))!==null;){if(k&&!this.#r(j,w.index,w[0].length))continue;let[N,U]=R(E,w.index,w[0].length);U&&(z.push(N),M.push(U))}this._pageMatches[O]=z,this._pageMatchesLength[O]=M}#o(L,k){let{matchDiacritics:O}=this._state,j=!1;L=L.replace(y,(M,E,w,N,U,g)=>E?`[ ]*\\${E}[ ]*`:w?`[ ]*${w}[ ]*`:N?"[ ]+":O?U||g:U?h.has(U.charCodeAt(0))?U:"":k?(j=!0,`${g}\\p{M}*`):g);let z="[ ]*";return L.endsWith(z)&&(L=L.slice(0,L.length-z.length)),O&&k&&(j=!0,L=`${L}(?=[${m}]|[^\\p{M}]|$)`),[j,L]}#s(L){let k=this.#i;if(k.length===0)return;let{caseSensitive:O,entireWord:j,phraseSearch:z}=this._state,M=this._pageContents[L],E=this._hasDiacritics[L],w=!1;if(z)[w,k]=this.#o(k,E);else{let g=k.match(/\S+/g);g&&(k=g.sort().reverse().map(P=>{let[D,B]=this.#o(P,E);return w||=D,`(${B})`}).join("|"))}let N=`g${w?"u":""}${O?"":"i"}`;k=new RegExp(k,N),this.#c(k,j,L,M),this._state.highlightAll&&this.#h(L),this._resumePageIdx===L&&(this._resumePageIdx=null,this.#f());let U=this._pageMatches[L].length;U>0&&(this._matchesCountTotal+=U,this.#v())}#u(){if(this._extractTextPromises.length>0)return;let L=Promise.resolve();for(let k=0,O=this._linkService.pagesCount;k<O;k++){let j=(0,l.createPromiseCapability)();this._extractTextPromises[k]=j.promise,L=L.then(()=>this._pdfDocument.getPage(k+1).then(z=>z.getTextContent()).then(z=>{let M=[];for(let E of z.items)M.push(E.str),E.hasEOL&&M.push(`
`);[this._pageContents[k],this._pageDiffs[k],this._hasDiacritics[k]]=v(M.join("")),j.resolve()},z=>{console.error(`Unable to get text content for page ${k+1}`,z),this._pageContents[k]="",this._pageDiffs[k]=null,this._hasDiacritics[k]=!1,j.resolve()}))}}#h(L){this._scrollMatches&&this._selected.pageIdx===L&&(this._linkService.page=L+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:L})}#l(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#a(){let L=this._state.findPrevious,k=this._linkService.page-1,O=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=k,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#l();for(let z=0;z<O;z++)this._pendingFindMatches.has(z)||(this._pendingFindMatches.add(z),this._extractTextPromises[z].then(()=>{this._pendingFindMatches.delete(z),this.#s(z)}))}if(this.#i===""){this.#d(o.FOUND);return}if(this._resumePageIdx)return;let j=this._offset;if(this._pagesToSearch=O,j.matchIdx!==null){let z=this._pageMatches[j.pageIdx].length;if(!L&&j.matchIdx+1<z||L&&j.matchIdx>0){j.matchIdx=L?j.matchIdx-1:j.matchIdx+1,this.#m(!0);return}this.#b(L)}this.#f()}#p(L){let k=this._offset,O=L.length,j=this._state.findPrevious;return O?(k.matchIdx=j?O-1:0,this.#m(!0),!0):(this.#b(j),k.wrapped&&(k.matchIdx=null,this._pagesToSearch<0)?(this.#m(!1),!0):!1)}#f(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let L=null;do{let k=this._offset.pageIdx;if(L=this._pageMatches[k],!L){this._resumePageIdx=k;break}}while(!this.#p(L))}#b(L){let k=this._offset,O=this._linkService.pagesCount;k.pageIdx=L?k.pageIdx-1:k.pageIdx+1,k.matchIdx=null,this._pagesToSearch--,(k.pageIdx>=O||k.pageIdx<0)&&(k.pageIdx=L?O-1:0,k.wrapped=!0)}#m(L=!1){let k=o.NOT_FOUND,O=this._offset.wrapped;if(this._offset.wrapped=!1,L){let j=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,k=O?o.WRAPPED:o.FOUND,j!==-1&&j!==this._selected.pageIdx&&this.#h(j)}this.#d(k,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#h(this._selected.pageIdx))}#_(L){let k=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||k&&this._pdfDocument!==k||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#d(o.FOUND),this._highlightMatches=!1,this.#l())})}#S(){let{pageIdx:L,matchIdx:k}=this._selected,O=0,j=this._matchesCountTotal;if(k!==-1){for(let z=0;z<L;z++)O+=this._pageMatches[z]?.length||0;O+=k+1}return(O<1||O>j)&&(O=j=0),{current:O,total:j}}#v(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#S()})}#d(L,k=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:L,previous:k,matchesCount:this.#S(),rawQuery:this._state?.query??null})}}s.PDFFindController=X},(n,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=x;let a={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=a;function r(y){return y<11904}function l(y){return(y&65408)===0}function d(y){return y>=97&&y<=122||y>=65&&y<=90}function o(y){return y>=48&&y<=57}function c(y){return y===32||y===9||y===13||y===10}function f(y){return y>=13312&&y<=40959||y>=63744&&y<=64255}function p(y){return y>=12448&&y<=12543}function u(y){return y>=12352&&y<=12447}function h(y){return y>=65376&&y<=65439}function m(y){return(y&65408)===3584}function x(y){return r(y)?l(y)?c(y)?a.SPACE:d(y)||o(y)||y===95?a.ALPHA_LETTER:a.PUNCT:m(y)?a.THAI_LETTER:y===160?a.SPACE:a.ALPHA_LETTER:f(y)?a.HAN_LETTER:p(y)?a.KATAKANA_LETTER:u(y)?a.HIRAGANA_LETTER:h(y)?a.HALFWIDTH_KATAKANA_LETTER:a.ALPHA_LETTER}},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=h,s.isDestHashesEqual=u;var r=a(7),l=a(19);let d=1e3,o=50,c=1e3;function f(){return document.location.hash}class p{constructor({linkService:x,eventBus:y}){this.linkService=x,this.eventBus=y,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",T=>{this._isPagesLoaded=!!T.pagesCount},{once:!0})})}initialize({fingerprint:x,resetHistory:y=!1,updateUrl:T=!1}){if(!x||typeof x!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let S=this._fingerprint!==""&&this._fingerprint!==x;this._fingerprint=x,this._updateUrl=T===!0,this._initialized=!0,this._bindEvents();let _=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=f(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(_,!0)||y){let{hash:C,page:F,rotation:I}=this._parseCurrentHash(!0);if(!C||S||y){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:C,page:F,rotation:I},!0);return}let b=_.destination;this._updateInternalState(b,_.uid,!0),b.rotation!==void 0&&(this._initialRotation=b.rotation),b.dest?(this._initialBookmark=JSON.stringify(b.dest),this._destination.page=null):b.hash?this._initialBookmark=b.hash:b.page&&(this._initialBookmark=`page=${b.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:x=null,explicitDest:y,pageNumber:T}){if(!this._initialized)return;if(x&&typeof x!="string"){console.error(`PDFHistory.push: "${x}" is not a valid namedDest parameter.`);return}else if(Array.isArray(y)){if(!this._isValidPage(T)&&(T!==null||this._destination)){console.error(`PDFHistory.push: "${T}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${y}" is not a valid explicitDest parameter.`);return}let S=x||JSON.stringify(y);if(!S)return;let _=!1;if(this._destination&&(u(this._destination.hash,S)||h(this._destination.dest,y))){if(this._destination.page)return;_=!0}this._popStateInProgress&&!_||(this._pushOrReplaceState({dest:y,hash:S,page:T,rotation:this.linkService.rotation},_),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(x){if(this._initialized){if(!this._isValidPage(x)){console.error(`PDFHistory.pushPage: "${x}" is not a valid page number.`);return}this._destination?.page!==x&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${x}`,page:x,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;let x=window.history.state;this._isValidState(x)&&x.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let x=window.history.state;this._isValidState(x)&&x.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(x,y=!1){let T=y||!this._destination,S={fingerprint:this._fingerprint,uid:T?this._uid:this._uid+1,destination:x};this._updateInternalState(x,S.uid);let _;if(this._updateUrl&&x?.hash){let b=document.location.href.split("#")[0];b.startsWith("file://")||(_=`${b}#${x.hash}`)}T?window.history.replaceState(S,"",_):window.history.pushState(S,"",_)}_tryPushCurrentPosition(x=!1){if(!this._position)return;let y=this._position;if(x&&(y=Object.assign(Object.create(null),this._position),y.temporary=!0),!this._destination){this._pushOrReplaceState(y);return}if(this._destination.temporary){this._pushOrReplaceState(y,!0);return}if(this._destination.hash===y.hash||!this._destination.page&&(o<=0||this._numPositionUpdates<=o))return;let T=!1;if(this._destination.page>=y.first&&this._destination.page<=y.page){if(this._destination.dest!==void 0||!this._destination.first)return;T=!0}this._pushOrReplaceState(y,T)}_isValidPage(x){return Number.isInteger(x)&&x>0&&x<=this.linkService.pagesCount}_isValidState(x,y=!1){if(!x)return!1;if(x.fingerprint!==this._fingerprint)if(y){if(typeof x.fingerprint!="string"||x.fingerprint.length!==this._fingerprint.length)return!1;let[T]=performance.getEntriesByType("navigation");if(T?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(x.uid)||x.uid<0||x.destination===null||typeof x.destination!="object")}_updateInternalState(x,y,T=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),T&&x?.temporary&&delete x.temporary,this._destination=x,this._uid=y,this._maxUid=Math.max(this._maxUid,y),this._numPositionUpdates=0}_parseCurrentHash(x=!1){let y=unescape(f()).substring(1),T=(0,r.parseQueryString)(y),S=T.get("nameddest")||"",_=T.get("page")|0;return(!this._isValidPage(_)||x&&S.length>0)&&(_=null),{hash:y,page:_,rotation:this.linkService.rotation}}_updateViewarea({location:x}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:x.pdfOpenParams.substring(1),page:this.linkService.page,first:x.pageNumber,rotation:x.rotation},!this._popStateInProgress&&(o>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,c>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},c)))}_popState({state:x}){let y=f(),T=this._currentHash!==y;if(this._currentHash=y,!x){this._uid++;let{hash:_,page:b,rotation:C}=this._parseCurrentHash();this._pushOrReplaceState({hash:_,page:b,rotation:C},!0);return}if(!this._isValidState(x))return;this._popStateInProgress=!0,T&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:d}).then(()=>{this._blockHashChange--}));let S=x.destination;this._updateInternalState(S,x.uid,!0),(0,r.isValidRotation)(S.rotation)&&(this.linkService.rotation=S.rotation),S.dest?this.linkService.goToDestination(S.dest):S.hash?this.linkService.setHash(S.hash):S.page&&(this.linkService.page=S.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}s.PDFHistory=p;function u(m,x){return typeof m!="string"||typeof x!="string"?!1:m===x||(0,r.parseQueryString)(m).get("nameddest")===x}function h(m,x){function y(T,S){if(typeof T!=typeof S||Array.isArray(T)||Array.isArray(S))return!1;if(T!==null&&typeof T=="object"&&S!==null){if(Object.keys(T).length!==Object.keys(S).length)return!1;for(let _ in T)if(!y(T[_],S[_]))return!1;return!0}return T===S||Number.isNaN(T)&&Number.isNaN(S)}if(!(Array.isArray(m)&&Array.isArray(x))||m.length!==x.length)return!1;for(let T=0,S=m.length;T<S;T++)if(!y(m[T],x[T]))return!1;return!0}},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var r=a(7),l=a(3);class d{constructor({eventBus:c,sandboxBundleSrc:f=null,scriptingFactory:p=null,docPropertiesLookup:u=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=c,this._sandboxBundleSrc=f,this._scriptingFactory=p,this._docPropertiesLookup=u,this._scriptingFactory||window.addEventListener("updatefromsandbox",h=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:h.detail})})}setViewer(c){this._pdfViewer=c}setDocument(c){return dt(this,null,function*(){if(this._pdfDocument&&(yield this._destroyScripting()),this._pdfDocument=c,!c)return;let[f,p,u]=yield Promise.all([c.getFieldObjects(),c.getCalculationOrderIds(),c.getJSActions()]);if(!f&&!u){yield this._destroyScripting();return}if(c===this._pdfDocument){try{this._scripting=this._createScripting()}catch(h){console.error(`PDFScriptingManager.setDocument: "${h?.message}".`),yield this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",h=>{h?.source===window&&this._updateFromSandbox(h.detail)}),this._internalEvents.set("dispatcheventinsandbox",h=>{this._scripting?.dispatchEventInSandbox(h.detail)}),this._internalEvents.set("pagechanging",({pageNumber:h,previous:m})=>{h!==m&&(this._dispatchPageClose(m),this._dispatchPageOpen(h))}),this._internalEvents.set("pagerendered",({pageNumber:h})=>{this._pageOpenPending.has(h)&&h===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(h)}),this._internalEvents.set("pagesdestroy",h=>dt(this,null,function*(){yield this._dispatchPageClose(this._pdfViewer.currentPageNumber),yield this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this._closeCapability?.resolve()})),this._domEvents.set("mousedown",h=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",h=>{this._mouseState.isDown=!1});for(let[h,m]of this._internalEvents)this._eventBus._on(h,m);for(let[h,m]of this._domEvents)window.addEventListener(h,m,!0);try{let h=yield this._getDocProperties();if(c!==this._pdfDocument)return;yield this._scripting.createSandbox({objects:f,calculationOrder:p,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:ri(Le({},h),{actions:u})}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(h){console.error(`PDFScriptingManager.setDocument: "${h?.message}".`),yield this._destroyScripting();return}yield this._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{c===this._pdfDocument&&(this._ready=!0)})}})}dispatchWillSave(c){return dt(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(c){return dt(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(c){return dt(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})}dispatchDidPrint(c){return dt(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,l.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,l.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,l.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(c){return dt(this,null,function*(){let f=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:p,siblings:u,command:h,value:m}=c;if(!p){switch(h){case"clear":console.clear();break;case"error":console.error(m);break;case"layout":if(f)return;let y=(0,r.apiPageLayoutToViewerModes)(m);this._pdfViewer.spreadMode=y.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=m+1;break;case"print":yield this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(m);break;case"zoom":if(f)return;this._pdfViewer.currentScaleValue=m;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(f)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(f)return;this._pdfViewer.decreaseScale();break}return}if(f&&c.focus)return;delete c.id,delete c.siblings;let x=u?[p,...u]:[p];for(let y of x){let T=document.querySelector(`[data-element-id="${y}"]`);T?T.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:c})):this._pdfDocument?.annotationStorage.setValue(y,c)}})}_dispatchPageOpen(c,f=!1){return dt(this,null,function*(){let p=this._pdfDocument,u=this._visitedPages;if(f&&(this._closeCapability=(0,l.createPromiseCapability)()),!this._closeCapability)return;let h=this._pdfViewer.getPageView(c-1);if(h?.renderingState!==r.RenderingStates.FINISHED){this._pageOpenPending.add(c);return}this._pageOpenPending.delete(c);let m=dt(this,null,function*(){let x=yield u.has(c)?null:h.pdfPage?.getJSActions();p===this._pdfDocument&&(yield this._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:c,actions:x}))});u.set(c,m)})}_dispatchPageClose(c){return dt(this,null,function*(){let f=this._pdfDocument,p=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(c))return;let u=p.get(c);u&&(p.set(c,null),yield u,f===this._pdfDocument&&(yield this._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:c})))})}_getDocProperties(){return dt(this,null,function*(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);let{docPropertiesLookup:c}=a(26);return c(this._pdfDocument)})}_createScripting(){if(this._destroyCapability=(0,l.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});let{GenericScripting:c}=a(26);return new c(this._sandboxBundleSrc)}_destroyScripting(){return dt(this,null,function*(){if(!this._scripting){this._pdfDocument=null,this._destroyCapability?.resolve();return}this._closeCapability&&(yield Promise.race([this._closeCapability.promise,new Promise(c=>{setTimeout(c,1e3)})]).catch(c=>{}),this._closeCapability=null),this._pdfDocument=null;try{yield this._scripting.destroySandbox()}catch{}for(let[c,f]of this._internalEvents)this._eventBus._off(c,f);this._internalEvents.clear();for(let[c,f]of this._domEvents)window.removeEventListener(c,f,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,this._destroyCapability?.resolve()})}}s.PDFScriptingManager=d},(n,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docPropertiesLookup=l;var r=a(3);function l(o){return dt(this,null,function*(){let c="",f=c.split("#")[0],{info:p,metadata:u,contentDispositionFilename:h,contentLength:m}=yield o.getMetadata();if(!m){let{length:x}=yield o.getDownloadInfo();m=x}return ri(Le({},p),{baseURL:f,filesize:m,filename:h||(0,r.getPdfFilenameFromUrl)(c),metadata:u?.getRaw(),authors:u?.get("dc:creator"),numPages:o.numPages,URL:c})})}class d{constructor(c){this._ready=(0,r.loadScript)(c,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(c){return dt(this,null,function*(){(yield this._ready).create(c)})}dispatchEventInSandbox(c){return dt(this,null,function*(){let f=yield this._ready;setTimeout(()=>f.dispatchEvent(c),0)})}destroySandbox(){return dt(this,null,function*(){(yield this._ready).nukeSandbox()})}}s.GenericScripting=d}],t={};function i(n){var s=t[n];if(s!==void 0)return s.exports;var a=t[n]={exports:{}};return A[n](a,a.exports,i),a.exports}var e={};return(()=>{var n=e;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return d.AnnotationLayerBuilder}}),Object.defineProperty(n,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return s.DefaultAnnotationLayerFactory}}),Object.defineProperty(n,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return s.DefaultStructTreeLayerFactory}}),Object.defineProperty(n,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return s.DefaultTextLayerFactory}}),Object.defineProperty(n,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return s.DefaultXfaLayerFactory}}),Object.defineProperty(n,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(n,"EventBus",{enumerable:!0,get:function(){return c.EventBus}}),Object.defineProperty(n,"GenericL10n",{enumerable:!0,get:function(){return f.GenericL10n}}),Object.defineProperty(n,"LinkTarget",{enumerable:!0,get:function(){return a.LinkTarget}}),Object.defineProperty(n,"NullL10n",{enumerable:!0,get:function(){return p.NullL10n}}),Object.defineProperty(n,"PDFFindController",{enumerable:!0,get:function(){return u.PDFFindController}}),Object.defineProperty(n,"PDFHistory",{enumerable:!0,get:function(){return h.PDFHistory}}),Object.defineProperty(n,"PDFLinkService",{enumerable:!0,get:function(){return a.PDFLinkService}}),Object.defineProperty(n,"PDFPageView",{enumerable:!0,get:function(){return m.PDFPageView}}),Object.defineProperty(n,"PDFScriptingManager",{enumerable:!0,get:function(){return x.PDFScriptingManager}}),Object.defineProperty(n,"PDFSinglePageViewer",{enumerable:!0,get:function(){return l.PDFSinglePageViewer}}),Object.defineProperty(n,"PDFViewer",{enumerable:!0,get:function(){return l.PDFViewer}}),Object.defineProperty(n,"ProgressBar",{enumerable:!0,get:function(){return r.ProgressBar}}),Object.defineProperty(n,"RenderingStates",{enumerable:!0,get:function(){return r.RenderingStates}}),Object.defineProperty(n,"ScrollMode",{enumerable:!0,get:function(){return r.ScrollMode}}),Object.defineProperty(n,"SimpleLinkService",{enumerable:!0,get:function(){return a.SimpleLinkService}}),Object.defineProperty(n,"SpreadMode",{enumerable:!0,get:function(){return r.SpreadMode}}),Object.defineProperty(n,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return y.StructTreeLayerBuilder}}),Object.defineProperty(n,"TextLayerBuilder",{enumerable:!0,get:function(){return T.TextLayerBuilder}}),Object.defineProperty(n,"XfaLayerBuilder",{enumerable:!0,get:function(){return S.XfaLayerBuilder}}),Object.defineProperty(n,"parseQueryString",{enumerable:!0,get:function(){return r.parseQueryString}});var s=i(1),a=i(6),r=i(7),l=i(11),d=i(5),o=i(18),c=i(19),f=i(20),p=i(4),u=i(22),h=i(24),m=i(13),x=i(25),y=i(8),T=i(9),S=i(10);let _="2.16.105",b="172ccdbe5"})(),e})())});var te=Ss(Pn(),1),jt=Ss(Qs(),1);var pa=["pdfViewerContainer"];function ga(A,t){let i=new A.EventBus;return ma(i,t),i}function ma(A,t){Rt(A,"documentload").pipe(Pt(t)).subscribe(()=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(i)}),Rt(A,"pagerendered").pipe(Pt(t)).subscribe(({pageNumber:i,cssTransform:e,source:n})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:i,cssTransform:e}),n.div.dispatchEvent(s)}),Rt(A,"textlayerrendered").pipe(Pt(t)).subscribe(({pageNumber:i,source:e})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:i}),e.textLayerDiv.dispatchEvent(n)}),Rt(A,"pagechanging").pipe(Pt(t)).subscribe(({pageNumber:i,source:e})=>{let n=document.createEvent("UIEvents");n.initEvent("pagechanging",!0,!0),n.pageNumber=i,e.container.dispatchEvent(n)}),Rt(A,"pagesinit").pipe(Pt(t)).subscribe(({source:i})=>{let e=document.createEvent("CustomEvent");e.initCustomEvent("pagesinit",!0,!0,null),i.container.dispatchEvent(e)}),Rt(A,"pagesloaded").pipe(Pt(t)).subscribe(({pagesCount:i,source:e})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("pagesloaded",!0,!0,{pagesCount:i}),e.container.dispatchEvent(n)}),Rt(A,"scalechange").pipe(Pt(t)).subscribe(({scale:i,presetValue:e,source:n})=>{let s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=i,s.presetValue=e,n.container.dispatchEvent(s)}),Rt(A,"updateviewarea").pipe(Pt(t)).subscribe(({location:i,source:e})=>{let n=document.createEvent("UIEvents");n.initEvent("updateviewarea",!0,!0),n.location=i,e.container.dispatchEvent(n)}),Rt(A,"find").pipe(Pt(t)).subscribe(({source:i,type:e,query:n,phraseSearch:s,caseSensitive:a,highlightAll:r,findPrevious:l})=>{if(i===window)return;let d=document.createEvent("CustomEvent");d.initCustomEvent("find"+e,!0,!0,{query:n,phraseSearch:s,caseSensitive:a,highlightAll:r,findPrevious:l}),window.dispatchEvent(d)}),Rt(A,"attachmentsloaded").pipe(Pt(t)).subscribe(({attachmentsCount:i,source:e})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:i}),e.container.dispatchEvent(n)}),Rt(A,"sidebarviewchanged").pipe(Pt(t)).subscribe(({view:i,source:e})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("sidebarviewchanged",!0,!0,{view:i}),e.outerContainer.dispatchEvent(n)}),Rt(A,"pagemode").pipe(Pt(t)).subscribe(({mode:i,source:e})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("pagemode",!0,!0,{mode:i}),e.pdfViewer.container.dispatchEvent(n)}),Rt(A,"namedaction").pipe(Pt(t)).subscribe(({action:i,source:e})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("namedaction",!0,!0,{action:i}),e.pdfViewer.container.dispatchEvent(n)}),Rt(A,"presentationmodechanged").pipe(Pt(t)).subscribe(({active:i,switchInProgress:e})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("presentationmodechanged",!0,!0,{active:i,switchInProgress:e}),window.dispatchEvent(n)}),Rt(A,"outlineloaded").pipe(Pt(t)).subscribe(({outlineCount:i,source:e})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("outlineloaded",!0,!0,{outlineCount:i}),e.container.dispatchEvent(n)})}function wn(A,t,i){A[t]=i}function xi(){return typeof window>"u"}xi()||wn(te,"verbosity",te.VerbosityLevel.INFOS);var qi=function(A){return A[A.DISABLED=0]="DISABLED",A[A.ENABLED=1]="ENABLED",A[A.ENHANCED=2]="ENHANCED",A}(qi||{}),Js=(()=>{class A{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof te<"u"?`https://unpkg.com/pdfjs-dist@${te.version}/cmaps/`:null;_imageResourcesPath=typeof te<"u"?`https://unpkg.com/pdfjs-dist@${te.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=qi.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;resizeTimeout=null;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new xs;afterLoadComplete=new Oe;pageRendered=new Oe;pageInitialized=new Oe;textLayerRendered=new Oe;onError=new Oe;onProgress=new Oe;pageChange=new Oe(!0);src;set cMapsUrl(i){this._cMapsUrl=i}set page(i){i=parseInt(i,10)||1;let e=i;this._pdf&&(i=this.getValidPageNumber(i)),this._page=i,e!==i&&this.pageChange.emit(i)}set renderText(i){this._renderText=i}set renderTextMode(i){this._renderTextMode=i}set originalSize(i){this._originalSize=i}set showAll(i){this._showAll=i}set stickToPage(i){this._stickToPage=i}set zoom(i){i<=0||(this._zoom=i)}get zoom(){return this._zoom}set zoomScale(i){this._zoomScale=i}get zoomScale(){return this._zoomScale}set rotation(i){if(!(typeof i=="number"&&i%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=i}set externalLinkTarget(i){this._externalLinkTarget=i}set autoresize(i){this._canAutoResize=!!i}set fitToPage(i){this._fitToPage=!!i}set showBorders(i){this._showBorders=!!i}static getLinkTarget(i){switch(i){case"blank":return jt.LinkTarget.BLANK;case"none":return jt.LinkTarget.NONE;case"self":return jt.LinkTarget.SELF;case"parent":return jt.LinkTarget.PARENT;case"top":return jt.LinkTarget.TOP}return null}constructor(i,e){if(this.element=i,this.ngZone=e,xi())return;let n,s=te.version,a=window[`pdfWorkerSrc${s}`];a?n=a:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?n=window.pdfWorkerSrc:n=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.js`,wn(te.GlobalWorkerOptions,"workerSrc",n)}ngAfterViewChecked(){if(this.isInitialized)return;let i=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&i==null){this.isVisible=!1;return}this.isVisible===!1&&i!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(i){if(!(xi()||!this.isVisible)){if("src"in i)this.loadPDF();else if(this._pdf){if("renderText"in i?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:qi.DISABLED,this.resetPdfDocument()):"showAll"in i&&(this.setupViewer(),this.resetPdfDocument()),"page"in i){let{page:e}=i;if(e.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){gn(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Pt(this.destroy$)).subscribe({next:i=>{let e=this._rotation+i.rotate,n=i.getViewport({scale:this._zoom,rotation:e}).width*A.CSS_UNITS,s=this._zoom,a=!0;if(!this._originalSize||this._fitToPage&&n>this.pdfViewerContainer.nativeElement.clientWidth){let r=i.getViewport({scale:1,rotation:e});s=this.getScale(r.width,r.height),a=!this._stickToPage}this.pdfViewer._setScale(s,a)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let i=A.getLinkTarget(this._externalLinkTarget);return i?{externalLinkTarget:i}:{}}initEventBus(){this.eventBus=ga(jt,this.destroy$),Rt(this.eventBus,"pagerendered").pipe(Pt(this.destroy$)).subscribe(i=>{this.pageRendered.emit(i)}),Rt(this.eventBus,"pagesinit").pipe(Pt(this.destroy$)).subscribe(i=>{this.pageInitialized.emit(i)}),Rt(this.eventBus,"pagechanging").pipe(Pt(this.destroy$)).subscribe(({pageNumber:i})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=i,this.pageChange.emit(i)},100)}),Rt(this.eventBus,"textlayerrendered").pipe(Pt(this.destroy$)).subscribe(i=>{this.textLayerRendered.emit(i)})}initPDFServices(){this.pdfLinkService=new jt.PDFLinkService(Le({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new jt.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:qi.DISABLED,findController:this.pdfFindController,l10n:new jt.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath}}setupViewer(){wn(te,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new jt.PDFViewer(this.getPDFOptions()):this.pdfViewer=new jt.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(i){return i<1?1:i>this._pdf.numPages?this._pdf.numPages:i}getDocumentParams(){let i=typeof this.src;if(!this._cMapsUrl)return this.src;let e={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return i==="string"?e.url=this.src:i==="object"&&(this.src.byteLength!==void 0?e.data=this.src:Object.assign(e,this.src)),e}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=te.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=e=>{this.onProgress.emit(e)};let i=this.src;gn(this.loadingTask.promise).pipe(Pt(this.destroy$)).subscribe({next:e=>{this._pdf=e,this.lastLoaded=i,this.afterLoadComplete.emit(e),this.resetPdfDocument(),this.update()},error:e=>{this.lastLoaded=null,this.onError.emit(e)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(i,e){let n=this._showBorders?2*A.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-n,a=this.pdfViewerContainer.nativeElement.clientHeight-n;if(a===0||e===0||s===0||i===0)return 1;let r=1;switch(this._zoomScale){case"page-fit":r=Math.min(a/e,s/i);break;case"page-height":r=a/e;break;case"page-width":default:r=s/i;break}return this._zoom*r/A.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){xi()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){xi()||this.ngZone.runOutsideAngular(()=>{Rt(window,"resize").pipe(Es(100),Ps(()=>this._canAutoResize&&!!this._pdf),Pt(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(e){return new(e||A)(Se(Ls),Se(Rs))};static \u0275cmp=Zt({type:A,selectors:[["pdf-viewer"]],viewQuery:function(e,n){if(e&1&&Ds(pa,5),e&2){let s;Is(s=Ns())&&(n.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[pe.None,"c-maps-url","cMapsUrl"],page:"page",renderText:[pe.None,"render-text","renderText"],renderTextMode:[pe.None,"render-text-mode","renderTextMode"],originalSize:[pe.None,"original-size","originalSize"],showAll:[pe.None,"show-all","showAll"],stickToPage:[pe.None,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[pe.None,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[pe.None,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[pe.None,"fit-to-page","fitToPage"],showBorders:[pe.None,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[Cs],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(e,n){e&1&&(at(0,"div",0,1),ft(2,"div",2),ot())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return A})(),Zs=(()=>{class A{static \u0275fac=function(e){return new(e||A)};static \u0275mod=oi({type:A});static \u0275inj=ai({})}return A})();function Ee(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function or(A,t){A.prototype=Object.create(t.prototype),A.prototype.constructor=A,A.__proto__=t}var se={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ci={duration:.5,overwrite:!1,delay:0},Gn,Ht,xt,he=1e8,St=1/he,Fn=Math.PI*2,ba=Fn/4,ya=0,lr=Math.sqrt,va=Math.cos,Aa=Math.sin,Nt=function(t){return typeof t=="string"},Mt=function(t){return typeof t=="function"},Ce=function(t){return typeof t=="number"},nn=function(t){return typeof t>"u"},be=function(t){return typeof t=="object"},ne=function(t){return t!==!1},qn=function(){return typeof window<"u"},Xi=function(t){return Mt(t)||Nt(t)},cr=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Gt=Array.isArray,Dn=/(?:-?\.?\d|\.)+/gi,Xn=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$e=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Cn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Yn=/[+-]=-?[.\d]+/,hr=/[^,'"\[\]\s]+/gi,Sa=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Et,me,In,$n,le={},Qi={},dr,ur=function(t){return(Qi=Ye(t,le))&&qt},sn=function(t,i){return console.warn("Invalid property",t,"set to",i,"Missing plugin? gsap.registerPlugin()")},Mi=function(t,i){return!i&&console.warn(t)},fr=function(t,i){return t&&(le[t]=i)&&Qi&&(Qi[t]=i)||le},ki=function(){return 0},xa={suppressEvents:!0,isStart:!0,kill:!1},Yi={suppressEvents:!0,kill:!1},Pa={suppressEvents:!0},Kn={},De=[],Nn={},pr,ee={},Tn={},tr=30,$i=[],Qn="",Jn=function(t){var i=t[0],e,n;if(be(i)||Mt(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=$i.length;n--&&!$i[n].targetTest(i););e=$i[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new es(t[n],e)))||t.splice(n,1);return t},Ie=function(t){return t._gsap||Jn(de(t))[0]._gsap},Zn=function(t,i,e){return(e=t[i])&&Mt(e)?t[i]():nn(e)&&t.getAttribute&&t.getAttribute(i)||e},Kt=function(t,i){return(t=t.split(",")).forEach(i)||t},kt=function(t){return Math.round(t*1e5)/1e5||0},Vt=function(t){return Math.round(t*1e7)/1e7||0},Ke=function(t,i){var e=i.charAt(0),n=parseFloat(i.substr(2));return t=parseFloat(t),e==="+"?t+n:e==="-"?t-n:e==="*"?t*n:t/n},Ea=function(t,i){for(var e=i.length,n=0;t.indexOf(i[n])<0&&++n<e;);return n<e},Ji=function(){var t=De.length,i=De.slice(0),e,n;for(Nn={},De.length=0,e=0;e<t;e++)n=i[e],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},gr=function(t,i,e,n){De.length&&!Ht&&Ji(),t.render(i,e,n||Ht&&i<0&&(t._initted||t._startAt)),De.length&&!Ht&&Ji()},mr=function(t){var i=parseFloat(t);return(i||i===0)&&(t+"").match(hr).length<2?i:Nt(t)?t.trim():t},_r=function(t){return t},ue=function(t,i){for(var e in i)e in t||(t[e]=i[e]);return t},wa=function(t){return function(i,e){for(var n in e)n in i||n==="duration"&&t||n==="ease"||(i[n]=e[n])}},Ye=function(t,i){for(var e in i)t[e]=i[e];return t},er=function A(t,i){for(var e in i)e!=="__proto__"&&e!=="constructor"&&e!=="prototype"&&(t[e]=be(i[e])?A(t[e]||(t[e]={}),i[e]):i[e]);return t},Zi=function(t,i){var e={},n;for(n in t)n in i||(e[n]=t[n]);return e},wi=function(t){var i=t.parent||Et,e=t.keyframes?wa(Gt(t.keyframes)):ue;if(ne(t.inherit))for(;i;)e(t,i.vars.defaults),i=i.parent||i._dp;return t},Ca=function(t,i){for(var e=t.length,n=e===i.length;n&&e--&&t[e]===i[e];);return e<0},br=function(t,i,e,n,s){e===void 0&&(e="_first"),n===void 0&&(n="_last");var a=t[n],r;if(s)for(r=i[s];a&&a[s]>r;)a=a._prev;return a?(i._next=a._next,a._next=i):(i._next=t[e],t[e]=i),i._next?i._next._prev=i:t[n]=i,i._prev=a,i.parent=i._dp=t,i},rn=function(t,i,e,n){e===void 0&&(e="_first"),n===void 0&&(n="_last");var s=i._prev,a=i._next;s?s._next=a:t[e]===i&&(t[e]=a),a?a._prev=s:t[n]===i&&(t[n]=s),i._next=i._prev=i.parent=null},Ne=function(t,i){t.parent&&(!i||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Ge=function(t,i){if(t&&(!i||i._end>t._dur||i._start<0))for(var e=t;e;)e._dirty=1,e=e.parent;return t},Ta=function(t){for(var i=t.parent;i&&i.parent;)i._dirty=1,i.totalDuration(),i=i.parent;return t},Bn=function(t,i,e,n){return t._startAt&&(Ht?t._startAt.revert(Yi):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(i,!0,n))},Ma=function A(t){return!t||t._ts&&A(t.parent)},ir=function(t){return t._repeat?hi(t._tTime,t=t.duration()+t._rDelay)*t:0},hi=function(t,i){var e=Math.floor(t/=i);return t&&e===t?e-1:e},tn=function(t,i){return(t-i._start)*i._ts+(i._ts>=0?0:i._dirty?i.totalDuration():i._tDur)},an=function(t){return t._end=Vt(t._start+(t._tDur/Math.abs(t._ts||t._rts||St)||0))},on=function(t,i){var e=t._dp;return e&&e.smoothChildTiming&&t._ts&&(t._start=Vt(e._time-(t._ts>0?i/t._ts:((t._dirty?t.totalDuration():t._tDur)-i)/-t._ts)),an(t),e._dirty||Ge(e,t)),t},yr=function(t,i){var e;if((i._time||!i._dur&&i._initted||i._start<t._time&&(i._dur||!i.add))&&(e=tn(t.rawTime(),i),(!i._dur||Oi(0,i.totalDuration(),e)-i._tTime>St)&&i.render(e,!0)),Ge(t,i)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(e=t;e._dp;)e.rawTime()>=0&&e.totalTime(e._tTime),e=e._dp;t._zTime=-St}},_e=function(t,i,e,n){return i.parent&&Ne(i),i._start=Vt((Ce(e)?e:e||t!==Et?ce(t,e,i):t._time)+i._delay),i._end=Vt(i._start+(i.totalDuration()/Math.abs(i.timeScale())||0)),br(t,i,"_first","_last",t._sort?"_start":0),Vn(i)||(t._recent=i),n||yr(t,i),t._ts<0&&on(t,t._tTime),t},vr=function(t,i){return(le.ScrollTrigger||sn("scrollTrigger",i))&&le.ScrollTrigger.create(i,t)},Ar=function(t,i,e,n,s){if(ss(t,i,s),!t._initted)return 1;if(!e&&t._pt&&!Ht&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&pr!==ie.frame)return De.push(t),t._lazy=[s,n],1},ka=function A(t){var i=t.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||A(i))},Vn=function(t){var i=t.data;return i==="isFromStart"||i==="isStart"},La=function(t,i,e,n){var s=t.ratio,a=i<0||!i&&(!t._start&&ka(t)&&!(!t._initted&&Vn(t))||(t._ts<0||t._dp._ts<0)&&!Vn(t))?0:1,r=t._rDelay,l=0,d,o,c;if(r&&t._repeat&&(l=Oi(0,t._tDur,i),o=hi(l,r),t._yoyo&&o&1&&(a=1-a),o!==hi(t._tTime,r)&&(s=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),a!==s||Ht||n||t._zTime===St||!i&&t._zTime){if(!t._initted&&Ar(t,i,n,e,l))return;for(c=t._zTime,t._zTime=i||(e?St:0),e||(e=i&&!c),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=l,d=t._pt;d;)d.r(a,d.d),d=d._next;i<0&&Bn(t,i,e,!0),t._onUpdate&&!e&&oe(t,"onUpdate"),l&&t._repeat&&!e&&t.parent&&oe(t,"onRepeat"),(i>=t._tDur||i<0)&&t.ratio===a&&(a&&Ne(t,1),!e&&!Ht&&(oe(t,a?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=i)},Ra=function(t,i,e){var n;if(e>i)for(n=t._first;n&&n._start<=e;){if(n.data==="isPause"&&n._start>i)return n;n=n._next}else for(n=t._last;n&&n._start>=e;){if(n.data==="isPause"&&n._start<i)return n;n=n._prev}},di=function(t,i,e,n){var s=t._repeat,a=Vt(i)||0,r=t._tTime/t._tDur;return r&&!n&&(t._time*=a/t._dur),t._dur=a,t._tDur=s?s<0?1e10:Vt(a*(s+1)+t._rDelay*s):a,r>0&&!n&&on(t,t._tTime=t._tDur*r),t.parent&&an(t),e||Ge(t.parent,t),t},nr=function(t){return t instanceof Wt?Ge(t):di(t,t._dur)},Oa={_start:0,endTime:ki,totalDuration:ki},ce=function A(t,i,e){var n=t.labels,s=t._recent||Oa,a=t.duration()>=he?s.endTime(!1):t._dur,r,l,d;return Nt(i)&&(isNaN(i)||i in n)?(l=i.charAt(0),d=i.substr(-1)==="%",r=i.indexOf("="),l==="<"||l===">"?(r>=0&&(i=i.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(i.substr(1))||0)*(d?(r<0?s:e).totalDuration()/100:1)):r<0?(i in n||(n[i]=a),n[i]):(l=parseFloat(i.charAt(r-1)+i.substr(r+1)),d&&e&&(l=l/100*(Gt(e)?e[0]:e).totalDuration()),r>1?A(t,i.substr(0,r-1),e)+l:a+l)):i==null?a:+i},Ci=function(t,i,e){var n=Ce(i[1]),s=(n?2:1)+(t<2?0:1),a=i[s],r,l;if(n&&(a.duration=i[1]),a.parent=e,t){for(r=a,l=e;l&&!("immediateRender"in r);)r=l.vars.defaults||{},l=ne(l.vars.inherit)&&l.parent;a.immediateRender=ne(r.immediateRender),t<2?a.runBackwards=1:a.startAt=i[s-1]}return new Ot(i[0],a,i[s+1])},Be=function(t,i){return t||t===0?i(t):i},Oi=function(t,i,e){return e<t?t:e>i?i:e},zt=function(t,i){return!Nt(t)||!(i=Sa.exec(t))?"":i[1]},Fa=function(t,i,e){return Be(e,function(n){return Oi(t,i,n)})},Un=[].slice,Sr=function(t,i){return t&&be(t)&&"length"in t&&(!i&&!t.length||t.length-1 in t&&be(t[0]))&&!t.nodeType&&t!==me},Da=function(t,i,e){return e===void 0&&(e=[]),t.forEach(function(n){var s;return Nt(n)&&!i||Sr(n,1)?(s=e).push.apply(s,de(n)):e.push(n)})||e},de=function(t,i,e){return xt&&!i&&xt.selector?xt.selector(t):Nt(t)&&!e&&(In||!ui())?Un.call((i||$n).querySelectorAll(t),0):Gt(t)?Da(t,e):Sr(t)?Un.call(t,0):t?[t]:[]},jn=function(t){return t=de(t)[0]||Mi("Invalid scope")||{},function(i){var e=t.current||t.nativeElement||t;return de(i,e.querySelectorAll?e:e===t?Mi("Invalid scope")||$n.createElement("div"):t)}},xr=function(t){return t.sort(function(){return .5-Math.random()})},Pr=function(t){if(Mt(t))return t;var i=be(t)?t:{each:t},e=qe(i.ease),n=i.from||0,s=parseFloat(i.base)||0,a={},r=n>0&&n<1,l=isNaN(n)||r,d=i.axis,o=n,c=n;return Nt(n)?o=c={center:.5,edges:.5,end:1}[n]||0:!r&&l&&(o=n[0],c=n[1]),function(f,p,u){var h=(u||i).length,m=a[h],x,y,T,S,_,b,C,F,I;if(!m){if(I=i.grid==="auto"?0:(i.grid||[1,he])[1],!I){for(C=-he;C<(C=u[I++].getBoundingClientRect().left)&&I<h;);I<h&&I--}for(m=a[h]=[],x=l?Math.min(I,h)*o-.5:n%I,y=I===he?0:l?h*c/I-.5:n/I|0,C=0,F=he,b=0;b<h;b++)T=b%I-x,S=y-(b/I|0),m[b]=_=d?Math.abs(d==="y"?S:T):lr(T*T+S*S),_>C&&(C=_),_<F&&(F=_);n==="random"&&xr(m),m.max=C-F,m.min=F,m.v=h=(parseFloat(i.amount)||parseFloat(i.each)*(I>h?h-1:d?d==="y"?h/I:I:Math.max(I,h/I))||0)*(n==="edges"?-1:1),m.b=h<0?s-h:s,m.u=zt(i.amount||i.each)||0,e=e&&h<0?Or(e):e}return h=(m[f]-m.min)/m.max||0,Vt(m.b+(e?e(h):h)*m.v)+m.u}},Wn=function(t){var i=Math.pow(10,((t+"").split(".")[1]||"").length);return function(e){var n=Vt(Math.round(parseFloat(e)/t)*t*i);return(n-n%1)/i+(Ce(e)?0:zt(e))}},Er=function(t,i){var e=Gt(t),n,s;return!e&&be(t)&&(n=e=t.radius||he,t.values?(t=de(t.values),(s=!Ce(t[0]))&&(n*=n)):t=Wn(t.increment)),Be(i,e?Mt(t)?function(a){return s=t(a),Math.abs(s-a)<=n?s:a}:function(a){for(var r=parseFloat(s?a.x:a),l=parseFloat(s?a.y:0),d=he,o=0,c=t.length,f,p;c--;)s?(f=t[c].x-r,p=t[c].y-l,f=f*f+p*p):f=Math.abs(t[c]-r),f<d&&(d=f,o=c);return o=!n||d<=n?t[o]:a,s||o===a||Ce(a)?o:o+zt(a)}:Wn(t))},wr=function(t,i,e,n){return Be(Gt(t)?!i:e===!0?!!(e=0):!n,function(){return Gt(t)?t[~~(Math.random()*t.length)]:(e=e||1e-5)&&(n=e<1?Math.pow(10,(e+"").length-2):1)&&Math.floor(Math.round((t-e/2+Math.random()*(i-t+e*.99))/e)*e*n)/n})},Ia=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return function(n){return i.reduce(function(s,a){return a(s)},n)}},Na=function(t,i){return function(e){return t(parseFloat(e))+(i||zt(e))}},Ba=function(t,i,e){return Tr(t,i,0,1,e)},Cr=function(t,i,e){return Be(e,function(n){return t[~~i(n)]})},Va=function A(t,i,e){var n=i-t;return Gt(t)?Cr(t,A(0,t.length),i):Be(e,function(s){return(n+(s-t)%n)%n+t})},Ua=function A(t,i,e){var n=i-t,s=n*2;return Gt(t)?Cr(t,A(0,t.length-1),i):Be(e,function(a){return a=(s+(a-t)%s)%s||0,t+(a>n?s-a:a)})},fi=function(t){for(var i=0,e="",n,s,a,r;~(n=t.indexOf("random(",i));)a=t.indexOf(")",n),r=t.charAt(n+7)==="[",s=t.substr(n+7,a-n-7).match(r?hr:Dn),e+=t.substr(i,n-i)+wr(r?s:+s[0],r?0:+s[1],+s[2]||1e-5),i=a+1;return e+t.substr(i,t.length-i)},Tr=function(t,i,e,n,s){var a=i-t,r=n-e;return Be(s,function(l){return e+((l-t)/a*r||0)})},ja=function A(t,i,e,n){var s=isNaN(t+i)?0:function(p){return(1-p)*t+p*i};if(!s){var a=Nt(t),r={},l,d,o,c,f;if(e===!0&&(n=1)&&(e=null),a)t={p:t},i={p:i};else if(Gt(t)&&!Gt(i)){for(o=[],c=t.length,f=c-2,d=1;d<c;d++)o.push(A(t[d-1],t[d]));c--,s=function(u){u*=c;var h=Math.min(f,~~u);return o[h](u-h)},e=i}else n||(t=Ye(Gt(t)?[]:{},t));if(!o){for(l in i)is.call(r,t,l,"get",i[l]);s=function(u){return os(u,r)||(a?t.p:t)}}}return Be(e,s)},sr=function(t,i,e){var n=t.labels,s=he,a,r,l;for(a in n)r=n[a]-i,r<0==!!e&&r&&s>(r=Math.abs(r))&&(l=a,s=r);return l},oe=function(t,i,e){var n=t.vars,s=n[i],a=xt,r=t._ctx,l,d,o;if(s)return l=n[i+"Params"],d=n.callbackScope||t,e&&De.length&&Ji(),r&&(xt=r),o=l?s.apply(d,l):s.call(d),xt=a,o},Pi=function(t){return Ne(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Ht),t.progress()<1&&oe(t,"onInterrupt"),t},li,Mr=[],kr=function(t){if(t)if(t=!t.name&&t.default||t,qn()||t.headless){var i=t.name,e=Mt(t),n=i&&!e&&t.init?function(){this._props=[]}:t,s={init:ki,render:os,add:is,kill:no,modifier:io,rawVars:0},a={targetTest:0,get:0,getSetter:ln,aliases:{},register:0};if(ui(),t!==n){if(ee[i])return;ue(n,ue(Zi(t,s),a)),Ye(n.prototype,Ye(s,Zi(t,a))),ee[n.prop=i]=n,t.targetTest&&($i.push(n),Kn[i]=1),i=(i==="css"?"CSS":i.charAt(0).toUpperCase()+i.substr(1))+"Plugin"}fr(i,n),t.register&&t.register(qt,n,Qt)}else Mr.push(t)},At=255,Ei={aqua:[0,At,At],lime:[0,At,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,At],navy:[0,0,128],white:[At,At,At],olive:[128,128,0],yellow:[At,At,0],orange:[At,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[At,0,0],pink:[At,192,203],cyan:[0,At,At],transparent:[At,At,At,0]},Mn=function(t,i,e){return t+=t<0?1:t>1?-1:0,(t*6<1?i+(e-i)*t*6:t<.5?e:t*3<2?i+(e-i)*(2/3-t)*6:i)*At+.5|0},Lr=function(t,i,e){var n=t?Ce(t)?[t>>16,t>>8&At,t&At]:0:Ei.black,s,a,r,l,d,o,c,f,p,u;if(!n){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Ei[t])n=Ei[t];else if(t.charAt(0)==="#"){if(t.length<6&&(s=t.charAt(1),a=t.charAt(2),r=t.charAt(3),t="#"+s+s+a+a+r+r+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return n=parseInt(t.substr(1,6),16),[n>>16,n>>8&At,n&At,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),n=[t>>16,t>>8&At,t&At]}else if(t.substr(0,3)==="hsl"){if(n=u=t.match(Dn),!i)l=+n[0]%360/360,d=+n[1]/100,o=+n[2]/100,a=o<=.5?o*(d+1):o+d-o*d,s=o*2-a,n.length>3&&(n[3]*=1),n[0]=Mn(l+1/3,s,a),n[1]=Mn(l,s,a),n[2]=Mn(l-1/3,s,a);else if(~t.indexOf("="))return n=t.match(Xn),e&&n.length<4&&(n[3]=1),n}else n=t.match(Dn)||Ei.transparent;n=n.map(Number)}return i&&!u&&(s=n[0]/At,a=n[1]/At,r=n[2]/At,c=Math.max(s,a,r),f=Math.min(s,a,r),o=(c+f)/2,c===f?l=d=0:(p=c-f,d=o>.5?p/(2-c-f):p/(c+f),l=c===s?(a-r)/p+(a<r?6:0):c===a?(r-s)/p+2:(s-a)/p+4,l*=60),n[0]=~~(l+.5),n[1]=~~(d*100+.5),n[2]=~~(o*100+.5)),e&&n.length<4&&(n[3]=1),n},Rr=function(t){var i=[],e=[],n=-1;return t.split(we).forEach(function(s){var a=s.match($e)||[];i.push.apply(i,a),e.push(n+=a.length+1)}),i.c=e,i},rr=function(t,i,e){var n="",s=(t+n).match(we),a=i?"hsla(":"rgba(",r=0,l,d,o,c;if(!s)return t;if(s=s.map(function(f){return(f=Lr(f,i,1))&&a+(i?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),e&&(o=Rr(t),l=e.c,l.join(n)!==o.c.join(n)))for(d=t.replace(we,"1").split($e),c=d.length-1;r<c;r++)n+=d[r]+(~l.indexOf(r)?s.shift()||a+"0,0,0,0)":(o.length?o:s.length?s:e).shift());if(!d)for(d=t.split(we),c=d.length-1;r<c;r++)n+=d[r]+s[r];return n+d[c]},we=function(){var A="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Ei)A+="|"+t+"\\b";return new RegExp(A+")","gi")}(),Wa=/hsl[a]?\(/,ts=function(t){var i=t.join(" "),e;if(we.lastIndex=0,we.test(i))return e=Wa.test(i),t[1]=rr(t[1],e),t[0]=rr(t[0],e,Rr(t[1])),!0},Li,ie=function(){var A=Date.now,t=500,i=33,e=A(),n=e,s=1e3/240,a=s,r=[],l,d,o,c,f,p,u=function h(m){var x=A()-n,y=m===!0,T,S,_,b;if((x>t||x<0)&&(e+=x-i),n+=x,_=n-e,T=_-a,(T>0||y)&&(b=++c.frame,f=_-c.time*1e3,c.time=_=_/1e3,a+=T+(T>=s?4:s-T),S=1),y||(l=d(h)),S)for(p=0;p<r.length;p++)r[p](_,f,b,m)};return c={time:0,frame:0,tick:function(){u(!0)},deltaRatio:function(m){return f/(1e3/(m||60))},wake:function(){dr&&(!In&&qn()&&(me=In=window,$n=me.document||{},le.gsap=qt,(me.gsapVersions||(me.gsapVersions=[])).push(qt.version),ur(Qi||me.GreenSockGlobals||!me.gsap&&me||{}),Mr.forEach(kr)),o=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&c.sleep(),d=o||function(m){return setTimeout(m,a-c.time*1e3+1|0)},Li=1,u(2))},sleep:function(){(o?cancelAnimationFrame:clearTimeout)(l),Li=0,d=ki},lagSmoothing:function(m,x){t=m||1/0,i=Math.min(x||33,t)},fps:function(m){s=1e3/(m||240),a=c.time*1e3+s},add:function(m,x,y){var T=x?function(S,_,b,C){m(S,_,b,C),c.remove(T)}:m;return c.remove(m),r[y?"unshift":"push"](T),ui(),T},remove:function(m,x){~(x=r.indexOf(m))&&r.splice(x,1)&&p>=x&&p--},_listeners:r},c}(),ui=function(){return!Li&&ie.wake()},mt={},za=/^[\d.\-M][\d.\-,\s]/,Ha=/["']/g,Ga=function(t){for(var i={},e=t.substr(1,t.length-3).split(":"),n=e[0],s=1,a=e.length,r,l,d;s<a;s++)l=e[s],r=s!==a-1?l.lastIndexOf(","):l.length,d=l.substr(0,r),i[n]=isNaN(d)?d.replace(Ha,"").trim():+d,n=l.substr(r+1).trim();return i},qa=function(t){var i=t.indexOf("(")+1,e=t.indexOf(")"),n=t.indexOf("(",i);return t.substring(i,~n&&n<e?t.indexOf(")",e+1):e)},Xa=function(t){var i=(t+"").split("("),e=mt[i[0]];return e&&i.length>1&&e.config?e.config.apply(null,~t.indexOf("{")?[Ga(i[1])]:qa(t).split(",").map(mr)):mt._CE&&za.test(t)?mt._CE("",t):e},Or=function(t){return function(i){return 1-t(1-i)}},Fr=function A(t,i){for(var e=t._first,n;e;)e instanceof Wt?A(e,i):e.vars.yoyoEase&&(!e._yoyo||!e._repeat)&&e._yoyo!==i&&(e.timeline?A(e.timeline,i):(n=e._ease,e._ease=e._yEase,e._yEase=n,e._yoyo=i)),e=e._next},qe=function(t,i){return t&&(Mt(t)?t:mt[t]||Xa(t))||i},Qe=function(t,i,e,n){e===void 0&&(e=function(l){return 1-i(1-l)}),n===void 0&&(n=function(l){return l<.5?i(l*2)/2:1-i((1-l)*2)/2});var s={easeIn:i,easeOut:e,easeInOut:n},a;return Kt(t,function(r){mt[r]=le[r]=s,mt[a=r.toLowerCase()]=e;for(var l in s)mt[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=mt[r+"."+l]=s[l]}),s},Dr=function(t){return function(i){return i<.5?(1-t(1-i*2))/2:.5+t((i-.5)*2)/2}},kn=function A(t,i,e){var n=i>=1?i:1,s=(e||(t?.3:.45))/(i<1?i:1),a=s/Fn*(Math.asin(1/n)||0),r=function(o){return o===1?1:n*Math.pow(2,-10*o)*Aa((o-a)*s)+1},l=t==="out"?r:t==="in"?function(d){return 1-r(1-d)}:Dr(r);return s=Fn/s,l.config=function(d,o){return A(t,d,o)},l},Ln=function A(t,i){i===void 0&&(i=1.70158);var e=function(a){return a?--a*a*((i+1)*a+i)+1:0},n=t==="out"?e:t==="in"?function(s){return 1-e(1-s)}:Dr(e);return n.config=function(s){return A(t,s)},n};Kt("Linear,Quad,Cubic,Quart,Quint,Strong",function(A,t){var i=t<5?t+1:t;Qe(A+",Power"+(i-1),t?function(e){return Math.pow(e,i)}:function(e){return e},function(e){return 1-Math.pow(1-e,i)},function(e){return e<.5?Math.pow(e*2,i)/2:1-Math.pow((1-e)*2,i)/2})});mt.Linear.easeNone=mt.none=mt.Linear.easeIn;Qe("Elastic",kn("in"),kn("out"),kn());(function(A,t){var i=1/t,e=2*i,n=2.5*i,s=function(r){return r<i?A*r*r:r<e?A*Math.pow(r-1.5/t,2)+.75:r<n?A*(r-=2.25/t)*r+.9375:A*Math.pow(r-2.625/t,2)+.984375};Qe("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);Qe("Expo",function(A){return A?Math.pow(2,10*(A-1)):0});Qe("Circ",function(A){return-(lr(1-A*A)-1)});Qe("Sine",function(A){return A===1?1:-va(A*ba)+1});Qe("Back",Ln("in"),Ln("out"),Ln());mt.SteppedEase=mt.steps=le.SteppedEase={config:function(t,i){t===void 0&&(t=1);var e=1/t,n=t+(i?0:1),s=i?1:0,a=1-St;return function(r){return((n*Oi(0,a,r)|0)+s)*e}}};ci.ease=mt["quad.out"];Kt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(A){return Qn+=A+","+A+"Params,"});var es=function(t,i){this.id=ya++,t._gsap=this,this.target=t,this.harness=i,this.get=i?i.get:Zn,this.set=i?i.getSetter:ln},Ri=function(){function A(i){this.vars=i,this._delay=+i.delay||0,(this._repeat=i.repeat===1/0?-2:i.repeat||0)&&(this._rDelay=i.repeatDelay||0,this._yoyo=!!i.yoyo||!!i.yoyoEase),this._ts=1,di(this,+i.duration,1,1),this.data=i.data,xt&&(this._ctx=xt,xt.data.push(this)),Li||ie.wake()}var t=A.prototype;return t.delay=function(e){return e||e===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,di(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,n){if(ui(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(on(this,e),!s._dp||s.parent||yr(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&_e(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===St||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),gr(this,e,n)),this},t.time=function(e,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+ir(this))%(this._dur+this._rDelay)||(e?this._dur:0),n):this._time},t.totalProgress=function(e,n){return arguments.length?this.totalTime(this.totalDuration()*e,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-e:e)+ir(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,n){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*s,n):this._repeat?hi(this._tTime,s)+1:1},t.timeScale=function(e,n){if(!arguments.length)return this._rts===-St?0:this._rts;if(this._rts===e)return this;var s=this.parent&&this._ts?tn(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-St?0:this._rts,this.totalTime(Oi(-Math.abs(this._delay),this._tDur,s),n!==!1),an(this),Ta(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ui(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==St&&(this._tTime-=St)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&_e(n,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(ne(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var n=this.parent||this._dp;return n?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?tn(n.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){e===void 0&&(e=Pa);var n=Ht;return Ht=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),this.data!=="nested"&&e.kill!==!1&&this.kill(),Ht=n,this},t.globalTime=function(e){for(var n=this,s=arguments.length?e:n.rawTime();n;)s=n._start+s/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(e):s},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,nr(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var n=this._time;return this._rDelay=e,nr(this),n?this.time(n):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,n){return this.totalTime(ce(this,e),ne(n))},t.restart=function(e,n){return this.play().totalTime(e?-this._delay:0,ne(n))},t.play=function(e,n){return e!=null&&this.seek(e,n),this.reversed(!1).paused(!1)},t.reverse=function(e,n){return e!=null&&this.seek(e||this.totalDuration(),n),this.reversed(!0).paused(!1)},t.pause=function(e,n){return e!=null&&this.seek(e,n),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-St:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-St,this},t.isActive=function(){var e=this.parent||this._dp,n=this._start,s;return!!(!e||this._ts&&this._initted&&e.isActive()&&(s=e.rawTime(!0))>=n&&s<this.endTime(!0)-St)},t.eventCallback=function(e,n,s){var a=this.vars;return arguments.length>1?(n?(a[e]=n,s&&(a[e+"Params"]=s),e==="onUpdate"&&(this._onUpdate=n)):delete a[e],this):a[e]},t.then=function(e){var n=this;return new Promise(function(s){var a=Mt(e)?e:_r,r=function(){var d=n.then;n.then=null,Mt(a)&&(a=a(n))&&(a.then||a===n)&&(n.then=d),s(a),n.then=d};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?r():n._prom=r})},t.kill=function(){Pi(this)},A}();ue(Ri.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-St,_prom:0,_ps:!1,_rts:1});var Wt=function(A){or(t,A);function t(e,n){var s;return e===void 0&&(e={}),s=A.call(this,e)||this,s.labels={},s.smoothChildTiming=!!e.smoothChildTiming,s.autoRemoveChildren=!!e.autoRemoveChildren,s._sort=ne(e.sortChildren),Et&&_e(e.parent||Et,Ee(s),n),e.reversed&&s.reverse(),e.paused&&s.paused(!0),e.scrollTrigger&&vr(Ee(s),e.scrollTrigger),s}var i=t.prototype;return i.to=function(n,s,a){return Ci(0,arguments,this),this},i.from=function(n,s,a){return Ci(1,arguments,this),this},i.fromTo=function(n,s,a,r){return Ci(2,arguments,this),this},i.set=function(n,s,a){return s.duration=0,s.parent=this,wi(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ot(n,s,ce(this,a),1),this},i.call=function(n,s,a){return _e(this,Ot.delayedCall(0,n,s),a)},i.staggerTo=function(n,s,a,r,l,d,o){return a.duration=s,a.stagger=a.stagger||r,a.onComplete=d,a.onCompleteParams=o,a.parent=this,new Ot(n,a,ce(this,l)),this},i.staggerFrom=function(n,s,a,r,l,d,o){return a.runBackwards=1,wi(a).immediateRender=ne(a.immediateRender),this.staggerTo(n,s,a,r,l,d,o)},i.staggerFromTo=function(n,s,a,r,l,d,o,c){return r.startAt=a,wi(r).immediateRender=ne(r.immediateRender),this.staggerTo(n,s,r,l,d,o,c)},i.render=function(n,s,a){var r=this._time,l=this._dirty?this.totalDuration():this._tDur,d=this._dur,o=n<=0?0:Vt(n),c=this._zTime<0!=n<0&&(this._initted||!d),f,p,u,h,m,x,y,T,S,_,b,C;if(this!==Et&&o>l&&n>=0&&(o=l),o!==this._tTime||a||c){if(r!==this._time&&d&&(o+=this._time-r,n+=this._time-r),f=o,S=this._start,T=this._ts,x=!T,c&&(d||(r=this._zTime),(n||!s)&&(this._zTime=n)),this._repeat){if(b=this._yoyo,m=d+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(m*100+n,s,a);if(f=Vt(o%m),o===l?(h=this._repeat,f=d):(h=~~(o/m),h&&h===o/m&&(f=d,h--),f>d&&(f=d)),_=hi(this._tTime,m),!r&&this._tTime&&_!==h&&this._tTime-_*m-this._dur<=0&&(_=h),b&&h&1&&(f=d-f,C=1),h!==_&&!this._lock){var F=b&&_&1,I=F===(b&&h&1);if(h<_&&(F=!F),r=F?0:o%d?d:o,this._lock=1,this.render(r||(C?0:Vt(h*m)),s,!d)._lock=0,this._tTime=o,!s&&this.parent&&oe(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),r&&r!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,l=this._tDur,I&&(this._lock=2,r=F?d:-1e-4,this.render(r,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;Fr(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=Ra(this,Vt(r),Vt(f)),y&&(o-=f-(f=y._start))),this._tTime=o,this._time=f,this._act=!T,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,r=0),!r&&f&&!s&&!h&&(oe(this,"onStart"),this._tTime!==o))return this;if(f>=r&&n>=0)for(p=this._first;p;){if(u=p._next,(p._act||f>=p._start)&&p._ts&&y!==p){if(p.parent!==this)return this.render(n,s,a);if(p.render(p._ts>0?(f-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(f-p._start)*p._ts,s,a),f!==this._time||!this._ts&&!x){y=0,u&&(o+=this._zTime=-St);break}}p=u}else{p=this._last;for(var v=n<0?n:f;p;){if(u=p._prev,(p._act||v<=p._end)&&p._ts&&y!==p){if(p.parent!==this)return this.render(n,s,a);if(p.render(p._ts>0?(v-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(v-p._start)*p._ts,s,a||Ht&&(p._initted||p._startAt)),f!==this._time||!this._ts&&!x){y=0,u&&(o+=this._zTime=v?-St:St);break}}p=u}}if(y&&!s&&(this.pause(),y.render(f>=r?0:-St)._zTime=f>=r?1:-1,this._ts))return this._start=S,an(this),this.render(n,s,a);this._onUpdate&&!s&&oe(this,"onUpdate",!0),(o===l&&this._tTime>=this.totalDuration()||!o&&r)&&(S===this._start||Math.abs(T)!==Math.abs(this._ts))&&(this._lock||((n||!d)&&(o===l&&this._ts>0||!o&&this._ts<0)&&Ne(this,1),!s&&!(n<0&&!r)&&(o||r||!l)&&(oe(this,o===l&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(o<l&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(n,s){var a=this;if(Ce(s)||(s=ce(this,s,n)),!(n instanceof Ri)){if(Gt(n))return n.forEach(function(r){return a.add(r,s)}),this;if(Nt(n))return this.addLabel(n,s);if(Mt(n))n=Ot.delayedCall(0,n);else return this}return this!==n?_e(this,n,s):this},i.getChildren=function(n,s,a,r){n===void 0&&(n=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),r===void 0&&(r=-he);for(var l=[],d=this._first;d;)d._start>=r&&(d instanceof Ot?s&&l.push(d):(a&&l.push(d),n&&l.push.apply(l,d.getChildren(!0,s,a)))),d=d._next;return l},i.getById=function(n){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===n)return s[a]},i.remove=function(n){return Nt(n)?this.removeLabel(n):Mt(n)?this.killTweensOf(n):(rn(this,n),n===this._recent&&(this._recent=this._last),Ge(this))},i.totalTime=function(n,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Vt(ie.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),A.prototype.totalTime.call(this,n,s),this._forcing=0,this):this._tTime},i.addLabel=function(n,s){return this.labels[n]=ce(this,s),this},i.removeLabel=function(n){return delete this.labels[n],this},i.addPause=function(n,s,a){var r=Ot.delayedCall(0,s||ki,a);return r.data="isPause",this._hasPause=1,_e(this,r,ce(this,n))},i.removePause=function(n){var s=this._first;for(n=ce(this,n);s;)s._start===n&&s.data==="isPause"&&Ne(s),s=s._next},i.killTweensOf=function(n,s,a){for(var r=this.getTweensOf(n,a),l=r.length;l--;)Fe!==r[l]&&r[l].kill(n,s);return this},i.getTweensOf=function(n,s){for(var a=[],r=de(n),l=this._first,d=Ce(s),o;l;)l instanceof Ot?Ea(l._targets,r)&&(d?(!Fe||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&a.push(l):(o=l.getTweensOf(r,s)).length&&a.push.apply(a,o),l=l._next;return a},i.tweenTo=function(n,s){s=s||{};var a=this,r=ce(a,n),l=s,d=l.startAt,o=l.onStart,c=l.onStartParams,f=l.immediateRender,p,u=Ot.to(a,ue({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:s.duration||Math.abs((r-(d&&"time"in d?d.time:a._time))/a.timeScale())||St,onStart:function(){if(a.pause(),!p){var m=s.duration||Math.abs((r-(d&&"time"in d?d.time:a._time))/a.timeScale());u._dur!==m&&di(u,m,0,1).render(u._time,!0,!0),p=1}o&&o.apply(u,c||[])}},s));return f?u.render(0):u},i.tweenFromTo=function(n,s,a){return this.tweenTo(s,ue({startAt:{time:ce(this,n)}},a))},i.recent=function(){return this._recent},i.nextLabel=function(n){return n===void 0&&(n=this._time),sr(this,ce(this,n))},i.previousLabel=function(n){return n===void 0&&(n=this._time),sr(this,ce(this,n),1)},i.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+St)},i.shiftChildren=function(n,s,a){a===void 0&&(a=0);for(var r=this._first,l=this.labels,d;r;)r._start>=a&&(r._start+=n,r._end+=n),r=r._next;if(s)for(d in l)l[d]>=a&&(l[d]+=n);return Ge(this)},i.invalidate=function(n){var s=this._first;for(this._lock=0;s;)s.invalidate(n),s=s._next;return A.prototype.invalidate.call(this,n)},i.clear=function(n){n===void 0&&(n=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),Ge(this)},i.totalDuration=function(n){var s=0,a=this,r=a._last,l=he,d,o,c;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-n:n));if(a._dirty){for(c=a.parent;r;)d=r._prev,r._dirty&&r.totalDuration(),o=r._start,o>l&&a._sort&&r._ts&&!a._lock?(a._lock=1,_e(a,r,o-r._delay,1)._lock=0):l=o,o<0&&r._ts&&(s-=o,(!c&&!a._dp||c&&c.smoothChildTiming)&&(a._start+=o/a._ts,a._time-=o,a._tTime-=o),a.shiftChildren(-o,!1,-1/0),l=0),r._end>s&&r._ts&&(s=r._end),r=d;di(a,a===Et&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(n){if(Et._ts&&(gr(Et,tn(n,Et)),pr=ie.frame),ie.frame>=tr){tr+=se.autoSleep||120;var s=Et._first;if((!s||!s._ts)&&se.autoSleep&&ie._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||ie.sleep()}}},t}(Ri);ue(Wt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ya=function(t,i,e,n,s,a,r){var l=new Qt(this._pt,t,i,0,1,as,null,s),d=0,o=0,c,f,p,u,h,m,x,y;for(l.b=e,l.e=n,e+="",n+="",(x=~n.indexOf("random("))&&(n=fi(n)),a&&(y=[e,n],a(y,t,i),e=y[0],n=y[1]),f=e.match(Cn)||[];c=Cn.exec(n);)u=c[0],h=n.substring(d,c.index),p?p=(p+1)%5:h.substr(-5)==="rgba("&&(p=1),u!==f[o++]&&(m=parseFloat(f[o-1])||0,l._pt={_next:l._pt,p:h||o===1?h:",",s:m,c:u.charAt(1)==="="?Ke(m,u)-m:parseFloat(u)-m,m:p&&p<4?Math.round:0},d=Cn.lastIndex);return l.c=d<n.length?n.substring(d,n.length):"",l.fp=r,(Yn.test(n)||x)&&(l.e=0),this._pt=l,l},is=function(t,i,e,n,s,a,r,l,d,o){Mt(n)&&(n=n(s||0,t,a));var c=t[i],f=e!=="get"?e:Mt(c)?d?t[i.indexOf("set")||!Mt(t["get"+i.substr(3)])?i:"get"+i.substr(3)](d):t[i]():c,p=Mt(c)?d?Za:Br:rs,u;if(Nt(n)&&(~n.indexOf("random(")&&(n=fi(n)),n.charAt(1)==="="&&(u=Ke(f,n)+(zt(f)||0),(u||u===0)&&(n=u))),!o||f!==n||zn)return!isNaN(f*n)&&n!==""?(u=new Qt(this._pt,t,i,+f||0,n-(f||0),typeof c=="boolean"?eo:Vr,0,p),d&&(u.fp=d),r&&u.modifier(r,this,t),this._pt=u):(!c&&!(i in t)&&sn(i,n),Ya.call(this,t,i,f,n,p,l||se.stringFilter,d))},$a=function(t,i,e,n,s){if(Mt(t)&&(t=Ti(t,s,i,e,n)),!be(t)||t.style&&t.nodeType||Gt(t)||cr(t))return Nt(t)?Ti(t,s,i,e,n):t;var a={},r;for(r in t)a[r]=Ti(t[r],s,i,e,n);return a},ns=function(t,i,e,n,s,a){var r,l,d,o;if(ee[t]&&(r=new ee[t]).init(s,r.rawVars?i[t]:$a(i[t],n,s,a,e),e,n,a)!==!1&&(e._pt=l=new Qt(e._pt,s,t,0,1,r.render,r,0,r.priority),e!==li))for(d=e._ptLookup[e._targets.indexOf(s)],o=r._props.length;o--;)d[r._props[o]]=l;return r},Fe,zn,ss=function A(t,i,e){var n=t.vars,s=n.ease,a=n.startAt,r=n.immediateRender,l=n.lazy,d=n.onUpdate,o=n.runBackwards,c=n.yoyoEase,f=n.keyframes,p=n.autoRevert,u=t._dur,h=t._startAt,m=t._targets,x=t.parent,y=x&&x.data==="nested"?x.vars.targets:m,T=t._overwrite==="auto"&&!Gn,S=t.timeline,_,b,C,F,I,v,R,X,V,L,k,O,j;if(S&&(!f||!s)&&(s="none"),t._ease=qe(s,ci.ease),t._yEase=c?Or(qe(c===!0?s:c,ci.ease)):0,c&&t._yoyo&&!t._repeat&&(c=t._yEase,t._yEase=t._ease,t._ease=c),t._from=!S&&!!n.runBackwards,!S||f&&!n.stagger){if(X=m[0]?Ie(m[0]).harness:0,O=X&&n[X.prop],_=Zi(n,Kn),h&&(h._zTime<0&&h.progress(1),i<0&&o&&r&&!p?h.render(-1,!0):h.revert(o&&u?Yi:xa),h._lazy=0),a){if(Ne(t._startAt=Ot.set(m,ue({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!h&&ne(l),startAt:null,delay:0,onUpdate:d&&function(){return oe(t,"onUpdate")},stagger:0},a))),t._startAt._dp=0,t._startAt._sat=t,i<0&&(Ht||!r&&!p)&&t._startAt.revert(Yi),r&&u&&i<=0&&e<=0){i&&(t._zTime=i);return}}else if(o&&u&&!h){if(i&&(r=!1),C=ue({overwrite:!1,data:"isFromStart",lazy:r&&!h&&ne(l),immediateRender:r,stagger:0,parent:x},_),O&&(C[X.prop]=O),Ne(t._startAt=Ot.set(m,C)),t._startAt._dp=0,t._startAt._sat=t,i<0&&(Ht?t._startAt.revert(Yi):t._startAt.render(-1,!0)),t._zTime=i,!r)A(t._startAt,St,St);else if(!i)return}for(t._pt=t._ptCache=0,l=u&&ne(l)||l&&!u,b=0;b<m.length;b++){if(I=m[b],R=I._gsap||Jn(m)[b]._gsap,t._ptLookup[b]=L={},Nn[R.id]&&De.length&&Ji(),k=y===m?b:y.indexOf(I),X&&(V=new X).init(I,O||_,t,k,y)!==!1&&(t._pt=F=new Qt(t._pt,I,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(z){L[z]=F}),V.priority&&(v=1)),!X||O)for(C in _)ee[C]&&(V=ns(C,_,t,k,I,y))?V.priority&&(v=1):L[C]=F=is.call(t,I,C,"get",_[C],k,y,0,n.stringFilter);t._op&&t._op[b]&&t.kill(I,t._op[b]),T&&t._pt&&(Fe=t,Et.killTweensOf(I,L,t.globalTime(i)),j=!t.parent,Fe=0),t._pt&&l&&(Nn[R.id]=1)}v&&ls(t),t._onInit&&t._onInit(t)}t._onUpdate=d,t._initted=(!t._op||t._pt)&&!j,f&&i<=0&&S.render(he,!0,!0)},Ka=function(t,i,e,n,s,a,r,l){var d=(t._pt&&t._ptCache||(t._ptCache={}))[i],o,c,f,p;if(!d)for(d=t._ptCache[i]=[],f=t._ptLookup,p=t._targets.length;p--;){if(o=f[p][i],o&&o.d&&o.d._pt)for(o=o.d._pt;o&&o.p!==i&&o.fp!==i;)o=o._next;if(!o)return zn=1,t.vars[i]="+=0",ss(t,r),zn=0,l?Mi(i+" not eligible for reset"):1;d.push(o)}for(p=d.length;p--;)c=d[p],o=c._pt||c,o.s=(n||n===0)&&!s?n:o.s+(n||0)+a*o.c,o.c=e-o.s,c.e&&(c.e=kt(e)+zt(c.e)),c.b&&(c.b=o.s+zt(c.b))},Qa=function(t,i){var e=t[0]?Ie(t[0]).harness:0,n=e&&e.aliases,s,a,r,l;if(!n)return i;s=Ye({},i);for(a in n)if(a in s)for(l=n[a].split(","),r=l.length;r--;)s[l[r]]=s[a];return s},Ja=function(t,i,e,n){var s=i.ease||n||"power1.inOut",a,r;if(Gt(i))r=e[t]||(e[t]=[]),i.forEach(function(l,d){return r.push({t:d/(i.length-1)*100,v:l,e:s})});else for(a in i)r=e[a]||(e[a]=[]),a==="ease"||r.push({t:parseFloat(t),v:i[a],e:s})},Ti=function(t,i,e,n,s){return Mt(t)?t.call(i,e,n,s):Nt(t)&&~t.indexOf("random(")?fi(t):t},Ir=Qn+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Nr={};Kt(Ir+",id,stagger,delay,duration,paused,scrollTrigger",function(A){return Nr[A]=1});var Ot=function(A){or(t,A);function t(e,n,s,a){var r;typeof n=="number"&&(s.duration=n,n=s,s=null),r=A.call(this,a?n:wi(n))||this;var l=r.vars,d=l.duration,o=l.delay,c=l.immediateRender,f=l.stagger,p=l.overwrite,u=l.keyframes,h=l.defaults,m=l.scrollTrigger,x=l.yoyoEase,y=n.parent||Et,T=(Gt(e)||cr(e)?Ce(e[0]):"length"in n)?[e]:de(e),S,_,b,C,F,I,v,R;if(r._targets=T.length?Jn(T):Mi("GSAP target "+e+" not found. https://gsap.com",!se.nullTargetWarn)||[],r._ptLookup=[],r._overwrite=p,u||f||Xi(d)||Xi(o)){if(n=r.vars,S=r.timeline=new Wt({data:"nested",defaults:h||{},targets:y&&y.data==="nested"?y.vars.targets:T}),S.kill(),S.parent=S._dp=Ee(r),S._start=0,f||Xi(d)||Xi(o)){if(C=T.length,v=f&&Pr(f),be(f))for(F in f)~Ir.indexOf(F)&&(R||(R={}),R[F]=f[F]);for(_=0;_<C;_++)b=Zi(n,Nr),b.stagger=0,x&&(b.yoyoEase=x),R&&Ye(b,R),I=T[_],b.duration=+Ti(d,Ee(r),_,I,T),b.delay=(+Ti(o,Ee(r),_,I,T)||0)-r._delay,!f&&C===1&&b.delay&&(r._delay=o=b.delay,r._start+=o,b.delay=0),S.to(I,b,v?v(_,I,T):0),S._ease=mt.none;S.duration()?d=o=0:r.timeline=0}else if(u){wi(ue(S.vars.defaults,{ease:"none"})),S._ease=qe(u.ease||n.ease||"none");var X=0,V,L,k;if(Gt(u))u.forEach(function(O){return S.to(T,O,">")}),S.duration();else{b={};for(F in u)F==="ease"||F==="easeEach"||Ja(F,u[F],b,u.easeEach);for(F in b)for(V=b[F].sort(function(O,j){return O.t-j.t}),X=0,_=0;_<V.length;_++)L=V[_],k={ease:L.e,duration:(L.t-(_?V[_-1].t:0))/100*d},k[F]=L.v,S.to(T,k,X),X+=k.duration;S.duration()<d&&S.to({},{duration:d-S.duration()})}}d||r.duration(d=S.duration())}else r.timeline=0;return p===!0&&!Gn&&(Fe=Ee(r),Et.killTweensOf(T),Fe=0),_e(y,Ee(r),s),n.reversed&&r.reverse(),n.paused&&r.paused(!0),(c||!d&&!u&&r._start===Vt(y._time)&&ne(c)&&Ma(Ee(r))&&y.data!=="nested")&&(r._tTime=-St,r.render(Math.max(0,-o)||0)),m&&vr(Ee(r),m),r}var i=t.prototype;return i.render=function(n,s,a){var r=this._time,l=this._tDur,d=this._dur,o=n<0,c=n>l-St&&!o?l:n<St?0:n,f,p,u,h,m,x,y,T,S;if(!d)La(this,n,s,a);else if(c!==this._tTime||!n||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==o){if(f=c,T=this.timeline,this._repeat){if(h=d+this._rDelay,this._repeat<-1&&o)return this.totalTime(h*100+n,s,a);if(f=Vt(c%h),c===l?(u=this._repeat,f=d):(u=~~(c/h),u&&u===Vt(c/h)&&(f=d,u--),f>d&&(f=d)),x=this._yoyo&&u&1,x&&(S=this._yEase,f=d-f),m=hi(this._tTime,h),f===r&&!a&&this._initted&&u===m)return this._tTime=c,this;u!==m&&(T&&this._yEase&&Fr(T,x),this.vars.repeatRefresh&&!x&&!this._lock&&this._time!==h&&this._initted&&(this._lock=a=1,this.render(Vt(h*u),!0).invalidate()._lock=0))}if(!this._initted){if(Ar(this,o?n:f,a,s,c))return this._tTime=0,this;if(r!==this._time&&!(a&&this.vars.repeatRefresh&&u!==m))return this;if(d!==this._dur)return this.render(n,s,a)}if(this._tTime=c,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(S||this._ease)(f/d),this._from&&(this.ratio=y=1-y),f&&!r&&!s&&!u&&(oe(this,"onStart"),this._tTime!==c))return this;for(p=this._pt;p;)p.r(y,p.d),p=p._next;T&&T.render(n<0?n:T._dur*T._ease(f/this._dur),s,a)||this._startAt&&(this._zTime=n),this._onUpdate&&!s&&(o&&Bn(this,n,s,a),oe(this,"onUpdate")),this._repeat&&u!==m&&this.vars.onRepeat&&!s&&this.parent&&oe(this,"onRepeat"),(c===this._tDur||!c)&&this._tTime===c&&(o&&!this._onUpdate&&Bn(this,n,!0,!0),(n||!d)&&(c===this._tDur&&this._ts>0||!c&&this._ts<0)&&Ne(this,1),!s&&!(o&&!r)&&(c||r||x)&&(oe(this,c===l?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom()))}return this},i.targets=function(){return this._targets},i.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),A.prototype.invalidate.call(this,n)},i.resetTo=function(n,s,a,r,l){Li||ie.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),o;return this._initted||ss(this,d),o=this._ease(d/this._dur),Ka(this,n,s,a,r,o,d,l)?this.resetTo(n,s,a,r,1):(on(this,0),this.parent||br(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(n,s){if(s===void 0&&(s="all"),!n&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Pi(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(n,s,Fe&&Fe.vars.overwrite!==!0)._first||Pi(this),this.parent&&a!==this.timeline.totalDuration()&&di(this,this._dur*this.timeline._tDur/a,0,1),this}var r=this._targets,l=n?de(n):r,d=this._ptLookup,o=this._pt,c,f,p,u,h,m,x;if((!s||s==="all")&&Ca(r,l))return s==="all"&&(this._pt=0),Pi(this);for(c=this._op=this._op||[],s!=="all"&&(Nt(s)&&(h={},Kt(s,function(y){return h[y]=1}),s=h),s=Qa(r,s)),x=r.length;x--;)if(~l.indexOf(r[x])){f=d[x],s==="all"?(c[x]=s,u=f,p={}):(p=c[x]=c[x]||{},u=s);for(h in u)m=f&&f[h],m&&((!("kill"in m.d)||m.d.kill(h)===!0)&&rn(this,m,"_pt"),delete f[h]),p!=="all"&&(p[h]=1)}return this._initted&&!this._pt&&o&&Pi(this),this},t.to=function(n,s){return new t(n,s,arguments[2])},t.from=function(n,s){return Ci(1,arguments)},t.delayedCall=function(n,s,a,r){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:r})},t.fromTo=function(n,s,a){return Ci(2,arguments)},t.set=function(n,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(n,s)},t.killTweensOf=function(n,s,a){return Et.killTweensOf(n,s,a)},t}(Ri);ue(Ot.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Kt("staggerTo,staggerFrom,staggerFromTo",function(A){Ot[A]=function(){var t=new Wt,i=Un.call(arguments,0);return i.splice(A==="staggerFromTo"?5:4,0,0),t[A].apply(t,i)}});var rs=function(t,i,e){return t[i]=e},Br=function(t,i,e){return t[i](e)},Za=function(t,i,e,n){return t[i](n.fp,e)},to=function(t,i,e){return t.setAttribute(i,e)},ln=function(t,i){return Mt(t[i])?Br:nn(t[i])&&t.setAttribute?to:rs},Vr=function(t,i){return i.set(i.t,i.p,Math.round((i.s+i.c*t)*1e6)/1e6,i)},eo=function(t,i){return i.set(i.t,i.p,!!(i.s+i.c*t),i)},as=function(t,i){var e=i._pt,n="";if(!t&&i.b)n=i.b;else if(t===1&&i.e)n=i.e;else{for(;e;)n=e.p+(e.m?e.m(e.s+e.c*t):Math.round((e.s+e.c*t)*1e4)/1e4)+n,e=e._next;n+=i.c}i.set(i.t,i.p,n,i)},os=function(t,i){for(var e=i._pt;e;)e.r(t,e.d),e=e._next},io=function(t,i,e,n){for(var s=this._pt,a;s;)a=s._next,s.p===n&&s.modifier(t,i,e),s=a},no=function(t){for(var i=this._pt,e,n;i;)n=i._next,i.p===t&&!i.op||i.op===t?rn(this,i,"_pt"):i.dep||(e=1),i=n;return!e},so=function(t,i,e,n){n.mSet(t,i,n.m.call(n.tween,e,n.mt),n)},ls=function(t){for(var i=t._pt,e,n,s,a;i;){for(e=i._next,n=s;n&&n.pr>i.pr;)n=n._next;(i._prev=n?n._prev:a)?i._prev._next=i:s=i,(i._next=n)?n._prev=i:a=i,i=e}t._pt=s},Qt=function(){function A(i,e,n,s,a,r,l,d,o){this.t=e,this.s=s,this.c=a,this.p=n,this.r=r||Vr,this.d=l||this,this.set=d||rs,this.pr=o||0,this._next=i,i&&(i._prev=this)}var t=A.prototype;return t.modifier=function(e,n,s){this.mSet=this.mSet||this.set,this.set=so,this.m=e,this.mt=s,this.tween=n},A}();Kt(Qn+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(A){return Kn[A]=1});le.TweenMax=le.TweenLite=Ot;le.TimelineLite=le.TimelineMax=Wt;Et=new Wt({sortChildren:!1,defaults:ci,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});se.stringFilter=ts;var Xe=[],Ki={},ro=[],ar=0,ao=0,Rn=function(t){return(Ki[t]||ro).map(function(i){return i()})},Hn=function(){var t=Date.now(),i=[];t-ar>2&&(Rn("matchMediaInit"),Xe.forEach(function(e){var n=e.queries,s=e.conditions,a,r,l,d;for(r in n)a=me.matchMedia(n[r]).matches,a&&(l=1),a!==s[r]&&(s[r]=a,d=1);d&&(e.revert(),l&&i.push(e))}),Rn("matchMediaRevert"),i.forEach(function(e){return e.onMatch(e,function(n){return e.add(null,n)})}),ar=t,Rn("matchMedia"))},Ur=function(){function A(i,e){this.selector=e&&jn(e),this.data=[],this._r=[],this.isReverted=!1,this.id=ao++,i&&this.add(i)}var t=A.prototype;return t.add=function(e,n,s){Mt(e)&&(s=n,n=e,e=Mt);var a=this,r=function(){var d=xt,o=a.selector,c;return d&&d!==a&&d.data.push(a),s&&(a.selector=jn(s)),xt=a,c=n.apply(a,arguments),Mt(c)&&a._r.push(c),xt=d,a.selector=o,a.isReverted=!1,c};return a.last=r,e===Mt?r(a,function(l){return a.add(null,l)}):e?a[e]=r:r},t.ignore=function(e){var n=xt;xt=null,e(this),xt=n},t.getTweens=function(){var e=[];return this.data.forEach(function(n){return n instanceof A?e.push.apply(e,n.getTweens()):n instanceof Ot&&!(n.parent&&n.parent.data==="nested")&&e.push(n)}),e},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,n){var s=this;if(e?function(){for(var r=s.getTweens(),l=s.data.length,d;l--;)d=s.data[l],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(o){return r.splice(r.indexOf(o),1)}));for(r.map(function(o){return{g:o._dur||o._delay||o._sat&&!o._sat.vars.immediateRender?o.globalTime(0):-1/0,t:o}}).sort(function(o,c){return c.g-o.g||-1/0}).forEach(function(o){return o.t.revert(e)}),l=s.data.length;l--;)d=s.data[l],d instanceof Wt?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Ot)&&d.revert&&d.revert(e);s._r.forEach(function(o){return o(e,s)}),s.isReverted=!0}():this.data.forEach(function(r){return r.kill&&r.kill()}),this.clear(),n)for(var a=Xe.length;a--;)Xe[a].id===this.id&&Xe.splice(a,1)},t.revert=function(e){this.kill(e||{})},A}(),oo=function(){function A(i){this.contexts=[],this.scope=i,xt&&xt.data.push(this)}var t=A.prototype;return t.add=function(e,n,s){be(e)||(e={matches:e});var a=new Ur(0,s||this.scope),r=a.conditions={},l,d,o;xt&&!a.selector&&(a.selector=xt.selector),this.contexts.push(a),n=a.add("onMatch",n),a.queries=e;for(d in e)d==="all"?o=1:(l=me.matchMedia(e[d]),l&&(Xe.indexOf(a)<0&&Xe.push(a),(r[d]=l.matches)&&(o=1),l.addListener?l.addListener(Hn):l.addEventListener("change",Hn)));return o&&n(a,function(c){return a.add(null,c)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(n){return n.kill(e,!0)})},A}(),en={registerPlugin:function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];i.forEach(function(n){return kr(n)})},timeline:function(t){return new Wt(t)},getTweensOf:function(t,i){return Et.getTweensOf(t,i)},getProperty:function(t,i,e,n){Nt(t)&&(t=de(t)[0]);var s=Ie(t||{}).get,a=e?_r:mr;return e==="native"&&(e=""),t&&(i?a((ee[i]&&ee[i].get||s)(t,i,e,n)):function(r,l,d){return a((ee[r]&&ee[r].get||s)(t,r,l,d))})},quickSetter:function(t,i,e){if(t=de(t),t.length>1){var n=t.map(function(o){return qt.quickSetter(o,i,e)}),s=n.length;return function(o){for(var c=s;c--;)n[c](o)}}t=t[0]||{};var a=ee[i],r=Ie(t),l=r.harness&&(r.harness.aliases||{})[i]||i,d=a?function(o){var c=new a;li._pt=0,c.init(t,e?o+e:o,li,0,[t]),c.render(1,c),li._pt&&os(1,li)}:r.set(t,l);return a?d:function(o){return d(t,l,e?o+e:o,r,1)}},quickTo:function(t,i,e){var n,s=qt.to(t,Ye((n={},n[i]="+=0.1",n.paused=!0,n),e||{})),a=function(l,d,o){return s.resetTo(i,l,d,o)};return a.tween=s,a},isTweening:function(t){return Et.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=qe(t.ease,ci.ease)),er(ci,t||{})},config:function(t){return er(se,t||{})},registerEffect:function(t){var i=t.name,e=t.effect,n=t.plugins,s=t.defaults,a=t.extendTimeline;(n||"").split(",").forEach(function(r){return r&&!ee[r]&&!le[r]&&Mi(i+" effect requires "+r+" plugin.")}),Tn[i]=function(r,l,d){return e(de(r),ue(l||{},s),d)},a&&(Wt.prototype[i]=function(r,l,d){return this.add(Tn[i](r,be(l)?l:(d=l)&&{},this),d)})},registerEase:function(t,i){mt[t]=qe(i)},parseEase:function(t,i){return arguments.length?qe(t,i):mt},getById:function(t){return Et.getById(t)},exportRoot:function(t,i){t===void 0&&(t={});var e=new Wt(t),n,s;for(e.smoothChildTiming=ne(t.smoothChildTiming),Et.remove(e),e._dp=0,e._time=e._tTime=Et._time,n=Et._first;n;)s=n._next,(i||!(!n._dur&&n instanceof Ot&&n.vars.onComplete===n._targets[0]))&&_e(e,n,n._start-n._delay),n=s;return _e(Et,e,0),e},context:function(t,i){return t?new Ur(t,i):xt},matchMedia:function(t){return new oo(t)},matchMediaRefresh:function(){return Xe.forEach(function(t){var i=t.conditions,e,n;for(n in i)i[n]&&(i[n]=!1,e=1);e&&t.revert()})||Hn()},addEventListener:function(t,i){var e=Ki[t]||(Ki[t]=[]);~e.indexOf(i)||e.push(i)},removeEventListener:function(t,i){var e=Ki[t],n=e&&e.indexOf(i);n>=0&&e.splice(n,1)},utils:{wrap:Va,wrapYoyo:Ua,distribute:Pr,random:wr,snap:Er,normalize:Ba,getUnit:zt,clamp:Fa,splitColor:Lr,toArray:de,selector:jn,mapRange:Tr,pipe:Ia,unitize:Na,interpolate:ja,shuffle:xr},install:ur,effects:Tn,ticker:ie,updateRoot:Wt.updateRoot,plugins:ee,globalTimeline:Et,core:{PropTween:Qt,globals:fr,Tween:Ot,Timeline:Wt,Animation:Ri,getCache:Ie,_removeLinkedListItem:rn,reverting:function(){return Ht},context:function(t){return t&&xt&&(xt.data.push(t),t._ctx=xt),xt},suppressOverwrites:function(t){return Gn=t}}};Kt("to,from,fromTo,delayedCall,set,killTweensOf",function(A){return en[A]=Ot[A]});ie.add(Wt.updateRoot);li=en.to({},{duration:0});var lo=function(t,i){for(var e=t._pt;e&&e.p!==i&&e.op!==i&&e.fp!==i;)e=e._next;return e},co=function(t,i){var e=t._targets,n,s,a;for(n in i)for(s=e.length;s--;)a=t._ptLookup[s][n],a&&(a=a.d)&&(a._pt&&(a=lo(a,n)),a&&a.modifier&&a.modifier(i[n],t,e[s],n))},On=function(t,i){return{name:t,rawVars:1,init:function(n,s,a){a._onInit=function(r){var l,d;if(Nt(s)&&(l={},Kt(s,function(o){return l[o]=1}),s=l),i){l={};for(d in s)l[d]=i(s[d]);s=l}co(r,s)}}}},qt=en.registerPlugin({name:"attr",init:function(t,i,e,n,s){var a,r,l;this.tween=e;for(a in i)l=t.getAttribute(a)||"",r=this.add(t,"setAttribute",(l||0)+"",i[a],n,s,0,0,a),r.op=a,r.b=l,this._props.push(a)},render:function(t,i){for(var e=i._pt;e;)Ht?e.set(e.t,e.p,e.b,e):e.r(t,e.d),e=e._next}},{name:"endArray",init:function(t,i){for(var e=i.length;e--;)this.add(t,e,t[e]||0,i[e],0,0,0,0,0,1)}},On("roundProps",Wn),On("modifiers"),On("snap",Er))||en;Ot.version=Wt.version=qt.version="3.12.5";dr=1;qn()&&ui();var ho=mt.Power0,uo=mt.Power1,fo=mt.Power2,po=mt.Power3,go=mt.Power4,mo=mt.Linear,_o=mt.Quad,bo=mt.Cubic,yo=mt.Quart,vo=mt.Quint,Ao=mt.Strong,So=mt.Elastic,xo=mt.Back,Po=mt.SteppedEase,Eo=mt.Bounce,wo=mt.Sine,Co=mt.Expo,To=mt.Circ;var jr,Ve,gi,gs,ei,Mo,Wr,ms,ko=function(){return typeof window<"u"},Me={},ti=180/Math.PI,mi=Math.PI/180,pi=Math.atan2,zr=1e8,_s=/([A-Z])/g,Lo=/(left|right|width|margin|padding|x)/i,Ro=/[\s,\(]\S/,ye={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ds=function(t,i){return i.set(i.t,i.p,Math.round((i.s+i.c*t)*1e4)/1e4+i.u,i)},Oo=function(t,i){return i.set(i.t,i.p,t===1?i.e:Math.round((i.s+i.c*t)*1e4)/1e4+i.u,i)},Fo=function(t,i){return i.set(i.t,i.p,t?Math.round((i.s+i.c*t)*1e4)/1e4+i.u:i.b,i)},Do=function(t,i){var e=i.s+i.c*t;i.set(i.t,i.p,~~(e+(e<0?-.5:.5))+i.u,i)},Kr=function(t,i){return i.set(i.t,i.p,t?i.e:i.b,i)},Qr=function(t,i){return i.set(i.t,i.p,t!==1?i.b:i.e,i)},Io=function(t,i,e){return t.style[i]=e},No=function(t,i,e){return t.style.setProperty(i,e)},Bo=function(t,i,e){return t._gsap[i]=e},Vo=function(t,i,e){return t._gsap.scaleX=t._gsap.scaleY=e},Uo=function(t,i,e,n,s){var a=t._gsap;a.scaleX=a.scaleY=e,a.renderTransform(s,a)},jo=function(t,i,e,n,s){var a=t._gsap;a[i]=e,a.renderTransform(s,a)},wt="transform",re=wt+"Origin",Wo=function A(t,i){var e=this,n=this.target,s=n.style,a=n._gsap;if(t in Me&&s){if(this.tfm=this.tfm||{},t!=="transform")t=ye[t]||t,~t.indexOf(",")?t.split(",").forEach(function(r){return e.tfm[r]=Te(n,r)}):this.tfm[t]=a.x?a[t]:Te(n,t),t===re&&(this.tfm.zOrigin=a.zOrigin);else return ye.transform.split(",").forEach(function(r){return A.call(e,r,i)});if(this.props.indexOf(wt)>=0)return;a.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(re,i,"")),t=wt}(s||i)&&this.props.push(t,i,s[t])},Jr=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},zo=function(){var t=this.props,i=this.target,e=i.style,n=i._gsap,s,a;for(s=0;s<t.length;s+=3)t[s+1]?i[t[s]]=t[s+2]:t[s+2]?e[t[s]]=t[s+2]:e.removeProperty(t[s].substr(0,2)==="--"?t[s]:t[s].replace(_s,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)n[a]=this.tfm[a];n.svg&&(n.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),s=ms(),(!s||!s.isStart)&&!e[wt]&&(Jr(e),n.zOrigin&&e[re]&&(e[re]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},Zr=function(t,i){var e={target:t,props:[],revert:zo,save:Wo};return t._gsap||qt.core.getCache(t),i&&i.split(",").forEach(function(n){return e.save(n)}),e},ta,us=function(t,i){var e=Ve.createElementNS?Ve.createElementNS((i||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ve.createElement(t);return e&&e.style?e:Ve.createElement(t)},ve=function A(t,i,e){var n=getComputedStyle(t);return n[i]||n.getPropertyValue(i.replace(_s,"-$1").toLowerCase())||n.getPropertyValue(i)||!e&&A(t,_i(i)||i,1)||""},Hr="O,Moz,ms,Ms,Webkit".split(","),_i=function(t,i,e){var n=i||ei,s=n.style,a=5;if(t in s&&!e)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);a--&&!(Hr[a]+t in s););return a<0?null:(a===3?"ms":a>=0?Hr[a]:"")+t},fs=function(){ko()&&window.document&&(jr=window,Ve=jr.document,gi=Ve.documentElement,ei=us("div")||{style:{}},Mo=us("div"),wt=_i(wt),re=wt+"Origin",ei.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ta=!!_i("perspective"),ms=qt.core.reverting,gs=1)},cs=function A(t){var i=us("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),e=this.parentNode,n=this.nextSibling,s=this.style.cssText,a;if(gi.appendChild(i),i.appendChild(this),this.style.display="block",t)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=A}catch{}else this._gsapBBox&&(a=this._gsapBBox());return e&&(n?e.insertBefore(this,n):e.appendChild(this)),gi.removeChild(i),this.style.cssText=s,a},Gr=function(t,i){for(var e=i.length;e--;)if(t.hasAttribute(i[e]))return t.getAttribute(i[e])},ea=function(t){var i;try{i=t.getBBox()}catch{i=cs.call(t,!0)}return i&&(i.width||i.height)||t.getBBox===cs||(i=cs.call(t,!0)),i&&!i.width&&!i.x&&!i.y?{x:+Gr(t,["x","cx","x1"])||0,y:+Gr(t,["y","cy","y1"])||0,width:0,height:0}:i},ia=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&ea(t))},ii=function(t,i){if(i){var e=t.style,n;i in Me&&i!==re&&(i=wt),e.removeProperty?(n=i.substr(0,2),(n==="ms"||i.substr(0,6)==="webkit")&&(i="-"+i),e.removeProperty(n==="--"?i:i.replace(_s,"-$1").toLowerCase())):e.removeAttribute(i)}},Ue=function(t,i,e,n,s,a){var r=new Qt(t._pt,i,e,0,1,a?Qr:Kr);return t._pt=r,r.b=n,r.e=s,t._props.push(e),r},qr={deg:1,rad:1,turn:1},Ho={grid:1,flex:1},je=function A(t,i,e,n){var s=parseFloat(e)||0,a=(e+"").trim().substr((s+"").length)||"px",r=ei.style,l=Lo.test(i),d=t.tagName.toLowerCase()==="svg",o=(d?"client":"offset")+(l?"Width":"Height"),c=100,f=n==="px",p=n==="%",u,h,m,x;if(n===a||!s||qr[n]||qr[a])return s;if(a!=="px"&&!f&&(s=A(t,i,e,"px")),x=t.getCTM&&ia(t),(p||a==="%")&&(Me[i]||~i.indexOf("adius")))return u=x?t.getBBox()[l?"width":"height"]:t[o],kt(p?s/u*c:s/100*u);if(r[l?"width":"height"]=c+(f?a:n),h=~i.indexOf("adius")||n==="em"&&t.appendChild&&!d?t:t.parentNode,x&&(h=(t.ownerSVGElement||{}).parentNode),(!h||h===Ve||!h.appendChild)&&(h=Ve.body),m=h._gsap,m&&p&&m.width&&l&&m.time===ie.time&&!m.uncache)return kt(s/m.width*c);if(p&&(i==="height"||i==="width")){var y=t.style[i];t.style[i]=c+n,u=t[o],y?t.style[i]=y:ii(t,i)}else(p||a==="%")&&!Ho[ve(h,"display")]&&(r.position=ve(t,"position")),h===t&&(r.position="static"),h.appendChild(ei),u=ei[o],h.removeChild(ei),r.position="absolute";return l&&p&&(m=Ie(h),m.time=ie.time,m.width=h[o]),kt(f?u*s/c:u&&s?c/u*s:0)},Te=function(t,i,e,n){var s;return gs||fs(),i in ye&&i!=="transform"&&(i=ye[i],~i.indexOf(",")&&(i=i.split(",")[0])),Me[i]&&i!=="transform"?(s=Ii(t,n),s=i!=="transformOrigin"?s[i]:s.svg?s.origin:hn(ve(t,re))+" "+s.zOrigin+"px"):(s=t.style[i],(!s||s==="auto"||n||~(s+"").indexOf("calc("))&&(s=cn[i]&&cn[i](t,i,e)||ve(t,i)||Zn(t,i)||(i==="opacity"?1:0))),e&&!~(s+"").trim().indexOf(" ")?je(t,i,s,e)+e:s},Go=function(t,i,e,n){if(!e||e==="none"){var s=_i(i,t,1),a=s&&ve(t,s,1);a&&a!==e?(i=s,e=a):i==="borderColor"&&(e=ve(t,"borderTopColor"))}var r=new Qt(this._pt,t.style,i,0,1,as),l=0,d=0,o,c,f,p,u,h,m,x,y,T,S,_;if(r.b=e,r.e=n,e+="",n+="",n==="auto"&&(h=t.style[i],t.style[i]=n,n=ve(t,i)||n,h?t.style[i]=h:ii(t,i)),o=[e,n],ts(o),e=o[0],n=o[1],f=e.match($e)||[],_=n.match($e)||[],_.length){for(;c=$e.exec(n);)m=c[0],y=n.substring(l,c.index),u?u=(u+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(u=1),m!==(h=f[d++]||"")&&(p=parseFloat(h)||0,S=h.substr((p+"").length),m.charAt(1)==="="&&(m=Ke(p,m)+S),x=parseFloat(m),T=m.substr((x+"").length),l=$e.lastIndex-T.length,T||(T=T||se.units[i]||S,l===n.length&&(n+=T,r.e+=T)),S!==T&&(p=je(t,i,h,T)||0),r._pt={_next:r._pt,p:y||d===1?y:",",s:p,c:x-p,m:u&&u<4||i==="zIndex"?Math.round:0});r.c=l<n.length?n.substring(l,n.length):""}else r.r=i==="display"&&n==="none"?Qr:Kr;return Yn.test(n)&&(r.e=0),this._pt=r,r},Xr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},qo=function(t){var i=t.split(" "),e=i[0],n=i[1]||"50%";return(e==="top"||e==="bottom"||n==="left"||n==="right")&&(t=e,e=n,n=t),i[0]=Xr[e]||e,i[1]=Xr[n]||n,i.join(" ")},Xo=function(t,i){if(i.tween&&i.tween._time===i.tween._dur){var e=i.t,n=e.style,s=i.u,a=e._gsap,r,l,d;if(s==="all"||s===!0)n.cssText="",l=1;else for(s=s.split(","),d=s.length;--d>-1;)r=s[d],Me[r]&&(l=1,r=r==="transformOrigin"?re:wt),ii(e,r);l&&(ii(e,wt),a&&(a.svg&&e.removeAttribute("transform"),Ii(e,1),a.uncache=1,Jr(n)))}},cn={clearProps:function(t,i,e,n,s){if(s.data!=="isFromStart"){var a=t._pt=new Qt(t._pt,i,e,0,0,Xo);return a.u=n,a.pr=-10,a.tween=s,t._props.push(e),1}}},Di=[1,0,0,1,0,0],na={},sa=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Yr=function(t){var i=ve(t,wt);return sa(i)?Di:i.substr(7).match(Xn).map(kt)},bs=function(t,i){var e=t._gsap||Ie(t),n=t.style,s=Yr(t),a,r,l,d;return e.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Di:s):(s===Di&&!t.offsetParent&&t!==gi&&!e.svg&&(l=n.display,n.display="block",a=t.parentNode,(!a||!t.offsetParent)&&(d=1,r=t.nextElementSibling,gi.appendChild(t)),s=Yr(t),l?n.display=l:ii(t,"display"),d&&(r?a.insertBefore(t,r):a?a.appendChild(t):gi.removeChild(t))),i&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},ps=function(t,i,e,n,s,a){var r=t._gsap,l=s||bs(t,!0),d=r.xOrigin||0,o=r.yOrigin||0,c=r.xOffset||0,f=r.yOffset||0,p=l[0],u=l[1],h=l[2],m=l[3],x=l[4],y=l[5],T=i.split(" "),S=parseFloat(T[0])||0,_=parseFloat(T[1])||0,b,C,F,I;e?l!==Di&&(C=p*m-u*h)&&(F=S*(m/C)+_*(-h/C)+(h*y-m*x)/C,I=S*(-u/C)+_*(p/C)-(p*y-u*x)/C,S=F,_=I):(b=ea(t),S=b.x+(~T[0].indexOf("%")?S/100*b.width:S),_=b.y+(~(T[1]||T[0]).indexOf("%")?_/100*b.height:_)),n||n!==!1&&r.smooth?(x=S-d,y=_-o,r.xOffset=c+(x*p+y*h)-x,r.yOffset=f+(x*u+y*m)-y):r.xOffset=r.yOffset=0,r.xOrigin=S,r.yOrigin=_,r.smooth=!!n,r.origin=i,r.originIsAbsolute=!!e,t.style[re]="0px 0px",a&&(Ue(a,r,"xOrigin",d,S),Ue(a,r,"yOrigin",o,_),Ue(a,r,"xOffset",c,r.xOffset),Ue(a,r,"yOffset",f,r.yOffset)),t.setAttribute("data-svg-origin",S+" "+_)},Ii=function(t,i){var e=t._gsap||new es(t);if("x"in e&&!i&&!e.uncache)return e;var n=t.style,s=e.scaleX<0,a="px",r="deg",l=getComputedStyle(t),d=ve(t,re)||"0",o,c,f,p,u,h,m,x,y,T,S,_,b,C,F,I,v,R,X,V,L,k,O,j,z,M,E,w,N,U,g,P;return o=c=f=h=m=x=y=T=S=0,p=u=1,e.svg=!!(t.getCTM&&ia(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(n[wt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[wt]!=="none"?l[wt]:"")),n.scale=n.rotate=n.translate="none"),C=bs(t,e.svg),e.svg&&(e.uncache?(z=t.getBBox(),d=e.xOrigin-z.x+"px "+(e.yOrigin-z.y)+"px",j=""):j=!i&&t.getAttribute("data-svg-origin"),ps(t,j||d,!!j||e.originIsAbsolute,e.smooth!==!1,C)),_=e.xOrigin||0,b=e.yOrigin||0,C!==Di&&(R=C[0],X=C[1],V=C[2],L=C[3],o=k=C[4],c=O=C[5],C.length===6?(p=Math.sqrt(R*R+X*X),u=Math.sqrt(L*L+V*V),h=R||X?pi(X,R)*ti:0,y=V||L?pi(V,L)*ti+h:0,y&&(u*=Math.abs(Math.cos(y*mi))),e.svg&&(o-=_-(_*R+b*V),c-=b-(_*X+b*L))):(P=C[6],U=C[7],E=C[8],w=C[9],N=C[10],g=C[11],o=C[12],c=C[13],f=C[14],F=pi(P,N),m=F*ti,F&&(I=Math.cos(-F),v=Math.sin(-F),j=k*I+E*v,z=O*I+w*v,M=P*I+N*v,E=k*-v+E*I,w=O*-v+w*I,N=P*-v+N*I,g=U*-v+g*I,k=j,O=z,P=M),F=pi(-V,N),x=F*ti,F&&(I=Math.cos(-F),v=Math.sin(-F),j=R*I-E*v,z=X*I-w*v,M=V*I-N*v,g=L*v+g*I,R=j,X=z,V=M),F=pi(X,R),h=F*ti,F&&(I=Math.cos(F),v=Math.sin(F),j=R*I+X*v,z=k*I+O*v,X=X*I-R*v,O=O*I-k*v,R=j,k=z),m&&Math.abs(m)+Math.abs(h)>359.9&&(m=h=0,x=180-x),p=kt(Math.sqrt(R*R+X*X+V*V)),u=kt(Math.sqrt(O*O+P*P)),F=pi(k,O),y=Math.abs(F)>2e-4?F*ti:0,S=g?1/(g<0?-g:g):0),e.svg&&(j=t.getAttribute("transform"),e.forceCSS=t.setAttribute("transform","")||!sa(ve(t,wt)),j&&t.setAttribute("transform",j))),Math.abs(y)>90&&Math.abs(y)<270&&(s?(p*=-1,y+=h<=0?180:-180,h+=h<=0?180:-180):(u*=-1,y+=y<=0?180:-180)),i=i||e.uncache,e.x=o-((e.xPercent=o&&(!i&&e.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-o)?-50:0)))?t.offsetWidth*e.xPercent/100:0)+a,e.y=c-((e.yPercent=c&&(!i&&e.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-c)?-50:0)))?t.offsetHeight*e.yPercent/100:0)+a,e.z=f+a,e.scaleX=kt(p),e.scaleY=kt(u),e.rotation=kt(h)+r,e.rotationX=kt(m)+r,e.rotationY=kt(x)+r,e.skewX=y+r,e.skewY=T+r,e.transformPerspective=S+a,(e.zOrigin=parseFloat(d.split(" ")[2])||!i&&e.zOrigin||0)&&(n[re]=hn(d)),e.xOffset=e.yOffset=0,e.force3D=se.force3D,e.renderTransform=e.svg?$o:ta?ra:Yo,e.uncache=0,e},hn=function(t){return(t=t.split(" "))[0]+" "+t[1]},hs=function(t,i,e){var n=zt(i);return kt(parseFloat(i)+parseFloat(je(t,"x",e+"px",n)))+n},Yo=function(t,i){i.z="0px",i.rotationY=i.rotationX="0deg",i.force3D=0,ra(t,i)},Je="0deg",Fi="0px",Ze=") ",ra=function(t,i){var e=i||this,n=e.xPercent,s=e.yPercent,a=e.x,r=e.y,l=e.z,d=e.rotation,o=e.rotationY,c=e.rotationX,f=e.skewX,p=e.skewY,u=e.scaleX,h=e.scaleY,m=e.transformPerspective,x=e.force3D,y=e.target,T=e.zOrigin,S="",_=x==="auto"&&t&&t!==1||x===!0;if(T&&(c!==Je||o!==Je)){var b=parseFloat(o)*mi,C=Math.sin(b),F=Math.cos(b),I;b=parseFloat(c)*mi,I=Math.cos(b),a=hs(y,a,C*I*-T),r=hs(y,r,-Math.sin(b)*-T),l=hs(y,l,F*I*-T+T)}m!==Fi&&(S+="perspective("+m+Ze),(n||s)&&(S+="translate("+n+"%, "+s+"%) "),(_||a!==Fi||r!==Fi||l!==Fi)&&(S+=l!==Fi||_?"translate3d("+a+", "+r+", "+l+") ":"translate("+a+", "+r+Ze),d!==Je&&(S+="rotate("+d+Ze),o!==Je&&(S+="rotateY("+o+Ze),c!==Je&&(S+="rotateX("+c+Ze),(f!==Je||p!==Je)&&(S+="skew("+f+", "+p+Ze),(u!==1||h!==1)&&(S+="scale("+u+", "+h+Ze),y.style[wt]=S||"translate(0, 0)"},$o=function(t,i){var e=i||this,n=e.xPercent,s=e.yPercent,a=e.x,r=e.y,l=e.rotation,d=e.skewX,o=e.skewY,c=e.scaleX,f=e.scaleY,p=e.target,u=e.xOrigin,h=e.yOrigin,m=e.xOffset,x=e.yOffset,y=e.forceCSS,T=parseFloat(a),S=parseFloat(r),_,b,C,F,I;l=parseFloat(l),d=parseFloat(d),o=parseFloat(o),o&&(o=parseFloat(o),d+=o,l+=o),l||d?(l*=mi,d*=mi,_=Math.cos(l)*c,b=Math.sin(l)*c,C=Math.sin(l-d)*-f,F=Math.cos(l-d)*f,d&&(o*=mi,I=Math.tan(d-o),I=Math.sqrt(1+I*I),C*=I,F*=I,o&&(I=Math.tan(o),I=Math.sqrt(1+I*I),_*=I,b*=I)),_=kt(_),b=kt(b),C=kt(C),F=kt(F)):(_=c,F=f,b=C=0),(T&&!~(a+"").indexOf("px")||S&&!~(r+"").indexOf("px"))&&(T=je(p,"x",a,"px"),S=je(p,"y",r,"px")),(u||h||m||x)&&(T=kt(T+u-(u*_+h*C)+m),S=kt(S+h-(u*b+h*F)+x)),(n||s)&&(I=p.getBBox(),T=kt(T+n/100*I.width),S=kt(S+s/100*I.height)),I="matrix("+_+","+b+","+C+","+F+","+T+","+S+")",p.setAttribute("transform",I),y&&(p.style[wt]=I)},Ko=function(t,i,e,n,s){var a=360,r=Nt(s),l=parseFloat(s)*(r&&~s.indexOf("rad")?ti:1),d=l-n,o=n+d+"deg",c,f;return r&&(c=s.split("_")[1],c==="short"&&(d%=a,d!==d%(a/2)&&(d+=d<0?a:-a)),c==="cw"&&d<0?d=(d+a*zr)%a-~~(d/a)*a:c==="ccw"&&d>0&&(d=(d-a*zr)%a-~~(d/a)*a)),t._pt=f=new Qt(t._pt,i,e,n,d,Oo),f.e=o,f.u="deg",t._props.push(e),f},$r=function(t,i){for(var e in i)t[e]=i[e];return t},Qo=function(t,i,e){var n=$r({},e._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=e.style,r,l,d,o,c,f,p,u;n.svg?(d=e.getAttribute("transform"),e.setAttribute("transform",""),a[wt]=i,r=Ii(e,1),ii(e,wt),e.setAttribute("transform",d)):(d=getComputedStyle(e)[wt],a[wt]=i,r=Ii(e,1),a[wt]=d);for(l in Me)d=n[l],o=r[l],d!==o&&s.indexOf(l)<0&&(p=zt(d),u=zt(o),c=p!==u?je(e,l,d,u):parseFloat(d),f=parseFloat(o),t._pt=new Qt(t._pt,r,l,c,f-c,ds),t._pt.u=u||0,t._props.push(l));$r(r,n)};Kt("padding,margin,Width,Radius",function(A,t){var i="Top",e="Right",n="Bottom",s="Left",a=(t<3?[i,e,n,s]:[i+s,i+e,n+e,n+s]).map(function(r){return t<2?A+r:"border"+r+A});cn[t>1?"border"+A:A]=function(r,l,d,o,c){var f,p;if(arguments.length<4)return f=a.map(function(u){return Te(r,u,d)}),p=f.join(" "),p.split(f[0]).length===5?f[0]:p;f=(o+"").split(" "),p={},a.forEach(function(u,h){return p[u]=f[h]=f[h]||f[(h-1)/2|0]}),r.init(l,p,c)}});var ys={name:"css",register:fs,targetTest:function(t){return t.style&&t.nodeType},init:function(t,i,e,n,s){var a=this._props,r=t.style,l=e.vars.startAt,d,o,c,f,p,u,h,m,x,y,T,S,_,b,C,F;gs||fs(),this.styles=this.styles||Zr(t),F=this.styles.props,this.tween=e;for(h in i)if(h!=="autoRound"&&(o=i[h],!(ee[h]&&ns(h,i,e,n,t,s)))){if(p=typeof o,u=cn[h],p==="function"&&(o=o.call(e,n,t,s),p=typeof o),p==="string"&&~o.indexOf("random(")&&(o=fi(o)),u)u(this,t,h,o,e)&&(C=1);else if(h.substr(0,2)==="--")d=(getComputedStyle(t).getPropertyValue(h)+"").trim(),o+="",we.lastIndex=0,we.test(d)||(m=zt(d),x=zt(o)),x?m!==x&&(d=je(t,h,d,x)+x):m&&(o+=m),this.add(r,"setProperty",d,o,n,s,0,0,h),a.push(h),F.push(h,0,r[h]);else if(p!=="undefined"){if(l&&h in l?(d=typeof l[h]=="function"?l[h].call(e,n,t,s):l[h],Nt(d)&&~d.indexOf("random(")&&(d=fi(d)),zt(d+"")||d==="auto"||(d+=se.units[h]||zt(Te(t,h))||""),(d+"").charAt(1)==="="&&(d=Te(t,h))):d=Te(t,h),f=parseFloat(d),y=p==="string"&&o.charAt(1)==="="&&o.substr(0,2),y&&(o=o.substr(2)),c=parseFloat(o),h in ye&&(h==="autoAlpha"&&(f===1&&Te(t,"visibility")==="hidden"&&c&&(f=0),F.push("visibility",0,r.visibility),Ue(this,r,"visibility",f?"inherit":"hidden",c?"inherit":"hidden",!c)),h!=="scale"&&h!=="transform"&&(h=ye[h],~h.indexOf(",")&&(h=h.split(",")[0]))),T=h in Me,T){if(this.styles.save(h),S||(_=t._gsap,_.renderTransform&&!i.parseTransform||Ii(t,i.parseTransform),b=i.smoothOrigin!==!1&&_.smooth,S=this._pt=new Qt(this._pt,r,wt,0,1,_.renderTransform,_,0,-1),S.dep=1),h==="scale")this._pt=new Qt(this._pt,_,"scaleY",_.scaleY,(y?Ke(_.scaleY,y+c):c)-_.scaleY||0,ds),this._pt.u=0,a.push("scaleY",h),h+="X";else if(h==="transformOrigin"){F.push(re,0,r[re]),o=qo(o),_.svg?ps(t,o,0,b,0,this):(x=parseFloat(o.split(" ")[2])||0,x!==_.zOrigin&&Ue(this,_,"zOrigin",_.zOrigin,x),Ue(this,r,h,hn(d),hn(o)));continue}else if(h==="svgOrigin"){ps(t,o,1,b,0,this);continue}else if(h in na){Ko(this,_,h,f,y?Ke(f,y+o):o);continue}else if(h==="smoothOrigin"){Ue(this,_,"smooth",_.smooth,o);continue}else if(h==="force3D"){_[h]=o;continue}else if(h==="transform"){Qo(this,o,t);continue}}else h in r||(h=_i(h)||h);if(T||(c||c===0)&&(f||f===0)&&!Ro.test(o)&&h in r)m=(d+"").substr((f+"").length),c||(c=0),x=zt(o)||(h in se.units?se.units[h]:m),m!==x&&(f=je(t,h,d,x)),this._pt=new Qt(this._pt,T?_:r,h,f,(y?Ke(f,y+c):c)-f,!T&&(x==="px"||h==="zIndex")&&i.autoRound!==!1?Do:ds),this._pt.u=x||0,m!==x&&x!=="%"&&(this._pt.b=d,this._pt.r=Fo);else if(h in r)Go.call(this,t,h,d,y?y+o:o);else if(h in t)this.add(t,h,d||t[h],y?y+o:o,n,s);else if(h!=="parseTransform"){sn(h,o);continue}T||(h in r?F.push(h,0,r[h]):F.push(h,1,d||t[h])),a.push(h)}}C&&ls(this)},render:function(t,i){if(i.tween._time||!ms())for(var e=i._pt;e;)e.r(t,e.d),e=e._next;else i.styles.revert()},get:Te,aliases:ye,getSetter:function(t,i,e){var n=ye[i];return n&&n.indexOf(",")<0&&(i=n),i in Me&&i!==re&&(t._gsap.x||Te(t,"x"))?e&&Wr===e?i==="scale"?Vo:Bo:(Wr=e||{})&&(i==="scale"?Uo:jo):t.style&&!nn(t.style[i])?Io:~i.indexOf("-")?No:ln(t,i)},core:{_removeProperty:ii,_getMatrix:bs}};qt.utils.checkPrefix=_i;qt.core.getStyleSaver=Zr;(function(A,t,i,e){var n=Kt(A+","+t+","+i,function(s){Me[s]=1});Kt(t,function(s){se.units[s]="deg",na[s]=1}),ye[n[13]]=A+","+t,Kt(e,function(s){var a=s.split(":");ye[a[1]]=n[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Kt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(A){se.units[A]="px"});qt.registerPlugin(ys);var Ni=qt.registerPlugin(ys)||qt,Gl=Ni.core.Tween;var bi=(()=>{let t=class t{constructor(){this.menuItems=[{title:"Home",url:"/portfolio/home"},{title:"Projects",url:"/portfolio/projects"},{title:"Resume",url:"/portfolio/resume"}],this.resumeEnPath="/assets/resume/DanielCobos-Resume(en).pdf",this.resumeEsPath="/assets/resume/DanielCobos-Resume(es).pdf"}getMenuItems(){return this.menuItems}getResumeEnPath(){return this.resumeEnPath}getResumeEsPath(){return this.resumeEsPath}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ws({token:t,factory:t.\u0275fac,providedIn:"root"});let A=t;return A})();var aa=(A,t)=>t.title,tl=A=>[A],el=(A,t,i,e,n)=>({"text-white":A,"from-white":t,"to-white":i,"from-black":e,"to-black":n});function il(A,t){if(A&1&&(at(0,"a",11)(1,"span",12),ht(2),ot()()),A&2){let i=t.$implicit,e=He();It("routerLink",vn(3,tl,i.url)),Dt(),It("ngClass",Vs(5,el,e.textWhite,e.textWhite,e.textWhite,!e.textWhite,!e.textWhite)),Dt(),yn(" ",i.title," ")}}function nl(A,t){if(A&1){let i=Fs();at(0,"a",14),xe("click",function(){Ts(i);let n=He(2);return Ms(n.toggleMobileMenu())}),ht(1),ot()}if(A&2){let i=t.$implicit;It("routerLink",i.url),Dt(),yn(" ",i.title," ")}}function sl(A,t){if(A&1&&(mn(),ks(),at(0,"div",13),_n(1,nl,2,2,"a",15,aa),ot()),A&2){let i=He();Dt(),bn(i.menuItems)}}var rl=()=>["/routePath"],al=A=>({"text-white":A}),yi=(()=>{let t=class t{constructor(e){this.portfolioService=e,this.showMobileMenu=!1,this.navHidden=!1,this.lastScrollPosition=0,this.textWhite=!1,this.menuItems=this.portfolioService.getMenuItems()}ngAfterViewInit(){this.updateNavbarColor()}onWindowScroll(e){let n=window.pageYOffset;n<this.lastScrollPosition?this.navHidden=!1:(this.navHidden=!0,this.showMobileMenu=!1),this.lastScrollPosition=n,Ni.to("#navbar",{duration:.5,y:this.navHidden?-100:0}),this.updateNavbarColor()}toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu,this.updateNavbarColor()}updateNavbarColor(){let e=document.getElementById("navbar");if(e)if(this.showMobileMenu)Ni.to(e,{backgroundColor:"rgba(50, 50, 50, 0.8)",color:"white",duration:.5});else{let n=e.offsetHeight+10,s=window.pageYOffset;Ni.to(e,{backgroundColor:s>n?"rgba(50, 50, 50, 0.8)":"transparent",color:s>n?"white":"black",duration:.5})}}};t.\u0275fac=function(n){return new(n||t)(Se(bi))},t.\u0275cmp=Zt({type:t,selectors:[["portfolio-nav-bar"]],hostBindings:function(n,s){n&1&&xe("scroll",function(r){return s.onWindowScroll(r)},!1,ji)},inputs:{textWhite:"textWhite"},decls:14,vars:6,consts:[["id","navbar",1,"fixed","z-50","font-[Italiana]","bg-transparent","backdrop-blur-[1px]","drop-shadow","text-2xl","md:text-2xl","lg:text-3xl"],[1,"w-screen"],[1,"flex","justify-between","items-center","w-[90%]","ml-[5%]","mr-[5%]","my-4"],[1,"flex"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"hidden","md:flex","w-[40%]","justify-between"],[1,"md:hidden","flex","items-center","hover:text-gray-400","px-2",3,"ngClass"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"],["id","mobileMenu","class","mobileMenu md:hidden w-full"],[1,"group","transition-all","duration-300","ease-in-out",3,"routerLink"],["routerLinkActive","bg-[length:100%_2px]",1,"bg-left-bottom","bg-gradient-to-r","bg-[length:0%_2px]","bg-no-repeat","group-hover:bg-[length:100%_2px]","transition-all","duration-500","ease-out","mix-blend-difference",3,"ngClass"],["id","mobileMenu",1,"mobileMenu","md:hidden","w-full"],[1,"block","py-4","text-center","text-white","hover:text-gray-400",3,"routerLink","click"],["class","block py-4 text-center text-white hover:text-gray-400",3,"routerLink"],["class","group transition-all duration-300 ease-in-out",3,"routerLink"]],template:function(n,s){n&1&&(at(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),ht(5," Daniel Cobos "),ot()(),at(6,"div",5),_n(7,il,3,11,"a",16,aa),ot(),at(9,"div",6)(10,"button",7),xe("click",function(){return s.toggleMobileMenu()}),mn(),at(11,"svg",8),ft(12,"path",9),ot()()()(),Wi(13,sl,3,0,"div",10),ot()()),n&2&&(Dt(4),It("routerLink",Bs(3,rl)),Dt(3),bn(s.menuItems),Dt(2),It("ngClass",vn(4,al,s.textWhite)),Dt(4),zi(13,s.showMobileMenu?13:-1))},dependencies:[Hi,Ws,zs]});let A=t;return A})();var oa=(()=>{let t=class t{constructor(){this.quotes=[{author:"",content:""}]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zt({type:t,selectors:[["ng-component"]],decls:144,vars:1,consts:[[3,"textWhite"],[1,"home-background","font-[Michroma]","pb-10","md:pb-14"],[1,"container","mx-auto"],[1,"text-5xl","sm:text-6xl","md:flex"],[1,"pt-20","md:w-1/2","md:pt-48"],[1,"w-[80%]","mx-[10%]","text-center","text-white","md:w-[100%]","md:mx-[0%]","lg:text-start"],[1,"lg:ml-6"],[1,"mb-10","mix-blend-difference"],[1,"xl:ml-20"],[1,"mix-blend-difference"],[1,"daniel-bg"],[1,"hidden","font-[Montserrat]","md:flex","italic","md:ml-4","text-white","mix-blend-difference","border","border-white","text-2xl","mt-12","xl:mt-16","w-[80%]","mx-[10%]","lg:w-[90%]","lg:mx-[0%]","lg:mr-[10%]"],[1,"p-3"],[1,"font-bold"],[1,"text-end"],[1,"w-[90%]","mx-[5%]","sm:w-[80%]","sm:mx-[10%]","md:mx-0","md:w-1/2","md:pt-28"],["srcset","assets/dcPhoto.png","alt","Developer Photo",1,"border-2","border-white","mt-4","shadow-sm","rounded-full","md:w-[64%]","md:mx-[18%]"],[1,"text-white","mix-blend-difference","text-center","mt-10","md:mt-12","md:text-5xl"],[1,"bg-black","p-2"],[1,"bg-[#E9E9E9]","font-[Montserrat]","pt-12","pb-16"],[1,"text-center","font-bold","text-4xl"],[1,"border-2","border-black","py-2","px-6"],[1,"w-fit","md:w-[80%]","mx-auto","mt-12"],[1,"mt-12"],[1,"text-center","md:text-left","text-xl","font-bold"],[1,"flex","flex-wrap","justify-center","gap-2","md:gap-6","mt-6"],[1,"w-36","md:w-48"],[1,"w-24","mx-auto"],["src","/assets/icons/html5.svg","alt","HTML Icon"],[1,"text-center","text-lg","mt-4"],["src","/assets/icons/css3.svg","alt","CSS Icon"],["src","/assets/icons/javascript.svg","alt","JavaScript Icon"],["src","/assets/icons/typescript.svg","alt","TypeScript Icon"],["src","/assets/icons/python.svg","alt","Python Icon"],["src","/assets/icons/java.svg","alt","Java Icon"],["src","/assets/icons/angular.svg","alt","Angular Icon"],["src","/assets/icons/nodejs.svg","alt","NodeJs Icon"],["src","/assets/icons/jest.svg","alt","Jest Icon"],["src","/assets/icons/tailwind.svg","alt","Tailwind Icon"],["src","/assets/icons/bootstrap.svg","alt","Bootstrap Icon"],["src","/assets/icons/sql.svg","alt","Sql Icon"],["src","/assets/icons/mongo.svg","alt","Mongo Icon"],["src","/assets/icons/git.svg","alt","Git Icon"],["src","/assets/icons/docker.svg","alt","Docker Icon"],[1,"text-xl","text-center","md:text-left","font-bold"],["src","/assets/icons/spanish.svg","alt","Spanish Flag Icon"],["src","/assets/icons/english.svg","alt","USA Flag Icon"],["src","/assets/icons/jira.svg","alt","Jira Icon"],["src","/assets/icons/scrum.svg","alt","Agile framework Icon"],["src","/assets/icons/linux.svg","alt","Linux Icon"],["src","/assets/icons/postman.svg","alt","Postman Icon"]],template:function(n,s){n&1&&(ft(0,"portfolio-nav-bar",0),at(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),ht(8,"Hi there,"),ot(),at(9,"div",8)(10,"span",9),ht(11,"I'm "),ot(),at(12,"span",10),ht(13,"Daniel"),ot()()()(),at(14,"div",11)(15,"div",12),ht(16," The only way to be truly satisfied is to do what you belive is "),at(17,"span",13),ht(18,"great work."),ot(),at(19,"div",14),ht(20,"-Steve Jobs"),ot()()()(),at(21,"div",15),ft(22,"img",16),at(23,"h1",17),ht(24," Front-End developer "),ot()()()()(),ft(25,"div",18),at(26,"div",19)(27,"div",20)(28,"span",21),ht(29,"SKILLS"),ot()(),at(30,"div",22)(31,"div",23)(32,"div",24),ht(33,"USING NOW:"),ot(),at(34,"div",25)(35,"div",26)(36,"div",27),ft(37,"img",28),ot(),at(38,"div",29),ht(39,"HTML 5"),ot()(),at(40,"div",26)(41,"div",27),ft(42,"img",30),ot(),at(43,"div",29),ht(44,"CSS 3"),ot()(),at(45,"div",26)(46,"div",27),ft(47,"img",31),ot(),at(48,"div",29),ht(49,"JavaScript"),ot()(),at(50,"div",26)(51,"div",27),ft(52,"img",32),ot(),at(53,"div",29),ht(54,"TypeScript"),ot()(),at(55,"div",26)(56,"div",27),ft(57,"img",33),ot(),at(58,"div",29),ht(59,"Python"),ot()(),at(60,"div",26)(61,"div",27),ft(62,"img",34),ot(),at(63,"div",29),ht(64,"Java"),ot()(),at(65,"div",26)(66,"div",27),ft(67,"img",35),ot(),at(68,"div",29),ht(69,"Angular"),ot()(),at(70,"div",26)(71,"div",27),ft(72,"img",36),ot(),at(73,"div",29),ht(74,"NodeJs"),ot()(),at(75,"div",26)(76,"div",27),ft(77,"img",37),ot(),at(78,"div",29),ht(79,"Jest"),ot()(),at(80,"div",26)(81,"div",27),ft(82,"img",38),ot(),at(83,"div",29),ht(84,"Tailwind"),ot()(),at(85,"div",26)(86,"div",27),ft(87,"img",39),ot(),at(88,"div",29),ht(89,"Bootstrap"),ot()(),at(90,"div",26)(91,"div",27),ft(92,"img",40),ot(),at(93,"div",29),ht(94,"PostgreSQL"),ot()(),at(95,"div",26)(96,"div",27),ft(97,"img",41),ot(),at(98,"div",29),ht(99,"Mongo"),ot()(),at(100,"div",26)(101,"div",27),ft(102,"img",42),ot(),at(103,"div",29),ht(104,"Git"),ot()(),at(105,"div",26)(106,"div",27),ft(107,"img",43),ot(),at(108,"div",29),ht(109,"Docker"),ot()()()(),at(110,"div",23)(111,"div",44),ht(112,"OTHER SKILLS:"),ot(),at(113,"div",25)(114,"div",26)(115,"div",27),ft(116,"img",45),ot(),at(117,"div",29),ht(118,"Spanish - Native"),ot()(),at(119,"div",26)(120,"div",27),ft(121,"img",46),ot(),at(122,"div",29),ht(123,"English - Advanced"),ot()(),at(124,"div",26)(125,"div",27),ft(126,"img",47),ot(),at(127,"div",29),ht(128,"Jira"),ot()(),at(129,"div",26)(130,"div",27),ft(131,"img",48),ot(),at(132,"div",29),ht(133,"Scrum"),ot()(),at(134,"div",26)(135,"div",27),ft(136,"img",49),ot(),at(137,"div",29),ht(138,"Linux"),ot()(),at(139,"div",26)(140,"div",27),ft(141,"img",50),ot(),at(142,"div",29),ht(143,"Postman"),ot()()()()()()),n&2&&It("textWhite",!0)},dependencies:[yi],styles:[".home-background[_ngcontent-%COMP%]{min-height:100vh;width:100vw;background:linear-gradient(100deg,#e9e9e9,#e9e9e9 48.9%,#000 49%,#000)}.daniel-bg[_ngcontent-%COMP%]{background-image:url(/assets/greenBackground.jpg);background-repeat:repeat;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-webkit-font-smoothing:antialiased}"]});let A=t;return A})();var la=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zt({type:t,selectors:[["app-layout-page"]],decls:1,vars:0,template:function(n,s){n&1&&ft(0,"router-outlet")},dependencies:[js]});let A=t;return A})();var ca=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zt({type:t,selectors:[["ng-component"]],decls:73,vars:0,consts:[[1,"font-[Michroma]"],[1,"container","mx-auto"],[1,"text-5xl","sm:text-6xl","md:flex"],[1,"pt-20","pl-0","md:pl-16","md:w-1/2","md:pt-40"],[1,"w-[80%]","mx-[10%]","text-center","md:w-[100%]","md:mx-auto","lg:text-start"],[1,"lg:ml-6"],[1,"mb-0","lg:mb-8"],[1,"inline","lg:hidden"],[1,"text-center","md:text-end"],[1,"hidden","lg:inline"],[1,"daniel-bg"],[1,"flex","md:hidden","lg:flex","font-[Montserrat]","italic","text-xl","mt-12","xl:mt-16","w-[80%]","mx-[10%]","md:w-[100%]","md:mx-auto"],[1,"text-justify"],[1,"w-[90%]","mx-[5%]","sm:w-[80%]","sm:mx-[10%]","md:mx-0","md:w-1/2","md:pt-24"],["srcset","/assets/icons/rocket.svg","alt","Developer Photo",1,"mt-4","md:w-[80%]","md:mx-auto"],[1,"hidden","md:flex","px-8","lg:hidden","font-[Montserrat]","italic","text-xl","mt-12","xl:mt-16","w-[80%]","mx-[10%]","md:w-[100%]","md:mx-auto"],[1,"bg-gradient-to-b","from-white","to-[#E9E9E9]","font-[Montserrat]","pt-12","pb-16"],["id","RecentWork",1,"text-center","font-bold","text-4xl"],[1,"border-2","border-black","py-2","px-6"],[1,"w-fit","md:w-[90%]","mx-auto","mt-12"],[1,"flex","flex-wrap","justify-center","gap-2","md:gap-6","mt-6"],["id","IoT-Agile",1,"bg-white","max-w-sm","lg:max-w-md","shadow-md","rounded-lg","p-4","m-4"],[1,"mx-auto","rounded-lg","overflow-hidden"],["src","/assets/projects/iotagile.png","alt","IoT Agile project"],[1,"text-center"],[1,"text-xl","lg:text-2xl","font-bold","mt-6"],[1,"pt-2","text-gray-600","text-justify"],[1,"flex","justify-center","gap-4","pt-4"],["href","https://github.com/danny2768/IoT-Agile","target","_blank",1,"bg-gradient-to-tr","from-[#003EFF]","to-[#4EC1F3]","text-white","font-bold","py-2","px-4","rounded"],["href","https://www.iot-agile.com","target","_blank",1,"bg-gradient-to-tl","from-[#003EFF]","to-[#4EC1F3]","text-white","font-bold","py-2","px-4","rounded"],["id","Tu-Home",1,"bg-white","max-w-sm","lg:max-w-md","shadow-md","rounded-lg","p-4","m-4"],["src","/assets/projects/tuhome.png","alt","Tu-Home project"],["href","https://github.com/danny2768/Tu-Home-AdminFront","target","_blank",1,"bg-gradient-to-tr","from-[#003EFF]","to-[#4EC1F3]","text-white","font-bold","py-2","px-4","rounded"],["href","https://mellow-cupcake-948cc5.netlify.app","target","_blank",1,"bg-gradient-to-tl","from-[#003EFF]","to-[#4EC1F3]","text-white","font-bold","py-2","px-4","rounded"],["href","https://youtu.be/bER_5C0LNZ8?feature=shared","target","_blank",1,"bg-gradient-to-tl","from-[#003EFF]","to-[#4EC1F3]","text-white","font-bold","py-2","px-4","rounded"],["id","Tracking-UIS",1,"bg-white","max-w-sm","lg:max-w-md","shadow-md","rounded-lg","p-4","m-4"],["src","/assets/projects/trackinguis.png","alt","TrackingUIS project"],["href","https://github.com/danny2768/TrackingUIS","target","_blank",1,"bg-gradient-to-tr","from-[#003EFF]","to-[#4EC1F3]","text-white","font-bold","py-2","px-4","rounded"],["href","https://bejewelled-conkies-244139.netlify.app/home","target","_blank",1,"bg-gradient-to-tl","from-[#003EFF]","to-[#4EC1F3]","text-white","font-bold","py-2","px-4","rounded"],["href","https://youtu.be/KRqTKAYwkEs?si=8WvcJo_jaDoUFmiy","target","_blank",1,"bg-gradient-to-tl","from-[#003EFF]","to-[#4EC1F3]","text-white","font-bold","py-2","px-4","rounded"]],template:function(n,s){n&1&&(ft(0,"portfolio-nav-bar"),at(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h1",6),ht(8,"Welcome to "),at(9,"span",7),ht(10,"my "),ot()(),at(11,"div",8)(12,"span",9),ht(13,"my "),ot(),at(14,"span",10),ht(15,"projects"),ot()()()(),at(16,"div",11)(17,"div",12),ht(18," Explore my portfolio showcasing frontend development expertise, encompassing responsive designs, intuitive user interfaces, and dynamic web applications enriched with API integrations for real-time data retrieval and interactive map functionalities. "),ot()()(),at(19,"div",13),ft(20,"img",14),ot()(),at(21,"div",15)(22,"div",12),ht(23," Explore my portfolio showcasing frontend development expertise, encompassing responsive designs, intuitive user interfaces, and dynamic web applications enriched with API integrations for real-time data retrieval and interactive map functionalities. "),ot()()(),at(24,"div",16)(25,"div",17)(26,"span",18),ht(27,"RECENT WORK"),ot()(),at(28,"div",19)(29,"div",20)(30,"div",21)(31,"div",22),ft(32,"img",23),ot(),at(33,"div",24)(34,"div",25),ht(35,"IoT Agile"),ot(),at(36,"div",26),ht(37," Utilizing Angular and Tailwind CSS, this project exemplifies a harmonious fusion of robust functionality and modern aesthetics. With its seamless navigation and responsive design, users can effortlessly engage with the company's offerings across various devices. "),ot(),at(38,"div",27)(39,"a",28),ht(40,"Github"),ot(),at(41,"a",29),ht(42,"Demo"),ot()()()(),at(43,"div",30)(44,"div",22),ft(45,"img",31),ot(),at(46,"div",24)(47,"div",25),ht(48,"Tu-Home"),ot(),at(49,"div",26),ht(50," Designed with Angular and Bootstrap, this project revolutionizes real estate management by providing comprehensive oversight of every aspect, from users to properties to contracts. Seamlessly interfacing with a backend powered by Spring Boot, the website elegantly presents data in a visually captivating manner. "),ot(),at(51,"div",27)(52,"a",32),ht(53,"Github"),ot(),at(54,"a",33),ht(55,"Demo"),ot(),at(56,"a",34),ht(57,"Video"),ot()()()(),at(58,"div",35)(59,"div",22),ft(60,"img",36),ot(),at(61,"div",24)(62,"div",25),ht(63,"TrackingUIS"),ot(),at(64,"div",26),ht(65," Powered by Angular and Bootstrap, this project seamlessly integrates with Mapbox to provide real-time tracking of university buses within the campus. Leveraging data from a Firebase Realtime Database, users can conveniently monitor bus locations, ensuring efficient transportation across the campus. Experience enhanced connectivity and navigation with this dynamic web solution. "),ot(),at(66,"div",27)(67,"a",37),ht(68,"Github"),ot(),at(69,"a",38),ht(70,"Demo"),ot(),at(71,"a",39),ht(72,"Video"),ot()()()()()()()())},dependencies:[yi],styles:[".daniel-bg[_ngcontent-%COMP%]{background-image:url(/assets/greenBackground.jpg);background-repeat:repeat;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-webkit-font-smoothing:antialiased}"]});let A=t;return A})();var ha=(()=>{let t=class t{constructor(e){this.portfolioService=e,this.zoomSize=1,this.heightVh="height: 175vh;",this.pdfSrcEn=this.portfolioService.getResumeEnPath(),this.pdfSrcEs=this.portfolioService.getResumeEsPath(),this.getScreenSize()}getScreenSize(e){this.screenHeight=window.innerHeight,this.screenWidth=window.innerWidth,this.screenWidth<768?(this.zoomSize=.5,this.heightVh="height: 62vh;"):this.screenWidth<1024?this.zoomSize=.8:this.screenWidth>=1024?this.zoomSize=1:this.zoomSize=1}};t.\u0275fac=function(n){return new(n||t)(Se(bi))},t.\u0275cmp=Zt({type:t,selectors:[["portfolio-resume-pdf"]],hostBindings:function(n,s){n&1&&xe("resize",function(r){return s.getScreenSize(r)},!1,ji)},inputs:{LanguageEnglish:"LanguageEnglish"},decls:1,vars:14,consts:[[1,"!w-[85vw]","md:!w-[85vw]","lg:!w-[78vw]","xl:!w-[65vw]","2xl:!w-[55vw]","h-auto","!mb-6","!block","!my-0","!mx-auto",3,"src","original-size","render-text","rotation","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","external-link-target","autoresize","show-borders"]],template:function(n,s){n&1&&ft(0,"pdf-viewer",0),n&2&&(Os(s.heightVh),It("src",s.LanguageEnglish?s.pdfSrcEn:s.pdfSrcEs)("original-size",!0)("render-text",!0)("rotation",0)("show-all",!0)("fit-to-page",!1)("zoom",s.zoomSize)("zoom-scale","page-width")("stick-to-page",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!0))},dependencies:[Js],encapsulation:2});let A=t;return A})();function ll(A,t){if(A&1&&(at(0,"div",6)(1,"div",7),ft(2,"shared-download-button",8),ot(),ft(3,"portfolio-resume-pdf",9),at(4,"div",10),ft(5,"shared-download-button",8),ot()()),A&2){let i=He();Dt(2),It("filePath",i.resumeEnPath),Dt(),It("LanguageEnglish",!0),Dt(2),It("filePath",i.resumeEnPath)}}function cl(A,t){if(A&1&&(at(0,"div",6)(1,"div",7),ft(2,"shared-download-button",8),ot(),ft(3,"portfolio-resume-pdf",9),at(4,"div",10),ft(5,"shared-download-button",8),ot()()),A&2){let i=He();Dt(2),It("filePath",i.resumeEsPath),Dt(),It("LanguageEnglish",!1),Dt(2),It("filePath",i.resumeEsPath)}}var da=(A,t)=>({"border-blue-500":A,"border-gray-500":t}),ua=(()=>{let t=class t{constructor(e){this.portfolioService=e,this.resumeEn=!0,this.resumeEnPath=this.portfolioService.getResumeEnPath(),this.resumeEsPath=this.portfolioService.getResumeEsPath()}};t.\u0275fac=function(n){return new(n||t)(Se(bi))},t.\u0275cmp=Zt({type:t,selectors:[["ng-component"]],decls:12,vars:9,consts:[[1,"bg-[#E9E9E9]","pt-20"],[1,"w-[80%]","mx-auto","flex","justify-center","gap-12","my-6","text-neutral-500","font-medium"],[1,"pb-1","border-b-2","hover:text-neutral-600",3,"ngClass"],[3,"click"],[1,"flex","justify-center"],["class","py-2"],[1,"py-2"],[1,"flex","justify-center","mb-4"],[3,"filePath"],[3,"LanguageEnglish"],[1,"flex","justify-center","mb-12"]],template:function(n,s){n&1&&(ft(0,"portfolio-nav-bar"),at(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),xe("click",function(){return s.resumeEn=!0}),ht(5,"Resume - English"),ot()(),at(6,"div",2)(7,"button",3),xe("click",function(){return s.resumeEn=!1}),ht(8,"Resume - Spanish"),ot()()(),at(9,"div",4),Wi(10,ll,6,3,"div",5)(11,cl,6,3),ot()()),n&2&&(Dt(3),It("ngClass",An(3,da,s.resumeEn,!s.resumeEn)),Dt(3),It("ngClass",An(6,da,!s.resumeEn,s.resumeEn)),Dt(4),zi(10,s.resumeEn?10:11))},dependencies:[Hi,Hs,yi,ha]});let A=t;return A})();var hl=[{path:"",component:la,children:[{path:"home",component:oa},{path:"projects",component:ca},{path:"resume",component:ua},{path:"**",redirectTo:"home"}]}],fa=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=oi({type:t}),t.\u0275inj=ai({imports:[Sn.forChild(hl),Sn]});let A=t;return A})();var xc=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=oi({type:t}),t.\u0275inj=ai({imports:[Us,fa,Zs,Gs]});let A=t;return A})();export{xc as PortfolioModule};
